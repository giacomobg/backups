var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function o(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function u(t,n,e){t.$$.on_destroy.push(a(n,e))}function s(t,n,e,r){if(t){const i=c(t,n,e,r);return t[0](i)}}function c(t,n,e,r){return t[1]&&r?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](r(n))):e.ctx}function l(t,n,e,r){if(t[2]&&r){const i=t[2](r(e));if(void 0===n.dirty)return i;if("object"==typeof i){const t=[],e=Math.max(n.dirty.length,i.length);for(let r=0;r<e;r+=1)t[r]=n.dirty[r]|i[r];return t}return n.dirty|i}return n.dirty}function f(t,n,e,r,i,o){if(i){const a=c(n,e,r,o);t.p(a,i)}}function h(t){if(t.ctx.length>32){const n=[],e=t.ctx.length/32;for(let t=0;t<e;t++)n[t]=-1;return n}return-1}function d(t){return null==t?"":t}function p(t,n){t.appendChild(n)}function g(t,n,e){t.insertBefore(n,e||null)}function m(t){t.parentNode.removeChild(t)}function y(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function v(t){return document.createElement(t)}function $(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function x(t){return document.createTextNode(t)}function w(){return x(" ")}function b(){return x("")}function k(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function M(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function S(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function E(t,n){t.value=null==n?"":n}function N(t,n,e,r){t.style.setProperty(n,e,r?"important":"")}let _,T;function C(){if(void 0===_){_=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){_=!0}}return _}function z(t,n,e){t.classList[e?"add":"remove"](n)}function R(t){T=t}function A(){if(!T)throw new Error("Function called outside component initialization");return T}function D(){const t=A();return(n,e)=>{const r=t.$$.callbacks[n];if(r){const i=function(t,n,e=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e,!1,n),r}(n,e);r.slice().forEach((n=>{n.call(t,i)}))}}}function P(t){return A().$$.context.get(t)}const j=[],L=[],O=[],q=[],W=Promise.resolve();let F=!1;function H(t){O.push(t)}let B=!1;const I=new Set;function G(){if(!B){B=!0;do{for(let t=0;t<j.length;t+=1){const n=j[t];R(n),Y(n.$$)}for(R(null),j.length=0;L.length;)L.pop()();for(let t=0;t<O.length;t+=1){const n=O[t];I.has(n)||(I.add(n),n())}O.length=0}while(j.length);for(;q.length;)q.pop()();F=!1,B=!1,I.clear()}}function Y(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(H)}}const K=new Set;let U;function Z(){U={r:0,c:[],p:U}}function X(){U.r||r(U.c),U=U.p}function V(t,n){t&&t.i&&(K.delete(t),t.i(n))}function J(t,n,e,r){if(t&&t.o){if(K.has(t))return;K.add(t),U.c.push((()=>{K.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function Q(t){t&&t.c()}function tt(t,e,o,a){const{fragment:u,on_mount:s,on_destroy:c,after_update:l}=t.$$;u&&u.m(e,o),a||H((()=>{const e=s.map(n).filter(i);c?c.push(...e):r(e),t.$$.on_mount=[]})),l.forEach(H)}function nt(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function et(t,n){-1===t.$$.dirty[0]&&(j.push(t),F||(F=!0,W.then(G)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function rt(n,i,o,a,u,s,c,l=[-1]){const f=T;R(n);const h=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(f?f.$$.context:i.context||[]),callbacks:e(),dirty:l,skip_bound:!1,root:i.target||f.$$.root};c&&c(h.root);let d=!1;if(h.ctx=o?o(n,i.props||{},((t,e,...r)=>{const i=r.length?r[0]:e;return h.ctx&&u(h.ctx[t],h.ctx[t]=i)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](i),d&&et(n,t)),e})):[],h.update(),d=!0,r(h.before_update),h.fragment=!!a&&a(h.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);h.fragment&&h.fragment.l(t),t.forEach(m)}else h.fragment&&h.fragment.c();i.intro&&V(n.$$.fragment),tt(n,i.target,i.anchor,i.customElement),G()}R(f)}class it{$destroy(){nt(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}var ot={},at={};function ut(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function st(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function ct(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function lt(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+ct(-n,6):n>9999?"+"+ct(n,6):ct(n,4))+"-"+ct(t.getUTCMonth()+1,2)+"-"+ct(t.getUTCDate(),2)+(o?"T"+ct(e,2)+":"+ct(r,2)+":"+ct(i,2)+"."+ct(o,3)+"Z":i?"T"+ct(e,2)+":"+ct(r,2)+":"+ct(i,2)+"Z":r||e?"T"+ct(e,2)+":"+ct(r,2)+"Z":"")}var ft=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,a=0,u=0,s=o<=0,c=!1;function l(){if(s)return at;if(c)return c=!1,ot;var n,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(n=a)>=o?s=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,n-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(n=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==e)continue;return t.slice(i,n)}return s=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=l())!==at;){for(var f=[];r!==ot&&r!==at;)f.push(r),r=l();n&&null==(f=n(f,u++))||i.push(f)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return a(n[t])})).join(t)}))}function o(n){return n.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?lt(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=ut(t);return function(r,i){return n(e(r),i,t)}}(t,n):ut(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=st(n)),[e.map(a).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=st(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}(","),ht=ft.parse;function dt(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function pt(t){return(t=dt(Math.abs(t)))?t[1]:NaN}var gt,mt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yt(t){if(!(n=mt.exec(t)))throw new Error("invalid format: "+t);var n;return new vt({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function vt(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function $t(t,n){var e=dt(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}yt.prototype=vt.prototype,vt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var xt={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>$t(100*t,n),r:$t,s:function(t,n){var e=dt(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(gt=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+dt(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wt(t){return t}var bt,kt,Mt,St=Array.prototype.map,Et=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Nt(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?wt:(n=St.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?wt:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(St.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=yt(t)).fill,e=t.align,f=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):xt[v]||(void 0===m&&(m=12),y=!0,v="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var $="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?o:/[%p]/.test(v)?s:"",w=xt[v],b=/[defgprs%]/.test(v);function k(t){var i,o,s,h=$,k=x;if("c"===v)k=w(t)+k,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:w(Math.abs(t),m),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),h=(M?"("===f?f:c:"-"===f||"("===f?"":f)+h,k=("s"===v?Et[8+gt/3]:"")+k+(M&&"("===f?")":""),b)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){k=(46===s?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var S=h.length+t.length+k.length,E=S<p?new Array(p-S+1).join(n):"";switch(g&&d&&(t=r(E+t,E.length?p-k.length:1/0),E=""),e){case"<":t=h+t+k+E;break;case"=":t=h+E+t+k;break;case"^":t=E.slice(0,S=E.length>>1)+h+t+k+E.slice(S);break;default:t=E+h+t+k}return u(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:f,formatPrefix:function(t,n){var e=f(((t=yt(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(pt(n)/3))),i=Math.pow(10,-r),o=Et[8+r/3];return function(t){return e(i*t)+o}}}}function _t(t){return t}function Tt(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=function(t,n){var e=function(t){if(null==t)return _t;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,u){u||(n=e=0);var s=2,c=t.length,l=new Array(c);for(l[0]=(n+=t[0])*r+o,l[1]=(e+=t[1])*i+a;s<c;)l[s]=t[s],++s;return l}}(t.transform),r=t.arcs;function i(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)n.push(e(i[o],o));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,a)}function o(t){return e(t)}function a(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function u(t){for(var n=a(t);n.length<4;)n.push(n[0]);return n}function s(t){return t.map(u)}function c(t){var n,e=t.type;switch(e){case"GeometryCollection":return{type:e,geometries:t.geometries.map(c)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=a(t.arcs);break;case"MultiLineString":n=t.arcs.map(a);break;case"Polygon":n=s(t.arcs);break;case"MultiPolygon":n=t.arcs.map(s);break;default:return null}return{type:e,coordinates:n}}return c(n)}(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}bt=Nt({thousands:",",grouping:[3],currency:["$",""]}),kt=bt.format,Mt=bt.formatPrefix;var Ct=1e-6;function zt(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Rt(t){let n=t,e=t;function r(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r}return 1===t.length&&(n=(n,e)=>t(n)-e,e=function(t){return(n,e)=>zt(t(n),e)}(t)),{left:r,center:function(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,e,i,o-1);return a>i&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}const At=Rt(zt).right;Rt((function(t){return null===t?NaN:+t})).center;var Dt=At;class Pt{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}var jt=Math.sqrt(50),Lt=Math.sqrt(10),Ot=Math.sqrt(2);function qt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=jt?10:o>=Lt?5:o>=Ot?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=jt?10:o>=Lt?5:o>=Ot?2:1)}function Wt(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function Ft(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o}var Ht=1e-6,Bt=Math.PI,It=Bt/2,Gt=Bt/4,Yt=2*Bt,Kt=180/Bt,Ut=Bt/180,Zt=Math.abs,Xt=Math.atan,Vt=Math.atan2,Jt=Math.cos,Qt=Math.sin,tn=Math.sign||function(t){return t>0?1:t<0?-1:0},nn=Math.sqrt;function en(t){return t>1?It:t<-1?-It:Math.asin(t)}function rn(){}function on(t,n){t&&un.hasOwnProperty(t.type)&&un[t.type](t,n)}var an={Feature:function(t,n){on(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)on(e[r].geometry,n)}},un={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){sn(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)sn(e[r],n,0)},Polygon:function(t,n){cn(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)cn(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)on(e[r],n)}};function sn(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function cn(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)sn(t[e],n,1);n.polygonEnd()}function ln(t,n){t&&an.hasOwnProperty(t.type)?an[t.type](t,n):on(t,n)}function fn(t){return[Vt(t[1],t[0]),en(t[2])]}function hn(t){var n=t[0],e=t[1],r=Jt(e);return[r*Jt(n),r*Qt(n),Qt(e)]}function dn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function pn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function gn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function mn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function yn(t){var n=nn(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function vn(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function $n(t,n){return[Zt(t)>Bt?t+Math.round(-t/Yt)*Yt:t,n]}function xn(t){return function(n,e){return[(n+=t)>Bt?n-Yt:n<-Bt?n+Yt:n,e]}}function wn(t){var n=xn(t);return n.invert=xn(-t),n}function bn(t,n){var e=Jt(t),r=Qt(t),i=Jt(n),o=Qt(n);function a(t,n){var a=Jt(n),u=Jt(t)*a,s=Qt(t)*a,c=Qt(n),l=c*e+u*r;return[Vt(s*i-l*o,u*e-c*r),en(l*i+s*o)]}return a.invert=function(t,n){var a=Jt(n),u=Jt(t)*a,s=Qt(t)*a,c=Qt(n),l=c*i-s*o;return[Vt(s*i+c*o,u*e+l*r),en(l*e-u*r)]},a}function kn(t,n){(n=hn(n))[0]-=t,yn(n);var e,r=(e=-n[1])>1?0:e<-1?Bt:Math.acos(e);return((-n[2]<0?-r:r)+Yt-Ht)%Yt}function Mn(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:rn,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function Sn(t,n){return Zt(t[0]-n[0])<Ht&&Zt(t[1]-n[1])<Ht}function En(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Nn(t,n,e,r,i){var o,a,u=[],s=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(Sn(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(e=new En(r,t,null,!0)),s.push(e.o=new En(r,null,e,!1)),u.push(e=new En(a,t,null,!1)),s.push(e.o=new En(a,null,e,!0))}})),u.length){for(s.sort(n),_n(u),_n(s),o=0,a=s.length;o<a;++o)s[o].e=e=!e;for(var c,l,f=u[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(c=h.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function _n(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function Tn(t){return Zt(t[0])<=Bt?t[0]:tn(t[0])*((Zt(t[0])+Bt)%Yt-Bt)}function Cn(t,n,e,r){return function(i){var o,a,u,s=n(i),c=Mn(),l=n(c),f=!1,h={point:d,lineStart:g,lineEnd:m,polygonStart:function(){h.point=y,h.lineStart=v,h.lineEnd=$,a=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=m,a=Wt(a);var t=function(t,n){var e=Tn(n),r=n[1],i=Qt(r),o=[Qt(e),-Jt(e),0],a=0,u=0,s=new Pt;1===i?r=It+Ht:-1===i&&(r=-It-Ht);for(var c=0,l=t.length;c<l;++c)if(h=(f=t[c]).length)for(var f,h,d=f[h-1],p=Tn(d),g=d[1]/2+Gt,m=Qt(g),y=Jt(g),v=0;v<h;++v,p=x,m=b,y=k,d=$){var $=f[v],x=Tn($),w=$[1]/2+Gt,b=Qt(w),k=Jt(w),M=x-p,S=M>=0?1:-1,E=S*M,N=E>Bt,_=m*b;if(s.add(Vt(_*S*Qt(E),y*k+_*Jt(E))),a+=N?M+S*Yt:M,N^p>=e^x>=e){var T=pn(hn(d),hn($));yn(T);var C=pn(o,T);yn(C);var z=(N^M>=0?-1:1)*en(C[2]);(r>z||r===z&&(T[0]||T[1]))&&(u+=N^M>=0?1:-1)}}return(a<-1e-6||a<Ht&&s<-1e-12)^1&u}(o,r);a.length?(f||(i.polygonStart(),f=!0),Nn(a,Rn,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){s.point(t,n)}function g(){h.point=p,s.lineStart()}function m(){h.point=d,s.lineEnd()}function y(t,n){u.push([t,n]),l.point(t,n)}function v(){l.lineStart(),u=[]}function $(){y(u[0][0],u[0][1]),l.lineEnd();var t,n,e,r,s=l.clean(),h=c.result(),d=h.length;if(u.pop(),o.push(u),u=null,d)if(1&s){if((n=(e=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&s&&h.push(h.pop().concat(h.shift())),a.push(h.filter(zn))}return h}}function zn(t){return t.length>1}function Rn(t,n){return((t=t.x)[0]<0?t[1]-It-Ht:It-t[1])-((n=n.x)[0]<0?n[1]-It-Ht:It-n[1])}$n.invert=$n;var An=Cn((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?Bt:-Bt,s=Zt(o-e);Zt(s-Bt)<Ht?(t.point(e,r=(r+a)/2>0?It:-It),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&s>=Bt&&(Zt(e-i)<Ht&&(e-=i*Ht),Zt(o-u)<Ht&&(o-=u*Ht),r=function(t,n,e,r){var i,o,a=Qt(t-e);return Zt(a)>Ht?Xt((Qt(n)*(o=Jt(r))*Qt(e)-Qt(r)*(i=Jt(n))*Qt(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*It,r.point(-Bt,i),r.point(0,i),r.point(Bt,i),r.point(Bt,0),r.point(Bt,-i),r.point(0,-i),r.point(-Bt,-i),r.point(-Bt,0),r.point(-Bt,i);else if(Zt(t[0]-n[0])>Ht){var o=t[0]<n[0]?Bt:-Bt;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-Bt,-It]);function Dn(t){var n=Jt(t),e=6*Ut,r=n>0,i=Zt(n)>Ht;function o(t,e){return Jt(t)*Jt(e)>n}function a(t,e,r){var i=[1,0,0],o=pn(hn(t),hn(e)),a=dn(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var c=n*a/s,l=-n*u/s,f=pn(i,o),h=mn(i,c);gn(h,mn(o,l));var d=f,p=dn(h,d),g=dn(d,d),m=p*p-g*(dn(h,h)-1);if(!(m<0)){var y=nn(m),v=mn(d,(-p-y)/g);if(gn(v,h),v=fn(v),!r)return v;var $,x=t[0],w=e[0],b=t[1],k=e[1];w<x&&($=x,x=w,w=$);var M=w-x,S=Zt(M-Bt)<Ht;if(!S&&k<b&&($=b,b=k,k=$),S||M<Ht?S?b+k>0^v[1]<(Zt(v[0]-x)<Ht?b:k):b<=v[1]&&v[1]<=k:M>Bt^(x<=v[0]&&v[0]<=w)){var E=mn(d,(-p+y)/g);return gn(E,h),[v,fn(E)]}}}function u(n,e){var i=r?t:Bt-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return Cn(o,(function(t){var n,e,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,h){var d,p=[f,h],g=o(f,h),m=r?g?0:u(f,h):g?u(f+(f<0?Bt:-Bt),h):0;if(!n&&(c=s=g)&&t.lineStart(),g!==s&&(!(d=a(n,p))||Sn(n,d)||Sn(p,d))&&(p[2]=1),g!==s)l=0,g?(t.lineStart(),d=a(p,n),t.point(d[0],d[1])):(d=a(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^g){var y;m&e||!(y=a(p,n,!0))||(l=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||n&&Sn(n,p)||t.point(p[0],p[1]),n=p,s=g,e=m},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return l|(c&&s)<<1}}}),(function(n,r,i,o){!function(t,n,e,r,i,o){if(e){var a=Jt(n),u=Qt(n),s=r*e;null==i?(i=n+r*Yt,o=n-s/2):(i=kn(a,i),o=kn(a,o),(r>0?i<o:i>o)&&(i+=r*Yt));for(var c,l=i;r>0?l>o:l<o;l-=s)c=fn([a,-u*Jt(l),-u*Qt(l)]),t.point(c[0],c[1])}}(o,t,e,i,n,r)}),r?[0,-t]:[-Bt,t-Bt])}var Pn=1e9,jn=-Pn;function Ln(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,c){var l=0,f=0;if(null==i||(l=a(i,u))!==(f=a(o,u))||s(i,o)<0^u>0)do{c.point(0===l||3===l?t:e,l>1?r:n)}while((l=(l+u+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return Zt(r[0]-t)<Ht?i>0?0:3:Zt(r[0]-e)<Ht?i>0?2:1:Zt(r[1]-n)<Ht?i>0?1:0:i>0?3:2}function u(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var s,c,l,f,h,d,p,g,m,y,v,$=a,x=Mn(),w={point:b,lineStart:function(){w.point=k,c&&c.push(l=[]);y=!0,m=!1,p=g=NaN},lineEnd:function(){s&&(k(f,h),d&&m&&x.rejoin(),s.push(x.result()));w.point=b,m&&$.lineEnd()},polygonStart:function(){$=x,s=[],c=[],v=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=c.length;e<i;++e)for(var o,a,u=c[e],s=1,l=u.length,f=u[0],h=f[0],d=f[1];s<l;++s)o=h,a=d,h=(f=u[s])[0],d=f[1],a<=r?d>r&&(h-o)*(r-a)>(d-a)*(t-o)&&++n:d<=r&&(h-o)*(r-a)<(d-a)*(t-o)&&--n;return n}(),e=v&&n,i=(s=Wt(s)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Nn(s,u,n,o,a),a.polygonEnd());$=a,s=c=l=null}};function b(t,n){i(t,n)&&$.point(t,n)}function k(o,a){var u=i(o,a);if(c&&l.push([o,a]),y)f=o,h=a,d=u,y=!1,u&&($.lineStart(),$.point(o,a));else if(u&&m)$.point(o,a);else{var s=[p=Math.max(jn,Math.min(Pn,p)),g=Math.max(jn,Math.min(Pn,g))],x=[o=Math.max(jn,Math.min(Pn,o)),a=Math.max(jn,Math.min(Pn,a))];!function(t,n,e,r,i,o){var a,u=t[0],s=t[1],c=0,l=1,f=n[0]-u,h=n[1]-s;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<l&&(l=a)}else if(h>0){if(a>l)return;a>c&&(c=a)}if(a=o-s,h||!(a<0)){if(a/=h,h<0){if(a>l)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=u+c*f,t[1]=s+c*h),l<1&&(n[0]=u+l*f,n[1]=s+l*h),!0}}}}}(s,x,t,n,e,r)?u&&($.lineStart(),$.point(o,a),v=!1):(m||($.lineStart(),$.point(s[0],s[1])),$.point(x[0],x[1]),u||$.lineEnd(),v=!1)}p=o,g=a,m=u}return w}}var On=t=>t,qn=1/0,Wn=qn,Fn=-qn,Hn=Fn;var Bn={point:function(t,n){t<qn&&(qn=t);t>Fn&&(Fn=t);n<Wn&&(Wn=n);n>Hn&&(Hn=n)},lineStart:rn,lineEnd:rn,polygonStart:rn,polygonEnd:rn,result:function(){var t=[[qn,Wn],[Fn,Hn]];return Fn=Hn=-(Wn=qn=1/0),t}};function In(t){return function(n){var e=new Gn;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Gn(){}function Yn(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),ln(e,t.stream(Bn)),n(Bn.result()),null!=r&&t.clipExtent(r),t}function Kn(t,n,e){return Yn(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}Gn.prototype={constructor:Gn,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Un=Jt(30*Ut);function Zn(t,n){return+n?function(t,n){function e(r,i,o,a,u,s,c,l,f,h,d,p,g,m){var y=c-r,v=l-i,$=y*y+v*v;if($>4*n&&g--){var x=a+h,w=u+d,b=s+p,k=nn(x*x+w*w+b*b),M=en(b/=k),S=Zt(Zt(b)-1)<Ht||Zt(o-f)<Ht?(o+f)/2:Vt(w,x),E=t(S,M),N=E[0],_=E[1],T=N-r,C=_-i,z=v*T-y*C;(z*z/$>n||Zt((y*T+v*C)/$-.5)>.3||a*h+u*d+s*p<Un)&&(e(r,i,o,a,u,s,N,_,S,x/=k,w/=k,b,g,m),m.point(N,_),e(N,_,S,x,w,b,c,l,f,h,d,p,g,m))}}return function(n){var r,i,o,a,u,s,c,l,f,h,d,p,g={point:m,lineStart:y,lineEnd:$,polygonStart:function(){n.polygonStart(),g.lineStart=x},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function m(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){l=NaN,g.point=v,n.lineStart()}function v(r,i){var o=hn([r,i]),a=t(r,i);e(l,f,c,h,d,p,l=a[0],f=a[1],c=r,h=o[0],d=o[1],p=o[2],16,n),n.point(l,f)}function $(){g.point=m,n.lineEnd()}function x(){y(),g.point=w,g.lineEnd=b}function w(t,n){v(r=t,n),i=l,o=f,a=h,u=d,s=p,g.point=v}function b(){e(l,f,c,h,d,p,i,o,r,a,u,s,16,n),g.lineEnd=$,$()}return g}}(t,n):function(t){return In({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Xn=In({point:function(t,n){this.stream.point(t*Ut,n*Ut)}});function Vn(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=Jt(o),u=Qt(o),s=a*t,c=u*t,l=a/t,f=u/t,h=(u*e-a*n)/t,d=(u*n+a*e)/t;function p(t,o){return[s*(t*=r)-c*(o*=i)+n,e-c*t-s*o]}return p.invert=function(t,n){return[r*(l*t-f*n+h),i*(d-f*t-l*n)]},p}function Jn(t){var n,e,r,i,o,a,u,s,c,l,f=150,h=480,d=250,p=0,g=0,m=0,y=0,v=0,$=0,x=1,w=1,b=null,k=An,M=null,S=On,E=.5;function N(t){return s(t[0]*Ut,t[1]*Ut)}function _(t){return(t=s.invert(t[0],t[1]))&&[t[0]*Kt,t[1]*Kt]}function T(){var t=Vn(f,0,0,x,w,$).apply(null,n(p,g)),r=Vn(f,h-t[0],d-t[1],x,w,$);return e=function(t,n,e){return(t%=Yt)?n||e?vn(wn(t),bn(n,e)):wn(t):n||e?bn(n,e):$n}(m,y,v),u=vn(n,r),s=vn(e,u),a=Zn(u,E),C()}function C(){return c=l=null,N}return N.stream=function(t){return c&&l===t?c:c=Xn(function(t){return In({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(k(a(S(l=t)))))},N.preclip=function(t){return arguments.length?(k=t,b=void 0,C()):k},N.postclip=function(t){return arguments.length?(S=t,M=r=i=o=null,C()):S},N.clipAngle=function(t){return arguments.length?(k=+t?Dn(b=t*Ut):(b=null,An),C()):b*Kt},N.clipExtent=function(t){return arguments.length?(S=null==t?(M=r=i=o=null,On):Ln(M=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),C()):null==M?null:[[M,r],[i,o]]},N.scale=function(t){return arguments.length?(f=+t,T()):f},N.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],T()):[h,d]},N.center=function(t){return arguments.length?(p=t[0]%360*Ut,g=t[1]%360*Ut,T()):[p*Kt,g*Kt]},N.rotate=function(t){return arguments.length?(m=t[0]%360*Ut,y=t[1]%360*Ut,v=t.length>2?t[2]%360*Ut:0,T()):[m*Kt,y*Kt,v*Kt]},N.angle=function(t){return arguments.length?($=t%360*Ut,T()):$*Kt},N.reflectX=function(t){return arguments.length?(x=t?-1:1,T()):x<0},N.reflectY=function(t){return arguments.length?(w=t?-1:1,T()):w<0},N.precision=function(t){return arguments.length?(a=Zn(u,E=t*t),C()):nn(E)},N.fitExtent=function(t,n){return Kn(N,t,n)},N.fitSize=function(t,n){return function(t,n,e){return Kn(t,[[0,0],n],e)}(N,t,n)},N.fitWidth=function(t,n){return function(t,n,e){return Yn(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}(N,t,n)},N.fitHeight=function(t,n){return function(t,n,e){return Yn(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}(N,t,n)},function(){return n=t.apply(this,arguments),N.invert=n.invert&&_,T()}}function Qn(t,n){var e=Qt(t),r=(e+Qt(n))/2;if(Zt(r)<Ht)return function(t){var n=Jt(t);function e(t,e){return[t*n,Qt(e)/n]}return e.invert=function(t,e){return[t/n,en(e*n)]},e}(t);var i=1+e*(2*r-e),o=nn(i)/r;function a(t,n){var e=nn(i-2*r*Qt(n))/r;return[e*Qt(t*=r),o-e*Jt(t)]}return a.invert=function(t,n){var e=o-n,a=Vt(t,Zt(e))*tn(e);return e*r<0&&(a-=Bt*tn(t)*tn(e)),[a/r,en((i-(t*t+e*e)*r*r)/(2*r))]},a}function te(){return(t=Qn,n=0,e=Bt/3,r=Jn(t),i=r(n,e),i.parallels=function(t){return arguments.length?r(n=t[0]*Ut,e=t[1]*Ut):[n*Kt,e*Kt]},i).scale(155.424).center([0,33.6442]);var t,n,e,r,i}function ne(){return te().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ee(){}var re=1/0,ie=re,oe=-re,ae=oe,ue={point:function(t,n){t<re&&(re=t);t>oe&&(oe=t);n<ie&&(ie=n);n>ae&&(ae=n)},lineStart:ee,lineEnd:ee,polygonStart:ee,polygonEnd:ee,result:function(){var t=[[re,ie],[oe,ae]];return oe=ae=-(ie=re=1/0),t}};function se(t,n,e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),ln(e,t.stream(ue));var a=ue.result(),u=Math.min(r/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),s=+n[0][0]+(r-u*(a[1][0]+a[0][0]))/2,c=+n[0][1]+(i-u*(a[1][1]+a[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*u).translate([s,c])}const ce=Math.PI,le=2*ce,fe=1e-6,he=le-fe;function de(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function pe(){return new de}function ge(){var t,n,e,r,i,o=ne().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),a=ne().rotate([4.4,.8]).center([0,55.4]).parallels([50,60]),u={point:function(t,n){i=[t,n]}};function s(t){var n=t[0],o=t[1];return i=null,e.point(n,o),i||(r.point(n,o),i)}function c(){return t=n=null,s}return s.invert=function(t){var n=o.scale(),e=o.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=-.089&&i<.06&&r>=.029&&r<.046?a:o).invert(t)},s.stream=function(e){return t&&n===e?t:(r=[o.stream(n=e),a.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),c()):o.precision()},s.scale=function(t){return arguments.length?(o.scale(t),a.scale(t),s.translate(o.translate())):o.scale()},s.translate=function(t){if(!arguments.length)return o.translate();var n=o.scale(),i=+t[0],s=+t[1];return e=o.translate(t).clipExtent([[i-.065*n,s-.089*n],[i+.075*n,s+.089*n]]).stream(u),r=a.translate([i+.01*n,s+.025*n]).clipExtent([[i+.029*n+Ct,s-.089*n+Ct],[i+.046*n-Ct,s-.06*n-Ct]]).stream(u),c()},s.fitExtent=function(t,n){return se(s,t,n)},s.fitSize=function(t,n){return function(t,n,e){return se(t,[[0,0],n],e)}(s,t,n)},s.drawCompositionBorders=function(t){var n,e,r,i;n=o([-1.113205870242365,59.64920050773357]),e=o([.807899092399606,59.59085836472269]),r=o([.5778611961420386,57.93467822832577]),i=o([-1.25867782078448,57.99029450085142]),t.moveTo(n[0],n[1]),t.lineTo(e[0],e[1]),t.lineTo(r[0],r[1]),t.lineTo(i[0],i[1]),t.closePath()},s.getCompositionBorders=function(){var t=pe();return this.drawCompositionBorders(t),t.toString()},s.scale(2800)}de.prototype=pe.prototype={constructor:de,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,a=this._y1,u=e-t,s=r-n,c=o-t,l=a-n,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(f>fe)if(Math.abs(l*u-s*c)>fe&&i){var h=e-o,d=r-a,p=u*u+s*s,g=h*h+d*d,m=Math.sqrt(p),y=Math.sqrt(f),v=i*Math.tan((ce-Math.acos((p+f-g)/(2*m*y)))/2),$=v/y,x=v/m;Math.abs($-1)>fe&&(this._+="L"+(t+$*c)+","+(n+$*l)),this._+="A"+i+","+i+",0,0,"+ +(l*h>c*d)+","+(this._x1=t+x*u)+","+(this._y1=n+x*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),s=t+a,c=n+u,l=1^o,f=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+c:(Math.abs(this._x1-s)>fe||Math.abs(this._y1-c)>fe)&&(this._+="L"+s+","+c),e&&(f<0&&(f=f%le+le),f>he?this._+="A"+e+","+e+",0,1,"+l+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+l+","+(this._x1=s)+","+(this._y1=c):f>fe&&(this._+="A"+e+","+e+",0,"+ +(f>=ce)+","+l+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};const me=[];function ye(n,e=t){let r;const i=new Set;function a(t){if(o(n,t)&&(n=t,r)){const t=!me.length;for(const t of i)t[1](),me.push(t,n);if(t){for(let t=0;t<me.length;t+=2)me[t][0](me[t+1]);me.length=0}}}return{set:a,update:function(t){a(t(n))},subscribe:function(o,u=t){const s=[o,u];return i.add(s),1===i.size&&(r=e(a)||t),o(n),()=>{i.delete(s),0===i.size&&(r(),r=null)}}}}function ve(n,e,o){const u=!Array.isArray(n),s=u?[n]:n,c=e.length<2;return l=n=>{let o=!1;const l=[];let f=0,h=t;const d=()=>{if(f)return;h();const r=e(u?l[0]:l,n);c?n(r):h=i(r)?r:t},p=s.map(((t,n)=>a(t,(t=>{l[n]=t,f&=~(1<<n),o&&d()}),(()=>{f|=1<<n}))));return o=!0,d(),function(){r(p),h()}},{subscribe:ye(o,l).subscribe};var l}function $e(t){return 0===(n=t)||n?Array.isArray(t)?n=>t.map((t=>"function"!=typeof t?n[t]:t(n))):"function"!=typeof t?n=>n[t]:t:null;var n}function xe(t,n={}){return function(t){const n={};for(const e of t){if(Object(e)!==e)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=e;Object.defineProperty(n,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return n}(Object.entries(t).filter((([t,e])=>void 0!==e&&void 0===n[t])))}function we(t,n){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array.");if(Array.isArray(n)||null==n)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const e={},r=Object.keys(n),i=r.length;let o,a,u,s,c,l,f,h;const d=t.length;for(o=0;o<i;o+=1){for(s=r[o],f=n[s],c=null,l=null,a=0;a<d;a+=1)if(h=f(t[a]),Array.isArray(h)){const t=h.length;for(u=0;u<t;u+=1)void 0!==h[u]&&null!==h[u]&&!1===Number.isNaN(h[u])&&((null===c||h[u]<c)&&(c=h[u]),(null===l||h[u]>l)&&(l=h[u]))}else null!=h&&!1===Number.isNaN(h)&&((null===c||h<c)&&(c=h),(null===l||h>l)&&(l=h));e[s]=[c,l]}return e}function be(t=[],n){return!0===Array.isArray(n)?n.map(((n,e)=>null===n?t[e]:n)):t}function ke(t){return function([n,e]){return n?be(n[t],e):e}}function Me(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}const Se=Symbol("implicit");function Ee(){var t=new Map,n=[],e=[],r=Se;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==Se)return r;t.set(o,a=n.push(i))}return e[(a-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ee(n,e).unknown(r)},Me.apply(i,arguments),i}function Ne(){var t,n,e=Ee().unknown(void 0),r=e.domain,i=e.range,o=0,a=1,u=!1,s=0,c=0,l=.5;function f(){var e=r().length,f=a<o,h=f?a:o,d=f?o:a;t=(d-h)/Math.max(1,e-s+2*c),u&&(t=Math.floor(t)),h+=(d-h-t*(e-s))*l,n=t*(1-s),u&&(h=Math.round(h),n=Math.round(n));var p=Ft(e).map((function(n){return h+t*n}));return i(f?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),f()):r()},e.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},e.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,u=!0,f()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(u=!!t,f()):u},e.padding=function(t){return arguments.length?(s=Math.min(1,c=+t),f()):s},e.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),f()):s},e.paddingOuter=function(t){return arguments.length?(c=+t,f()):c},e.align=function(t){return arguments.length?(l=Math.max(0,Math.min(1,t)),f()):l},e.copy=function(){return Ne(r(),[o,a]).round(u).paddingInner(s).paddingOuter(c).align(l)},Me.apply(f(),arguments)}function _e(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Te(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function Ce(){}var ze=.7,Re=1/ze,Ae="\\s*([+-]?\\d+)\\s*",De="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",je=/^#([0-9a-f]{3,8})$/,Le=new RegExp("^rgb\\("+[Ae,Ae,Ae]+"\\)$"),Oe=new RegExp("^rgb\\("+[Pe,Pe,Pe]+"\\)$"),qe=new RegExp("^rgba\\("+[Ae,Ae,Ae,De]+"\\)$"),We=new RegExp("^rgba\\("+[Pe,Pe,Pe,De]+"\\)$"),Fe=new RegExp("^hsl\\("+[De,Pe,Pe]+"\\)$"),He=new RegExp("^hsla\\("+[De,Pe,Pe,De]+"\\)$"),Be={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ie(){return this.rgb().formatHex()}function Ge(){return this.rgb().formatRgb()}function Ye(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=je.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Ke(n):3===e?new Ve(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?Ue(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?Ue(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=Le.exec(t))?new Ve(n[1],n[2],n[3],1):(n=Oe.exec(t))?new Ve(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=qe.exec(t))?Ue(n[1],n[2],n[3],n[4]):(n=We.exec(t))?Ue(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Fe.exec(t))?nr(n[1],n[2]/100,n[3]/100,1):(n=He.exec(t))?nr(n[1],n[2]/100,n[3]/100,n[4]):Be.hasOwnProperty(t)?Ke(Be[t]):"transparent"===t?new Ve(NaN,NaN,NaN,0):null}function Ke(t){return new Ve(t>>16&255,t>>8&255,255&t,1)}function Ue(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ve(t,n,e,r)}function Ze(t){return t instanceof Ce||(t=Ye(t)),t?new Ve((t=t.rgb()).r,t.g,t.b,t.opacity):new Ve}function Xe(t,n,e,r){return 1===arguments.length?Ze(t):new Ve(t,n,e,null==r?1:r)}function Ve(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Je(){return"#"+tr(this.r)+tr(this.g)+tr(this.b)}function Qe(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function tr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function nr(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new rr(t,n,e,r)}function er(t){if(t instanceof rr)return new rr(t.h,t.s,t.l,t.opacity);if(t instanceof Ce||(t=Ye(t)),!t)return new rr;if(t instanceof rr)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new rr(a,u,s,t.opacity)}function rr(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function ir(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}_e(Ce,Ye,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ie,formatHex:Ie,formatHsl:function(){return er(this).formatHsl()},formatRgb:Ge,toString:Ge}),_e(Ve,Xe,Te(Ce,{brighter:function(t){return t=null==t?Re:Math.pow(Re,t),new Ve(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?ze:Math.pow(ze,t),new Ve(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Je,formatHex:Je,formatRgb:Qe,toString:Qe})),_e(rr,(function(t,n,e,r){return 1===arguments.length?er(t):new rr(t,n,e,null==r?1:r)}),Te(Ce,{brighter:function(t){return t=null==t?Re:Math.pow(Re,t),new rr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?ze:Math.pow(ze,t),new rr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ve(ir(t>=240?t-240:t+120,i,r),ir(t,i,r),ir(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var or=t=>()=>t;function ar(t){return 1==(t=+t)?ur:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):or(isNaN(n)?e:n)}}function ur(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):or(isNaN(t)?n:t)}var sr=function t(n){var e=ar(n);function r(t,n){var r=e((t=Xe(t)).r,(n=Xe(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=ur(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function cr(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function lr(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=yr(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function fr(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function hr(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function dr(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=yr(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var pr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gr=new RegExp(pr.source,"g");function mr(t,n){var e,r,i,o=pr.lastIndex=gr.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=pr.exec(t))&&(r=gr.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:hr(e,r)})),o=gr.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function yr(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?or(n):("number"===i?hr:"string"===i?(e=Ye(n))?(n=e,sr):mr:n instanceof Ye?sr:n instanceof Date?fr:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?lr:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?dr:hr:cr))(t,n)}function vr(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function $r(t){return+t}var xr=[0,1];function wr(t){return t}function br(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function kr(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=br(i,r),o=e(a,o)):(r=br(r,i),o=e(o,a)),function(t){return o(r(t))}}function Mr(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=br(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=Dt(t,n,1,r)-1;return o[e](i[e](n))}}function Sr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Er(){var t,n,e,r,i,o,a=xr,u=xr,s=yr,c=wr;function l(){var t,n,e,s=Math.min(a.length,u.length);return c!==wr&&(t=a[0],n=a[s-1],t>n&&(e=t,t=n,n=e),c=function(e){return Math.max(t,Math.min(n,e))}),r=s>2?Mr:kr,i=o=null,f}function f(n){return null==n||isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(c(n)))}return f.invert=function(e){return c(n((o||(o=r(u,a.map(t),hr)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,$r),l()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),l()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=vr,l()},f.clamp=function(t){return arguments.length?(c=!!t||wr,l()):c!==wr},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,l()}}function Nr(){return Er()(wr,wr)}function _r(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=jt?i*=10:o>=Lt?i*=5:o>=Ot&&(i*=2),n<t?-i:i}(t,n,e);switch((r=yt(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(pt(n)/3)))-pt(Math.abs(t)))}(o,a))||(r.precision=i),Mt(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,pt(n)-pt(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-pt(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return kt(r)}function Tr(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=qt(t,n,e))||!isFinite(a))return[];if(a>0){let e=Math.round(t/a),r=Math.round(n/a);for(e*a<t&&++e,r*a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)*a}else{a=-a;let e=Math.round(t*a),r=Math.round(n*a);for(e/a<t&&++e,r/a>n&&--r,o=new Array(i=r-e+1);++u<i;)o[u]=(e+u)/a}return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return _r(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,s=o[a],c=o[u],l=10;for(c<s&&(i=s,s=c,c=i,i=a,a=u,u=i);l-- >0;){if((i=qt(s,c,e))===r)return o[a]=s,o[u]=c,n(o);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Cr(){var t=Nr();return t.copy=function(){return Sr(t,Cr())},Me.apply(t,arguments),Tr(t)}function zr(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Rr(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ar(t){return t<0?-t*t:t*t}function Dr(t){var n=t(wr,wr),e=1;function r(){return 1===e?t(wr,wr):.5===e?t(Rr,Ar):t(zr(e),zr(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},Tr(n)}function Pr(){var t=Dr(Er());return t.copy=function(){return Sr(t,Pr()).exponent(t.exponent())},Me.apply(t,arguments),t}var jr={x:Cr,y:Cr,z:Cr,r:function(){return Pr.apply(null,arguments).exponent(.5)}};function Lr(t){return t}function Or(t){return n=>Math.log(t*n)}function qr(t){return n=>t*Math.exp(n)}function Wr(t){return n=>Math.sign(n)*Math.expm1(Math.abs(n))*t}function Fr(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Hr(t,n){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(n))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:e,ground:r}=function(t){const n=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===n){const e=Math.sign(t.domain()[0]);return{lift:Or(e),ground:qr(e),scaleType:n}}if("pow"===n){const t=1;return{lift:Fr(t),ground:Fr(1/t),scaleType:n}}if("sqrt"===n){const t=.5;return{lift:Fr(t),ground:Fr(1/t),scaleType:n}}if("symlog"===n){const t=1;return{lift:(e=t,t=>Math.sign(t)*Math.log1p(Math.abs(t/e))),ground:Wr(t),scaleType:n}}var e;return{lift:Lr,ground:Lr,scaleType:n}}(t),i=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[a,u]=t.domain().map((t=>e(o?t.getTime():t))),[s,c]=t.range(),l=n[0]||0,f=n[1]||0,h=(u-a)/(Math.abs(c-s)-l-f);return[a-l*h,f*h+u].map((t=>r(o?new Date(t):t)))}function Br(t){return function([n,e,r,i,o,a,u,s,c,l]){if(null===e)return null;const f=function(t,n,e,r,i,o){return i?"function"==typeof i?i({width:n,height:e}):i:function(t,n,e,r,i){let o,a;return!0===i?(o=0,a=100):(o="r"===t?1:0,a="y"===t?e:"r"===t?25:n),!0===r?[a,o]:[o,a]}(t,n,e,r,o)}(t,u,s,a,c,l),h=n===jr[t]?n():n.copy();return h.domain(be(e[t],r)).range(f),i&&h.domain(Hr(h,i)),!0===o&&("function"==typeof h.nice?h.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),h}}function Ir([t,n]){return e=>{const r=t(e);return Array.isArray(r)?r.map((t=>n(t))):n(r)}}function Gr([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var Yr={x:!1,y:!0,z:!1,r:!1};const Kr=t=>({element:4&t[0],width:64&t[0],height:128&t[0],aspectRatio:256&t[0],containerWidth:512&t[0],containerHeight:1024&t[0]}),Ur=t=>({element:t[2],width:t[6],height:t[7],aspectRatio:t[8],containerWidth:t[9],containerHeight:t[10]});function Zr(t){let n,e,r,i;const o=t[54].default,a=s(o,t,t[53],Ur);return{c(){n=v("div"),a&&a.c(),M(n,"class","layercake-container svelte-vhzpsp"),M(n,"style",e="position:"+t[5]+"; "+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===t[4]?"pointer-events:none;":"")),H((()=>t[56].call(n)))},m(e,o){g(e,n,o),a&&a.m(n,null),t[55](n),r=function(t,n){"static"===getComputedStyle(t).position&&(t.style.position="relative");const e=v("iframe");e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),e.setAttribute("aria-hidden","true"),e.tabIndex=-1;const r=C();let i;return r?(e.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=k(window,"message",(t=>{t.source===e.contentWindow&&n()}))):(e.src="about:blank",e.onload=()=>{i=k(e.contentWindow,"resize",n)}),p(t,e),()=>{(r||i&&e.contentWindow)&&i(),m(e)}}(n,t[56].bind(n)),i=!0},p(t,r){a&&a.p&&(!i||1988&r[0]|4194304&r[1])&&f(a,o,t,t[53],i?l(o,t[53],r,Kr):h(t[53]),Ur),(!i||48&r[0]&&e!==(e="position:"+t[5]+"; "+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===t[4]?"pointer-events:none;":"")))&&M(n,"style",e)},i(t){i||(V(a,t),i=!0)},o(t){J(a,t),i=!1},d(e){e&&m(n),a&&a.d(e),t[55](null),r()}}}function Xr(t){let n,e,r=(!0===t[3]||"undefined"!=typeof window)&&Zr(t);return{c(){r&&r.c(),n=b()},m(t,i){r&&r.m(t,i),g(t,n,i),e=!0},p(t,e){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,e),8&e[0]&&V(r,1)):(r=Zr(t),r.c(),V(r,1),r.m(n.parentNode,n)):r&&(Z(),J(r,1,1,(()=>{r=null})),X())},i(t){e||(V(r),e=!0)},o(t){J(r),e=!1},d(t){r&&r.d(t),t&&m(n)}}}function Vr(t,n,e){let r,i,o,a,s,c,{$$slots:l={},$$scope:f}=n,{ssr:h=!1}=n,{pointerEvents:d=!0}=n,{position:p="relative"}=n,{percentRange:g=!1}=n,{width:m}=n,{height:y}=n,{containerWidth:v=m||100}=n,{containerHeight:$=y||100}=n,{element:x}=n,{x:w}=n,{y:b}=n,{z:k}=n,{r:M}=n,{custom:S={}}=n,{data:E=[]}=n,{xDomain:N}=n,{yDomain:_}=n,{zDomain:T}=n,{rDomain:C}=n,{xNice:z=!1}=n,{yNice:R=!1}=n,{zNice:D=!1}=n,{rNice:P=!1}=n,{xReverse:j=Yr.x}=n,{yReverse:O=Yr.y}=n,{zReverse:q=Yr.z}=n,{rReverse:W=Yr.r}=n,{xPadding:F}=n,{yPadding:H}=n,{zPadding:B}=n,{rPadding:I}=n,{xScale:G=jr.x}=n,{yScale:Y=jr.y}=n,{zScale:K=jr.y}=n,{rScale:U=jr.r}=n,{xRange:Z}=n,{yRange:X}=n,{zRange:V}=n,{rRange:J}=n,{padding:Q={}}=n,{extents:tt={}}=n,{flatData:nt}=n;const et={},rt=ye(),it=ye();u(t,it,(t=>e(9,s=t)));const ot=ye();u(t,ot,(t=>e(10,c=t)));const at=ye(),ut=ye(),st=ye(),ct=ye(),lt=ye(),ft=ye(),ht=ye(),dt=ye(),pt=ye(),gt=ye(),mt=ye(),yt=ye(),vt=ye(),$t=ye(),xt=ye(),wt=ye(),bt=ye(),kt=ye(),Mt=ye(),St=ye(),Et=ye(),Nt=ye(),_t=ye(),Tt=ye(),Ct=ye(),zt=ye(),Rt=ye(),At=ye(),Dt=ye(),Pt=ye(),jt=ye(),Lt=ye(),Ot=ye(),qt=ye(et),Wt=ve([at,ut,st,ct],(([t,n,e,r])=>{const i={};return t&&(i.x=t),n&&(i.y=n),e&&(i.z=e),r&&(i.r=r),i})),Ft=ve([jt,it,ot],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Ht=ve([it,ot,Ft],(([t,n,e])=>{const r={};return r.top=e.top,r.right=t-e.right,r.bottom=n-e.bottom,r.left=e.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Bt=ve([Ht],(([t])=>t.width));u(t,Bt,(t=>e(6,i=t)));const It=ve([Ht],(([t])=>t.height));u(t,It,(t=>e(7,o=t)));const Gt=ve([Lt,Wt,Ot],(([t,n,e])=>({...we(t,xe(n,e)),...e}))),Yt=ve([Gt,ht],ke("x")),Kt=ve([Gt,dt],ke("y")),Ut=ve([Gt,pt],ke("z")),Zt=ve([Gt,gt],ke("r")),Xt=ve([_t,Gt,Yt,Mt,mt,xt,Bt,It,Rt,rt],Br("x")),Vt=ve([at,Xt],Ir),Jt=ve([Tt,Gt,Kt,St,yt,wt,Bt,It,At,rt],Br("y")),Qt=ve([ut,Jt],Ir),tn=ve([Ct,Gt,Ut,Et,vt,bt,Bt,It,Dt,rt],Br("z")),nn=ve([st,tn],Ir),en=ve([zt,Gt,Zt,Nt,$t,kt,Bt,It,Pt,rt],Br("r")),rn=ve([ct,en],Ir),on=ve([Xt],Gr),an=ve([Jt],Gr),un=ve([tn],Gr),sn=ve([en],Gr),cn=ve([Bt,It],(([t,n,e])=>n/e));return u(t,cn,(t=>e(8,a=t))),t.$$set=t=>{"ssr"in t&&e(3,h=t.ssr),"pointerEvents"in t&&e(4,d=t.pointerEvents),"position"in t&&e(5,p=t.position),"percentRange"in t&&e(16,g=t.percentRange),"width"in t&&e(17,m=t.width),"height"in t&&e(18,y=t.height),"containerWidth"in t&&e(0,v=t.containerWidth),"containerHeight"in t&&e(1,$=t.containerHeight),"element"in t&&e(2,x=t.element),"x"in t&&e(19,w=t.x),"y"in t&&e(20,b=t.y),"z"in t&&e(21,k=t.z),"r"in t&&e(22,M=t.r),"custom"in t&&e(23,S=t.custom),"data"in t&&e(24,E=t.data),"xDomain"in t&&e(25,N=t.xDomain),"yDomain"in t&&e(26,_=t.yDomain),"zDomain"in t&&e(27,T=t.zDomain),"rDomain"in t&&e(28,C=t.rDomain),"xNice"in t&&e(29,z=t.xNice),"yNice"in t&&e(30,R=t.yNice),"zNice"in t&&e(31,D=t.zNice),"rNice"in t&&e(32,P=t.rNice),"xReverse"in t&&e(33,j=t.xReverse),"yReverse"in t&&e(34,O=t.yReverse),"zReverse"in t&&e(35,q=t.zReverse),"rReverse"in t&&e(36,W=t.rReverse),"xPadding"in t&&e(37,F=t.xPadding),"yPadding"in t&&e(38,H=t.yPadding),"zPadding"in t&&e(39,B=t.zPadding),"rPadding"in t&&e(40,I=t.rPadding),"xScale"in t&&e(41,G=t.xScale),"yScale"in t&&e(42,Y=t.yScale),"zScale"in t&&e(43,K=t.zScale),"rScale"in t&&e(44,U=t.rScale),"xRange"in t&&e(45,Z=t.xRange),"yRange"in t&&e(46,X=t.yRange),"zRange"in t&&e(47,V=t.zRange),"rRange"in t&&e(48,J=t.rRange),"padding"in t&&e(49,Q=t.padding),"extents"in t&&e(50,tt=t.extents),"flatData"in t&&e(51,nt=t.flatData),"$$scope"in t&&e(53,f=t.$$scope)},t.$$.update=()=>{524288&t.$$.dirty[0]&&w&&(et.x=w),1048576&t.$$.dirty[0]&&b&&(et.y=b),2097152&t.$$.dirty[0]&&k&&(et.z=k),4194304&t.$$.dirty[0]&&M&&(et.r=M),33554432&t.$$.dirty[0]&&N&&(et.xDomain=N),67108864&t.$$.dirty[0]&&_&&(et.yDomain=_),134217728&t.$$.dirty[0]&&T&&(et.zDomain=T),268435456&t.$$.dirty[0]&&C&&(et.rDomain=C),16384&t.$$.dirty[1]&&Z&&(et.xRange=Z),32768&t.$$.dirty[1]&&X&&(et.yRange=X),65536&t.$$.dirty[1]&&V&&(et.zRange=V),131072&t.$$.dirty[1]&&J&&(et.rRange=J),65536&t.$$.dirty[0]&&rt.set(g),1&t.$$.dirty[0]&&it.set(v),2&t.$$.dirty[0]&&ot.set($),524288&t.$$.dirty[0]&&at.set($e(w)),1048576&t.$$.dirty[0]&&ut.set($e(b)),2097152&t.$$.dirty[0]&&st.set($e(k)),4194304&t.$$.dirty[0]&&ct.set($e(M)),33554432&t.$$.dirty[0]&&ht.set(N),67108864&t.$$.dirty[0]&&dt.set(_),134217728&t.$$.dirty[0]&&pt.set(T),268435456&t.$$.dirty[0]&&gt.set(C),8388608&t.$$.dirty[0]&&lt.set(S),16777216&t.$$.dirty[0]&&ft.set(E),536870912&t.$$.dirty[0]&&mt.set(z),1073741824&t.$$.dirty[0]&&yt.set(R),1&t.$$.dirty[1]&&vt.set(D),2&t.$$.dirty[1]&&$t.set(P),4&t.$$.dirty[1]&&xt.set(j),8&t.$$.dirty[1]&&wt.set(O),16&t.$$.dirty[1]&&bt.set(q),32&t.$$.dirty[1]&&kt.set(W),64&t.$$.dirty[1]&&Mt.set(F),128&t.$$.dirty[1]&&St.set(H),256&t.$$.dirty[1]&&Et.set(B),512&t.$$.dirty[1]&&Nt.set(I),1024&t.$$.dirty[1]&&_t.set(G),2048&t.$$.dirty[1]&&Tt.set(Y),4096&t.$$.dirty[1]&&Ct.set(K),8192&t.$$.dirty[1]&&zt.set(U),16384&t.$$.dirty[1]&&Rt.set(Z),32768&t.$$.dirty[1]&&At.set(X),65536&t.$$.dirty[1]&&Dt.set(V),131072&t.$$.dirty[1]&&Pt.set(J),262144&t.$$.dirty[1]&&jt.set(Q),524288&t.$$.dirty[1]&&Ot.set(xe(tt)),16777216&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&Lt.set(nt||E),2097152&t.$$.dirty[1]&&function(t,n){A().$$.context.set(t,n)}("LayerCake",r)},e(52,r={activeGetters:Wt,width:Bt,height:It,percentRange:rt,aspectRatio:cn,containerWidth:it,containerHeight:ot,x:at,y:ut,z:st,r:ct,custom:lt,data:ft,xNice:mt,yNice:yt,zNice:vt,rNice:$t,xReverse:xt,yReverse:wt,zReverse:bt,rReverse:kt,xPadding:Mt,yPadding:St,zPadding:Et,rPadding:Nt,padding:Ft,flatData:Lt,extents:Gt,xDomain:Yt,yDomain:Kt,zDomain:Ut,rDomain:Zt,xRange:on,yRange:an,zRange:un,rRange:sn,config:qt,xScale:Xt,xGet:Vt,yScale:Jt,yGet:Qt,zScale:tn,zGet:nn,rScale:en,rGet:rn}),[v,$,x,h,d,p,i,o,a,s,c,it,ot,Bt,It,cn,g,m,y,w,b,k,M,S,E,N,_,T,C,z,R,D,P,j,O,q,W,F,H,B,I,G,Y,K,U,Z,X,V,J,Q,tt,nt,r,f,l,function(t){L[t?"unshift":"push"]((()=>{x=t,e(2,x)}))},function(){v=this.clientWidth,$=this.clientHeight,e(0,v),e(1,$)}]}class Jr extends it{constructor(t){super(),rt(this,t,Vr,Xr,o,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},null,[-1,-1,-1,-1])}}const Qr=t=>({element:1&t}),ti=t=>({element:t[0]}),ni=t=>({element:1&t}),ei=t=>({element:t[0]});function ri(t){let n,e,r,i,o,a;const u=t[13].defs,c=s(u,t,t[12],ei),d=t[13].default,y=s(d,t,t[12],ti);return{c(){n=$("svg"),e=$("defs"),c&&c.c(),r=$("g"),y&&y.c(),M(r,"class","layercake-layout-svg_g"),M(r,"transform",i="translate("+t[6].left+", "+t[6].top+")"),M(n,"class","layercake-layout-svg svelte-u84d8d"),M(n,"viewBox",t[1]),M(n,"width",t[4]),M(n,"height",t[5]),M(n,"style",o=""+(t[2]+t[3]))},m(i,o){g(i,n,o),p(n,e),c&&c.m(e,null),p(n,r),y&&y.m(r,null),t[14](n),a=!0},p(t,[e]){c&&c.p&&(!a||4097&e)&&f(c,u,t,t[12],a?l(u,t[12],e,ni):h(t[12]),ei),y&&y.p&&(!a||4097&e)&&f(y,d,t,t[12],a?l(d,t[12],e,Qr):h(t[12]),ti),(!a||64&e&&i!==(i="translate("+t[6].left+", "+t[6].top+")"))&&M(r,"transform",i),(!a||2&e)&&M(n,"viewBox",t[1]),(!a||16&e)&&M(n,"width",t[4]),(!a||32&e)&&M(n,"height",t[5]),(!a||12&e&&o!==(o=""+(t[2]+t[3])))&&M(n,"style",o)},i(t){a||(V(c,t),V(y,t),a=!0)},o(t){J(c,t),J(y,t),a=!1},d(e){e&&m(n),c&&c.d(e),y&&y.d(e),t[14](null)}}}function ii(t,n,e){let r,i,o,{$$slots:a={},$$scope:s}=n,{element:c}=n,{viewBox:l}=n,{zIndex:f}=n,{pointerEvents:h}=n,d="",p="";const{containerWidth:g,containerHeight:m,padding:y}=P("LayerCake");return u(t,g,(t=>e(4,r=t))),u(t,m,(t=>e(5,i=t))),u(t,y,(t=>e(6,o=t))),t.$$set=t=>{"element"in t&&e(0,c=t.element),"viewBox"in t&&e(1,l=t.viewBox),"zIndex"in t&&e(10,f=t.zIndex),"pointerEvents"in t&&e(11,h=t.pointerEvents),"$$scope"in t&&e(12,s=t.$$scope)},t.$$.update=()=>{1024&t.$$.dirty&&e(2,d=void 0!==f?`z-index:${f};`:""),2048&t.$$.dirty&&e(3,p=!1===h?"pointer-events:none;":"")},[c,l,d,p,r,i,o,g,m,y,f,h,s,a,function(t){L[t?"unshift":"push"]((()=>{c=t,e(0,c)}))}]}class oi extends it{constructor(t){super(),rt(this,t,ii,ri,o,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}function ai(t){t.nextSibling&&t.parentNode.appendChild(t)}function ui(){return new si}function si(){this.reset()}si.prototype={constructor:si,reset:function(){this.s=this.t=0},add:function(t){li(ci,t,this.t),li(this,ci.s,this.s),this.s?this.t+=ci.t:this.s=ci.t},valueOf:function(){return this.s}};var ci=new si;function li(t,n,e){var r=t.s=n+e,i=r-n,o=r-i;t.t=n-o+(e-i)}var fi=2*Math.PI,hi=Math.abs,di=Math.sqrt;function pi(){}function gi(t,n){t&&yi.hasOwnProperty(t.type)&&yi[t.type](t,n)}var mi={Feature:function(t,n){gi(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)gi(e[r].geometry,n)}},yi={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){vi(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)vi(e[r],n,0)},Polygon:function(t,n){$i(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)$i(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)gi(e[r],n)}};function vi(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function $i(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)vi(t[e],n,1);n.polygonEnd()}function xi(t,n){t&&mi.hasOwnProperty(t.type)?mi[t.type](t,n):gi(t,n)}function wi(t){return t}var bi,ki,Mi,Si,Ei=ui(),Ni=ui(),_i={point:pi,lineStart:pi,lineEnd:pi,polygonStart:function(){_i.lineStart=Ti,_i.lineEnd=Ri},polygonEnd:function(){_i.lineStart=_i.lineEnd=_i.point=pi,Ei.add(hi(Ni)),Ni.reset()},result:function(){var t=Ei/2;return Ei.reset(),t}};function Ti(){_i.point=Ci}function Ci(t,n){_i.point=zi,bi=Mi=t,ki=Si=n}function zi(t,n){Ni.add(Si*t-Mi*n),Mi=t,Si=n}function Ri(){zi(bi,ki)}var Ai=_i,Di=1/0,Pi=Di,ji=-Di,Li=ji;var Oi,qi,Wi,Fi,Hi={point:function(t,n){t<Di&&(Di=t);t>ji&&(ji=t);n<Pi&&(Pi=n);n>Li&&(Li=n)},lineStart:pi,lineEnd:pi,polygonStart:pi,polygonEnd:pi,result:function(){var t=[[Di,Pi],[ji,Li]];return ji=Li=-(Pi=Di=1/0),t}},Bi=0,Ii=0,Gi=0,Yi=0,Ki=0,Ui=0,Zi=0,Xi=0,Vi=0,Ji={point:Qi,lineStart:to,lineEnd:ro,polygonStart:function(){Ji.lineStart=io,Ji.lineEnd=oo},polygonEnd:function(){Ji.point=Qi,Ji.lineStart=to,Ji.lineEnd=ro},result:function(){var t=Vi?[Zi/Vi,Xi/Vi]:Ui?[Yi/Ui,Ki/Ui]:Gi?[Bi/Gi,Ii/Gi]:[NaN,NaN];return Bi=Ii=Gi=Yi=Ki=Ui=Zi=Xi=Vi=0,t}};function Qi(t,n){Bi+=t,Ii+=n,++Gi}function to(){Ji.point=no}function no(t,n){Ji.point=eo,Qi(Wi=t,Fi=n)}function eo(t,n){var e=t-Wi,r=n-Fi,i=di(e*e+r*r);Yi+=i*(Wi+t)/2,Ki+=i*(Fi+n)/2,Ui+=i,Qi(Wi=t,Fi=n)}function ro(){Ji.point=Qi}function io(){Ji.point=ao}function oo(){uo(Oi,qi)}function ao(t,n){Ji.point=uo,Qi(Oi=Wi=t,qi=Fi=n)}function uo(t,n){var e=t-Wi,r=n-Fi,i=di(e*e+r*r);Yi+=i*(Wi+t)/2,Ki+=i*(Fi+n)/2,Ui+=i,Zi+=(i=Fi*t-Wi*n)*(Wi+t),Xi+=i*(Fi+n),Vi+=3*i,Qi(Wi=t,Fi=n)}var so=Ji;function co(t){this._context=t}co.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,fi)}},result:pi};var lo,fo,ho,po,go,mo=ui(),yo={point:pi,lineStart:function(){yo.point=vo},lineEnd:function(){lo&&$o(fo,ho),yo.point=pi},polygonStart:function(){lo=!0},polygonEnd:function(){lo=null},result:function(){var t=+mo;return mo.reset(),t}};function vo(t,n){yo.point=$o,fo=po=t,ho=go=n}function $o(t,n){po-=t,go-=n,mo.add(di(po*po+go*go)),po=t,go=n}var xo=yo;function wo(){this._string=[]}function bo(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function ko(t,n,e){const r=t.slice();return r[28]=n[e],r}function Mo(t){let n,e,o,a,u,s,c;function l(...n){return t[19](t[28],...n)}function f(...n){return t[20](t[28],...n)}function h(...n){return t[21](t[28],...n)}return{c(){n=$("path"),M(n,"id",e=t[28].properties.LOC22CD),M(n,"class",o=d("feature-path "+(t[28].properties.LOC22CD==t[4]?"selected":""))+" svelte-ab0bxt"),M(n,"fill",a=t[0](t[28])),M(n,"stroke",t[1]),M(n,"stroke-width",t[2]),M(n,"d",u=t[6](t[28]))},m(e,r){g(e,n,r),s||(c=[k(n,"mouseover",l),k(n,"focus",f),k(n,"mousemove",(function(){i(t[11](t[28]))&&t[11](t[28]).apply(this,arguments)})),k(n,"click",h)],s=!0)},p(r,i){t=r,40&i&&e!==(e=t[28].properties.LOC22CD)&&M(n,"id",e),56&i&&o!==(o=d("feature-path "+(t[28].properties.LOC22CD==t[4]?"selected":""))+" svelte-ab0bxt")&&M(n,"class",o),41&i&&a!==(a=t[0](t[28]))&&M(n,"fill",a),2&i&&M(n,"stroke",t[1]),4&i&&M(n,"stroke-width",t[2]),104&i&&u!==(u=t[6](t[28]))&&M(n,"d",u)},d(t){t&&m(n),s=!1,r(c)}}}function So(n){let e,i,o,a=n[3]||n[5].features,u=[];for(let t=0;t<a.length;t+=1)u[t]=Mo(ko(n,a,t));return{c(){e=$("g");for(let t=0;t<u.length;t+=1)u[t].c();M(e,"class","map-group")},m(t,r){g(t,e,r);for(let t=0;t<u.length;t+=1)u[t].m(e,null);i||(o=[k(e,"mouseout",n[22]),k(e,"blur",n[23])],i=!0)},p(t,[n]){if(14463&n){let r;for(a=t[3]||t[5].features,r=0;r<a.length;r+=1){const i=ko(t,a,r);u[r]?u[r].p(i,n):(u[r]=Mo(i),u[r].c(),u[r].m(e,null))}for(;r<u.length;r+=1)u[r].d(1);u.length=a.length}},i:t,o:t,d(t){t&&m(e),y(u,t),i=!1,r(o)}}}function Eo(t,n,e){let r,i,o,a,s,c;const{data:l,width:f,height:h,custom:d}=P("LayerCake");u(t,l,(t=>e(5,a=t))),u(t,f,(t=>e(18,c=t))),u(t,h,(t=>e(17,s=t)));let{projection:p}=n,{fill:g=(()=>"#FAFAFA")}=n,{stroke:m="#333"}=n,{strokeWidth:y=.5}=n,{features:v}=n,{area:$}=n,x=!0,w=null;const b=D();function k(t,n){x&&b("mousemove",{e:t,props:n.properties})}function M(t,n){b("mousemove",{e:t,props:n.properties}),w=n.properties.LOC22CD,x=!1}return t.$$set=t=>{"projection"in t&&e(14,p=t.projection),"fill"in t&&e(0,g=t.fill),"stroke"in t&&e(1,m=t.stroke),"strokeWidth"in t&&e(2,y=t.strokeWidth),"features"in t&&e(3,v=t.features),"area"in t&&e(4,$=t.area)},t.$$.update=()=>{393216&t.$$.dirty&&e(16,r=[[8,8],[c-8,s-8]]),81952&t.$$.dirty&&e(15,i=p().fitExtent(r,a)),32768&t.$$.dirty&&e(6,o=function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),xi(t,e(r))),r.result()}return o.area=function(t){return xi(t,e(Ai)),Ai.result()},o.measure=function(t){return xi(t,e(xo)),xo.result()},o.bounds=function(t){return xi(t,e(Hi)),Hi.result()},o.centroid=function(t){return xi(t,e(so)),so.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,wi):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new wo):new co(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)}(i)),16&t.$$.dirty&&$!=w&&(x=!0),24&t.$$.dirty&&v&&$&&(console.log($),console.log(document.getElementById($)),ai(document.getElementById($)))},[g,m,y,v,$,a,o,l,f,h,b,function(t){return function(n){x&&(ai(this),0!==n.layerX&&0!==n.layerY&&b("mousemove",{e:n,props:t.properties}))}},k,M,p,i,r,s,c,(t,n)=>k(n,t),(t,n)=>k(n,t),(t,n)=>M(n,t),t=>b("mouseout"),t=>b("mouseout")]}wo.prototype={_radius:4.5,_circle:bo(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=bo(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};class No extends it{constructor(t){super(),rt(this,t,Eo,So,o,{projection:14,fill:0,stroke:1,strokeWidth:2,features:3,area:4})}}function _o(t){let n,e,r;n=new No({props:{projection:t[2].projection,fill:t[8],area:t[4]}}),n.$on("mouseout",t[9]),n.$on("mousemove",t[10]);const i=t[7].default,o=s(i,t,t[11],null);return{c(){Q(n.$$.fragment),e=w(),o&&o.c()},m(t,i){tt(n,t,i),g(t,e,i),o&&o.m(t,i),r=!0},p(t,e){const a={};4&e&&(a.projection=t[2].projection),9&e&&(a.fill=t[8]),16&e&&(a.area=t[4]),n.$set(a),o&&o.p&&(!r||2048&e)&&f(o,i,t,t[11],r?l(i,t[11],e,null):h(t[11]),null)},i(t){r||(V(n.$$.fragment,t),V(o,t),r=!0)},o(t){J(n.$$.fragment,t),J(o,t),r=!1},d(t){nt(n,t),t&&m(e),o&&o.d(t)}}}function To(t){let n,e;return n=new oi({props:{$$slots:{default:[_o]},$$scope:{ctx:t}}}),{c(){Q(n.$$.fragment)},m(t,r){tt(n,t,r),e=!0},p(t,e){const r={};2077&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){J(n.$$.fragment,t),e=!1},d(t){nt(n,t)}}}function Co(t){let n,e,r,i,o;return i=new Jr({props:{data:t[1],flatData:t[5],r:zo,$$slots:{default:[To]},$$scope:{ctx:t}}}),{c(){n=v("div"),e=v("p"),e.textContent="You can select an area by clicking it on the map",r=w(),Q(i.$$.fragment),N(e,"color","#7f7f7f"),M(n,"class","chart-container")},m(t,a){g(t,n,a),p(n,e),p(n,r),tt(i,n,null),o=!0},p(t,[n]){const e={};2&n&&(e.data=t[1]),32&n&&(e.flatData=t[5]),2077&n&&(e.$$scope={dirty:n,ctx:t}),i.$set(e)},i(t){o||(V(i.$$.fragment,t),o=!0)},o(t){J(i.$$.fragment,t),o=!1},d(t){t&&m(n),nt(i)}}}const zo=t=>t.value;function Ro(t,n,e){let r,{$$slots:i={},$$scope:o}=n;const a=D();let{data:u}=n,{features:s}=n,{config:c}=n,{mapPropKey:l}=n,{area:f}=n;return t.$$set=t=>{"data"in t&&e(0,u=t.data),"features"in t&&e(1,s=t.features),"config"in t&&e(2,c=t.config),"mapPropKey"in t&&e(3,l=t.mapPropKey),"area"in t&&e(4,f=t.area),"$$scope"in t&&e(11,o=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&e(5,r=s.features.map((t=>t.properties)))},[u,s,c,l,f,r,a,i,t=>u.find((n=>t.properties[l]===n.key))?.fill||"#fafafa",t=>a("mouseout"),t=>a("mousemove",t),o]}class Ao extends it{constructor(t){super(),rt(this,t,Ro,Co,o,{data:0,features:1,config:2,mapPropKey:3,area:4})}}function Do(t,n,e){const r=t.slice();return r[19]=n[e],r[21]=e,r}function Po(t){let n,e;return{c(){n=$("line"),M(n,"class","gridline svelte-5b3pk3"),M(n,"y1",e=-1*t[11]),M(n,"y2","0"),M(n,"x1","0"),M(n,"x2","0")},m(t,e){g(t,n,e)},p(t,r){2048&r&&e!==(e=-1*t[11])&&M(n,"y1",e)},d(t){t&&m(n)}}}function jo(t){let n,e,r;return{c(){n=$("line"),M(n,"class","tick-mark svelte-5b3pk3"),M(n,"y1",0),M(n,"y2",6),M(n,"x1",e=t[5]||t[7]?t[8].bandwidth()/2:0),M(n,"x2",r=t[5]||t[7]?t[8].bandwidth()/2:0)},m(t,e){g(t,n,e)},p(t,i){416&i&&e!==(e=t[5]||t[7]?t[8].bandwidth()/2:0)&&M(n,"x1",e),416&i&&r!==(r=t[5]||t[7]?t[8].bandwidth()/2:0)&&M(n,"x2",r)},d(t){t&&m(n)}}}function Lo(t){let n,e,r,i,o,a,u,s,c=t[4](t[19])+"",l=!1!==t[0]&&Po(t),f=!0===t[1]&&jo(t);return{c(){n=$("g"),l&&l.c(),e=b(),f&&f.c(),r=$("text"),i=x(c),M(r,"x",o=t[5]||t[7]?t[8].bandwidth()/2:0),M(r,"y",t[6]),M(r,"dx",""),M(r,"dy",""),M(r,"text-anchor",a=t[17](t[21])),M(r,"class","svelte-5b3pk3"),M(n,"class",u="tick tick-"+t[21]+" svelte-5b3pk3"),M(n,"transform",s="translate("+t[8](t[19])+","+t[10][0]+")")},m(t,o){g(t,n,o),l&&l.m(n,null),p(n,e),f&&f.m(n,null),p(n,r),p(r,i)},p(t,a){!1!==t[0]?l?l.p(t,a):(l=Po(t),l.c(),l.m(n,e)):l&&(l.d(1),l=null),!0===t[1]?f?f.p(t,a):(f=jo(t),f.c(),f.m(n,r)):f&&(f.d(1),f=null),528&a&&c!==(c=t[4](t[19])+"")&&S(i,c),416&a&&o!==(o=t[5]||t[7]?t[8].bandwidth()/2:0)&&M(r,"x",o),64&a&&M(r,"y",t[6]),1792&a&&s!==(s="translate("+t[8](t[19])+","+t[10][0]+")")&&M(n,"transform",s)},d(t){t&&m(n),l&&l.d(),f&&f.d()}}}function Oo(t){let n,e,r;return{c(){n=$("line"),M(n,"class","baseline svelte-5b3pk3"),M(n,"y1",e=t[11]+.5),M(n,"y2",r=t[11]+.5),M(n,"x1","0"),M(n,"x2",t[12])},m(t,e){g(t,n,e)},p(t,i){2048&i&&e!==(e=t[11]+.5)&&M(n,"y1",e),2048&i&&r!==(r=t[11]+.5)&&M(n,"y2",r),4096&i&&M(n,"x2",t[12])},d(t){t&&m(n)}}}function qo(n){let e,r,i=n[9],o=[];for(let t=0;t<i.length;t+=1)o[t]=Lo(Do(n,i,t));let a=!0===n[2]&&Oo(n);return{c(){e=$("g");for(let t=0;t<o.length;t+=1)o[t].c();r=b(),a&&a.c(),M(e,"class","axis x-axis svelte-5b3pk3"),z(e,"snapTicks",n[3])},m(t,n){g(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null);p(e,r),a&&a.m(e,null)},p(t,[n]){if(135155&n){let a;for(i=t[9],a=0;a<i.length;a+=1){const u=Do(t,i,a);o[a]?o[a].p(u,n):(o[a]=Lo(u),o[a].c(),o[a].m(e,r))}for(;a<o.length;a+=1)o[a].d(1);o.length=i.length}!0===t[2]?a?a.p(t,n):(a=Oo(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null),8&n&&z(e,"snapTicks",t[3])},i:t,o:t,d(t){t&&m(e),y(o,t),a&&a.d()}}}function Wo(t,n,e){let r,i,o,a,s,c;const{width:l,height:f,xScale:h,yRange:d}=P("LayerCake");u(t,l,(t=>e(12,c=t))),u(t,f,(t=>e(11,s=t))),u(t,h,(t=>e(8,o=t))),u(t,d,(t=>e(10,a=t)));let{gridlines:p=!0}=n,{tickMarks:g=!1}=n,{baseline:m=!1}=n,{snapTicks:y=!1}=n,{formatTick:v=(t=>t)}=n,{ticks:$}=n,{xTick:x=0}=n,{yTick:w=16}=n;return t.$$set=t=>{"gridlines"in t&&e(0,p=t.gridlines),"tickMarks"in t&&e(1,g=t.tickMarks),"baseline"in t&&e(2,m=t.baseline),"snapTicks"in t&&e(3,y=t.snapTicks),"formatTick"in t&&e(4,v=t.formatTick),"ticks"in t&&e(18,$=t.ticks),"xTick"in t&&e(5,x=t.xTick),"yTick"in t&&e(6,w=t.yTick)},t.$$.update=()=>{256&t.$$.dirty&&e(7,r="function"==typeof o.bandwidth),262528&t.$$.dirty&&e(9,i=Array.isArray($)?$:r?o.domain():"function"==typeof $?$(o.ticks()):o.ticks($))},[p,g,m,y,v,x,w,r,o,i,a,s,c,l,f,h,d,function(t){if(!0===y){if(0===t)return"start";if(t===i.length-1)return"end"}return"middle"},$]}class Fo extends it{constructor(t){super(),rt(this,t,Wo,qo,o,{gridlines:0,tickMarks:1,baseline:2,snapTicks:3,formatTick:4,ticks:18,xTick:5,yTick:6})}}function Ho(t,n,e){const r=t.slice();return r[17]=n[e],r}function Bo(t){let n,e,r;return{c(){n=$("line"),M(n,"class","gridline svelte-fhtsfb"),M(n,"x2","100%"),M(n,"y1",e=t[4]+(t[8]?t[9].bandwidth()/2:0)),M(n,"y2",r=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(t,e){g(t,n,e)},p(t,i){784&i&&e!==(e=t[4]+(t[8]?t[9].bandwidth()/2:0))&&M(n,"y1",e),784&i&&r!==(r=t[4]+(t[8]?t[9].bandwidth()/2:0))&&M(n,"y2",r)},d(t){t&&m(n)}}}function Io(t){let n,e,r,i;return{c(){n=$("line"),M(n,"class","tick-mark svelte-fhtsfb"),M(n,"x1","0"),M(n,"x2",e=t[8]?-6:6),M(n,"y1",r=t[4]+(t[8]?t[9].bandwidth()/2:0)),M(n,"y2",i=t[4]+(t[8]?t[9].bandwidth()/2:0))},m(t,e){g(t,n,e)},p(t,o){256&o&&e!==(e=t[8]?-6:6)&&M(n,"x2",e),784&o&&r!==(r=t[4]+(t[8]?t[9].bandwidth()/2:0))&&M(n,"y1",r),784&o&&i!==(i=t[4]+(t[8]?t[9].bandwidth()/2:0))&&M(n,"y2",i)},d(t){t&&m(n)}}}function Go(t){let n,e,r,i,o,a,u,s,c,l=t[2](t[17])+"",f=!1!==t[0]&&Bo(t),h=!0===t[1]&&Io(t);return{c(){n=$("g"),f&&f.c(),e=b(),h&&h.c(),r=$("text"),i=x(l),M(r,"x",t[3]),M(r,"y",o=t[4]+(t[8]?t[9].bandwidth()/2:0)),M(r,"dx",a=t[8]?-9:t[5]),M(r,"dy",u=t[8]?4:t[6]),N(r,"text-anchor",t[8]?"end":t[7]),M(r,"class","svelte-fhtsfb"),M(n,"class",s="tick tick-"+t[17]+" svelte-fhtsfb"),M(n,"transform",c="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")},m(t,o){g(t,n,o),f&&f.m(n,null),p(n,e),h&&h.m(n,null),p(n,r),p(r,i)},p(t,d){!1!==t[0]?f?f.p(t,d):(f=Bo(t),f.c(),f.m(n,e)):f&&(f.d(1),f=null),!0===t[1]?h?h.p(t,d):(h=Io(t),h.c(),h.m(n,r)):h&&(h.d(1),h=null),1028&d&&l!==(l=t[2](t[17])+"")&&S(i,l),8&d&&M(r,"x",t[3]),784&d&&o!==(o=t[4]+(t[8]?t[9].bandwidth()/2:0))&&M(r,"y",o),288&d&&a!==(a=t[8]?-9:t[5])&&M(r,"dx",a),320&d&&u!==(u=t[8]?4:t[6])&&M(r,"dy",u),384&d&&N(r,"text-anchor",t[8]?"end":t[7]),1024&d&&s!==(s="tick tick-"+t[17]+" svelte-fhtsfb")&&M(n,"class",s),7936&d&&c!==(c="translate("+(t[12][0]+(t[8]?t[11].left:0))+", "+t[9](t[17])+")")&&M(n,"transform",c)},d(t){t&&m(n),f&&f.d(),h&&h.d()}}}function Yo(n){let e,r,i=n[10],o=[];for(let t=0;t<i.length;t+=1)o[t]=Go(Ho(n,i,t));return{c(){e=$("g");for(let t=0;t<o.length;t+=1)o[t].c();M(e,"class","axis y-axis"),M(e,"transform",r="translate("+-n[11].left+", 0)")},m(t,n){g(t,e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null)},p(t,[n]){if(8191&n){let r;for(i=t[10],r=0;r<i.length;r+=1){const a=Ho(t,i,r);o[r]?o[r].p(a,n):(o[r]=Go(a),o[r].c(),o[r].m(e,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=i.length}2048&n&&r!==(r="translate("+-t[11].left+", 0)")&&M(e,"transform",r)},i:t,o:t,d(t){t&&m(e),y(o,t)}}}function Ko(t,n,e){let r,i,o,a,s;const{padding:c,xRange:l,yScale:f}=P("LayerCake");u(t,c,(t=>e(11,a=t))),u(t,l,(t=>e(12,s=t))),u(t,f,(t=>e(9,o=t)));let{gridlines:h=!0}=n,{tickMarks:d=!1}=n,{formatTick:p=(t=>t)}=n,{ticks:g=4}=n,{xTick:m=0}=n,{yTick:y=0}=n,{dxTick:v=0}=n,{dyTick:$=-4}=n,{textAnchor:x="start"}=n;return t.$$set=t=>{"gridlines"in t&&e(0,h=t.gridlines),"tickMarks"in t&&e(1,d=t.tickMarks),"formatTick"in t&&e(2,p=t.formatTick),"ticks"in t&&e(16,g=t.ticks),"xTick"in t&&e(3,m=t.xTick),"yTick"in t&&e(4,y=t.yTick),"dxTick"in t&&e(5,v=t.dxTick),"dyTick"in t&&e(6,$=t.dyTick),"textAnchor"in t&&e(7,x=t.textAnchor)},t.$$.update=()=>{512&t.$$.dirty&&e(8,r="function"==typeof o.bandwidth),66304&t.$$.dirty&&e(10,i=Array.isArray(g)?g:r?o.domain():"function"==typeof g?g(o.ticks()):o.ticks(g))},[h,d,p,m,y,v,$,x,r,o,i,a,s,c,l,f,g]}class Uo extends it{constructor(t){super(),rt(this,t,Ko,Yo,o,{gridlines:0,tickMarks:1,formatTick:2,ticks:16,xTick:3,yTick:4,dxTick:5,dyTick:6,textAnchor:7})}}function Zo(t){let n,e,r,i,o;n=new Fo({props:{gridlines:!1,formatTick:t[4],ticks:t[3],tickMarks:!0}}),r=new Uo({props:{formatTick:t[1]?.formatY}});const a=t[6].default,u=s(a,t,t[7],null);return{c(){Q(n.$$.fragment),e=w(),Q(r.$$.fragment),i=w(),u&&u.c()},m(t,a){tt(n,t,a),g(t,e,a),tt(r,t,a),g(t,i,a),u&&u.m(t,a),o=!0},p(t,n){const e={};2&n&&(e.formatTick=t[1]?.formatY),r.$set(e),u&&u.p&&(!o||128&n)&&f(u,a,t,t[7],o?l(a,t[7],n,null):h(t[7]),null)},i(t){o||(V(n.$$.fragment,t),V(r.$$.fragment,t),V(u,t),o=!0)},o(t){J(n.$$.fragment,t),J(r.$$.fragment,t),J(u,t),o=!1},d(t){nt(n,t),t&&m(e),nt(r,t),t&&m(i),u&&u.d(t)}}}function Xo(t){let n,e;return n=new oi({props:{$$slots:{default:[Zo]},$$scope:{ctx:t}}}),{c(){Q(n.$$.fragment)},m(t,r){tt(n,t,r),e=!0},p(t,e){const r={};130&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){J(n.$$.fragment,t),e=!1},d(t){nt(n,t)}}}function Vo(t){let n,e;return n=new Jr({props:{padding:t[1]?.padding||{right:20,bottom:32,left:32,top:25},x:t[1]?.xKey||"key",y:t[1]?.yKey||"value",xScale:t[1]?.xScale,yDomain:t[1]?.yDomain||t[2],xDomain:t[1]?.xDomain,data:t[0],flatData:t[0].flat(),$$slots:{default:[Xo]},$$scope:{ctx:t}}}),{c(){Q(n.$$.fragment)},m(t,r){tt(n,t,r),e=!0},p(t,[e]){const r={};2&e&&(r.padding=t[1]?.padding||{right:20,bottom:32,left:32,top:25}),2&e&&(r.x=t[1]?.xKey||"key"),2&e&&(r.y=t[1]?.yKey||"value"),2&e&&(r.xScale=t[1]?.xScale),6&e&&(r.yDomain=t[1]?.yDomain||t[2]),2&e&&(r.xDomain=t[1]?.xDomain),1&e&&(r.data=t[0]),1&e&&(r.flatData=t[0].flat()),130&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){J(n.$$.fragment,t),e=!1},d(t){nt(n,t)}}}function Jo(t,n,e){let r,i,{$$slots:o={},$$scope:a}=n,{data:u}=n,{config:s}=n;return t.$$set=t=>{"data"in t&&e(0,u=t.data),"config"in t&&e(1,s=t.config),"$$scope"in t&&e(7,a=t.$$scope)},t.$$.update=()=>{3&t.$$.dirty&&e(5,r=Math.min(...u.flat().map((t=>t[s?.yKey||"value"])))),32&t.$$.dirty&&e(2,i=r<0?[r,null]:[0,null])},[u,s,i,[0,18,52,78,104],t=>[0,18].indexOf(t)>-1?t+" weeks":52==t?"1 year":78==t?"18 months":"> 2 years",r,o,a]}class Qo extends it{constructor(t){super(),rt(this,t,Jo,Vo,o,{data:0,config:1})}}function ta(t,n,e){const r=t.slice();return r[18]=n[e],r[20]=e,r}function na(t){let n,e,r,i,o,a,u;return{c(){n=$("rect"),M(n,"class","group-rect"),M(n,"data-id",e=t[20]),M(n,"x",r=t[9].bandwidth?t[5](t[18]):t[5](t[18])[0]),M(n,"y",i=t[4](t[18])),M(n,"width",o=t[9].bandwidth?t[9].bandwidth():t[7](t[18])),M(n,"height",a=t[6](t[18])),M(n,"fill",u=t[0]?.[t[20]]||t[1]),M(n,"stroke",t[2]),M(n,"stroke-width",t[3])},m(t,e){g(t,n,e)},p(t,e){800&e&&r!==(r=t[9].bandwidth?t[5](t[18]):t[5](t[18])[0])&&M(n,"x",r),272&e&&i!==(i=t[4](t[18]))&&M(n,"y",i),896&e&&o!==(o=t[9].bandwidth?t[9].bandwidth():t[7](t[18]))&&M(n,"width",o),320&e&&a!==(a=t[6](t[18]))&&M(n,"height",a),3&e&&u!==(u=t[0]?.[t[20]]||t[1])&&M(n,"fill",u),4&e&&M(n,"stroke",t[2]),8&e&&M(n,"stroke-width",t[3])},d(t){t&&m(n)}}}function ea(n){let e,r,i,o,a,u,s,c,l,f,h,d,v,b,k,S,E,N,_,T=n[8],C=[];for(let t=0;t<T.length;t+=1)C[t]=na(ta(n,T,t));return{c(){e=$("g");for(let t=0;t<C.length;t+=1)C[t].c();r=w(),i=$("g"),o=$("text"),a=x("% of patients for the area and service you have selected"),u=$("rect"),h=$("text"),d=$("tspan"),v=x("Patients waiting longer"),b=w(),k=$("tspan"),S=x("than their legal right"),M(e,"class","column-group"),M(o,"id","yaxislabel"),M(o,"x","-32"),M(o,"y","-15"),M(o,"class","svelte-31mel2"),M(u,"id","annotation-rect"),M(u,"x",s=n[9](18)+n[9].bandwidth()),M(u,"y",c=n[10](10)),M(u,"width",l=n[9](104)-n[9](18)),M(u,"height",f=n[10](-.2)-n[10](10)),M(u,"fill","#D82D1D"),M(u,"opacity","0.1"),M(k,"x",E=n[9](20)),M(k,"dy","1.1em"),M(h,"x",N=n[9](20)),M(h,"y",_=n[10](9))},m(t,n){g(t,e,n);for(let t=0;t<C.length;t+=1)C[t].m(e,null);g(t,r,n),g(t,i,n),p(i,o),p(o,a),p(i,u),p(i,h),p(h,d),p(d,v),p(h,b),p(h,k),p(k,S)},p(t,[n]){if(1023&n){let r;for(T=t[8],r=0;r<T.length;r+=1){const i=ta(t,T,r);C[r]?C[r].p(i,n):(C[r]=na(i),C[r].c(),C[r].m(e,null))}for(;r<C.length;r+=1)C[r].d(1);C.length=T.length}512&n&&s!==(s=t[9](18)+t[9].bandwidth())&&M(u,"x",s),1024&n&&c!==(c=t[10](10))&&M(u,"y",c),512&n&&l!==(l=t[9](104)-t[9](18))&&M(u,"width",l),1024&n&&f!==(f=t[10](-.2)-t[10](10))&&M(u,"height",f),512&n&&E!==(E=t[9](20))&&M(k,"x",E),512&n&&N!==(N=t[9](20))&&M(h,"x",N),1024&n&&_!==(_=t[10](9))&&M(h,"y",_)},i:t,o:t,d(t){t&&m(e),y(C,t),t&&m(r),t&&m(i)}}}function ra(t,n,e){let r,i,o,a,s,c,l,f;const{data:h,xGet:d,yGet:p,yRange:g,xScale:m,yScale:y}=P("LayerCake");u(t,h,(t=>e(8,c=t))),u(t,d,(t=>e(5,s=t))),u(t,p,(t=>e(4,o=t))),u(t,g,(t=>e(17,a=t))),u(t,m,(t=>e(9,l=t))),u(t,y,(t=>e(10,f=t)));let{colors:v}=n,{fill:$="#245FB7"}=n,{stroke:x="#000"}=n,{strokeWidth:w=0}=n;return t.$$set=t=>{"colors"in t&&e(0,v=t.colors),"fill"in t&&e(1,$=t.fill),"stroke"in t&&e(2,x=t.stroke),"strokeWidth"in t&&e(3,w=t.strokeWidth)},t.$$.update=()=>{32&t.$$.dirty&&e(7,r=t=>{const n=s(t);return Math.max(0,n[1]-n[0])}),131088&t.$$.dirty&&e(6,i=t=>a[0]-o(t))},[v,$,x,w,o,s,i,r,c,l,f,h,d,p,g,m,y,a]}class ia extends it{constructor(t){super(),rt(this,t,ra,ea,o,{colors:0,fill:1,stroke:2,strokeWidth:3})}}var oa="$";function aa(){}function ua(t,n){var e=new aa;if(t instanceof aa)t.each((function(t,n){e.set(n,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==n)for(;++i<o;)e.set(i,t[i]);else for(;++i<o;)e.set(n(r=t[i],i,t),r)}else if(t)for(var a in t)e.set(a,t[a]);return e}function sa(){}aa.prototype=ua.prototype={constructor:aa,has:function(t){return oa+t in this},get:function(t){return this[oa+t]},set:function(t,n){return this[oa+t]=n,this},remove:function(t){var n=oa+t;return n in this&&delete this[n]},clear:function(){for(var t in this)t[0]===oa&&delete this[t]},keys:function(){var t=[];for(var n in this)n[0]===oa&&t.push(n.slice(1));return t},values:function(){var t=[];for(var n in this)n[0]===oa&&t.push(this[n]);return t},entries:function(){var t=[];for(var n in this)n[0]===oa&&t.push({key:n.slice(1),value:this[n]});return t},size:function(){var t=0;for(var n in this)n[0]===oa&&++t;return t},empty:function(){for(var t in this)if(t[0]===oa)return!1;return!0},each:function(t){for(var n in this)n[0]===oa&&t(this[n],n.slice(1),this)}};var ca=ua.prototype;function la(t){let n,e;return n=new ia({}),{c(){Q(n.$$.fragment)},m(t,r){tt(n,t,r),e=!0},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){J(n.$$.fragment,t),e=!1},d(t){nt(n,t)}}}function fa(t){let n,e,r,i,o,a,u,s,c,l,f,h,d,y,$,b,k,E,N,_,T,C,z,R,A,D,P,j,L,O,q,W,F,H,B,I,G=Math.round(t[4]/t[2]*100)+"",Y=("all referrals"==t[1]?"":t[1].split(" ").slice(0,-1).join(" "))+"",K=Math.round(t[5]/t[2]*100)+"",U=1==t[6]?"patient has":"patients have";return B=new Qo({props:{data:t[3],config:t[7],$$slots:{default:[la]},$$scope:{ctx:t}}}),{c(){n=v("p"),e=v("span"),r=x(G),i=x("%"),o=v("br"),a=x(" of "),u=x(Y),s=x(" patients in "),c=x(t[0]),l=x(" are waiting longer than 18 weeks"),f=w(),h=v("p"),d=x("That's "),y=v("strong"),$=x(t[4]),b=x(" patients."),k=w(),E=v("p"),N=v("strong"),_=x(t[5]),T=x(" patients, or "),C=v("strong"),z=x(K),R=x("%"),A=x(", have been waiting 1 year.\r\n    "),D=v("br"),P=w(),j=v("strong"),L=x(t[6]),O=w(),q=x(U),W=x(" been waiting 2 years."),F=w(),H=v("div"),Q(B.$$.fragment),M(e,"class","big svelte-mqpz37"),M(n,"class","result svelte-mqpz37"),M(h,"class","svelte-mqpz37"),M(E,"class","svelte-mqpz37"),M(H,"class","col-container svelte-mqpz37")},m(t,m){g(t,n,m),p(n,e),p(e,r),p(e,i),p(n,o),p(n,a),p(n,u),p(n,s),p(n,c),p(n,l),g(t,f,m),g(t,h,m),p(h,d),p(h,y),p(y,$),p(h,b),g(t,k,m),g(t,E,m),p(E,N),p(N,_),p(E,T),p(E,C),p(C,z),p(C,R),p(E,A),p(E,D),p(E,P),p(E,j),p(j,L),p(E,O),p(E,q),p(E,W),g(t,F,m),g(t,H,m),tt(B,H,null),I=!0},p(t,[n]){(!I||20&n)&&G!==(G=Math.round(t[4]/t[2]*100)+"")&&S(r,G),(!I||2&n)&&Y!==(Y=("all referrals"==t[1]?"":t[1].split(" ").slice(0,-1).join(" "))+"")&&S(u,Y),(!I||1&n)&&S(c,t[0]),(!I||16&n)&&S($,t[4]),(!I||32&n)&&S(_,t[5]),(!I||36&n)&&K!==(K=Math.round(t[5]/t[2]*100)+"")&&S(z,K),(!I||64&n)&&S(L,t[6]),(!I||64&n)&&U!==(U=1==t[6]?"patient has":"patients have")&&S(q,U);const e={};8&n&&(e.data=t[3]),128&n&&(e.config=t[7]),2048&n&&(e.$$scope={dirty:n,ctx:t}),B.$set(e)},i(t){I||(V(B.$$.fragment,t),I=!0)},o(t){J(B.$$.fragment,t),I=!1},d(t){t&&m(n),t&&m(f),t&&m(h),t&&m(k),t&&m(E),t&&m(F),t&&m(H),nt(B)}}}sa.prototype={constructor:sa,has:ca.has,add:function(t){return this[oa+(t+="")]=t,this},remove:ca.remove,clear:ca.clear,values:ca.keys,size:ca.size,empty:ca.empty,each:ca.each};function ha(t,n,e){let r,i,o,a,u,s,c,{data:l}=n,{area:f}=n,{service:h}=n,d=!1;return t.$$set=t=>{"data"in t&&e(8,l=t.data),"area"in t&&e(0,f=t.area),"service"in t&&e(1,h=t.service)},t.$$.update=()=>{var n;256&t.$$.dirty&&e(9,r=Object.values(l[0]).slice(0,105).map((n=0,t=>n+=+t))),512&t.$$.dirty&&e(2,i=r[r.length-1]),260&t.$$.dirty&&e(3,s=function(t){var n=[];for(var e in t)n.push({key:e,value:t[e]});return n}(l[0]).filter((t=>!Number.isNaN(parseInt(t.key)))).map((t=>({key:+t.key,value:+t.value/i*100})))),1032&t.$$.dirty&&s&&!d&&(e(7,c={xScale:Ne().paddingInner([.02]),xDomain:s.map((t=>t.key)),yDomain:[0,10],formatY:t=>t+"%"}),e(10,d=!0)),516&t.$$.dirty&&e(4,o=i-r[17]),516&t.$$.dirty&&e(5,a=i-r[51]),516&t.$$.dirty&&e(6,u=i-r[103])},[f,h,i,s,o,a,u,c,l,r,d]}class da extends it{constructor(t){super(),rt(this,t,ha,fa,o,{data:8,area:0,service:1})}}function pa(t){let n;return{c(){n=v("div"),M(n,"id","errorBox"),M(n,"class","svelte-5cnc28")},m(e,r){g(e,n,r),n.innerHTML=t[1]},p(t,e){2&e&&(n.innerHTML=t[1])},d(t){t&&m(n)}}}function ga(n){let e,i,o,a,u,s,c,l,f=""!=n[1]&&pa(n);return{c(){e=v("div"),i=v("div"),o=v("input"),a=w(),u=v("button"),u.textContent="Go",s=w(),f&&f.c(),M(o,"id","postcode-search"),M(o,"placeholder","Search a postcode"),M(o,"class","svelte-5cnc28"),M(u,"class","svelte-5cnc28"),M(i,"class","svelte-5cnc28"),M(e,"class","container svelte-5cnc28")},m(t,r){g(t,e,r),p(e,i),p(i,o),E(o,n[0]),p(i,a),p(i,u),p(e,s),f&&f.m(e,null),c||(l=[k(o,"input",n[6]),k(o,"keypress",n[7]),k(u,"click",n[3])],c=!0)},p(t,[n]){1&n&&o.value!==t[0]&&E(o,t[0]),""!=t[1]?f?f.p(t,n):(f=pa(t),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:t,o:t,d(t){t&&m(e),f&&f.d(),c=!1,r(l)}}}function ma(t,n,e){const r=D();let{api:i="https://api.postcodes.io/postcodes/"}=n,{includeWales:o=!1}=n,a="",u="",s=null;function c(){"Enter"===event.key&&l()}function l(){""!==a?(e(1,u="Loading..."),s=null,fetch(i+a,{method:"GET"}).then((t=>t.json())).then((t=>{200!=t.status||"England"!=t.result.country?f():(s=t.result,e(1,u=""),r("message",s))}))):f()}function f(){e(1,u=`Please enter a valid postcode in England${o?" or Wales":""}.\n    <br><br> Alternatively select an area from the dropdown or hover over the map.`),s=null,setTimeout((()=>{e(1,u="")}),5e3)}return t.$$set=t=>{"api"in t&&e(4,i=t.api),"includeWales"in t&&e(5,o=t.includeWales)},[a,u,c,l,i,o,function(){a=this.value,e(0,a)},()=>c()]}class ya extends it{constructor(t){super(),rt(this,t,ma,ga,o,{api:4,includeWales:5})}}function va(t,n,e){const r=t.slice();return r[27]=n[e],r}function $a(t,n,e){const r=t.slice();return r[27]=n[e],r}function xa(t){let n,e=t[12],r=[];for(let n=0;n<e.length;n+=1)r[n]=wa($a(t,e,n));return{c(){n=v("div");for(let t=0;t<r.length;t+=1)r[t].c();M(n,"class","dropdown svelte-1fwvpt9"),N(n,"left",t[11][1].getBoundingClientRect().left+"px")},m(t,e){g(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,i){if(6152&i[0]){let o;for(e=t[12],o=0;o<e.length;o+=1){const a=$a(t,e,o);r[o]?r[o].p(a,i):(r[o]=wa(a),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=e.length}2048&i[0]&&N(n,"left",t[11][1].getBoundingClientRect().left+"px")},d(t){t&&m(n),y(r,t)}}}function wa(t){let n,e,r,i,o,a=t[27]+"";return{c(){n=v("p"),e=x(a),r=w(),N(n,"color","#333"),M(n,"class","svelte-1fwvpt9")},m(a,u){g(a,n,u),p(n,e),p(n,r),i||(o=k(n,"click",t[18]),i=!0)},p(t,n){4096&n[0]&&a!==(a=t[27]+"")&&S(e,a)},d(t){t&&m(n),i=!1,o()}}}function ba(t){let n,e=t[10],r=[];for(let n=0;n<e.length;n+=1)r[n]=ka(va(t,e,n));return{c(){n=v("div");for(let t=0;t<r.length;t+=1)r[t].c();M(n,"class","dropdown svelte-1fwvpt9"),N(n,"left",t[9][1].getBoundingClientRect().left+"px")},m(t,e){g(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,i){if(1538&i[0]){let o;for(e=t[10],o=0;o<e.length;o+=1){const a=va(t,e,o);r[o]?r[o].p(a,i):(r[o]=ka(a),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=e.length}512&i[0]&&N(n,"left",t[9][1].getBoundingClientRect().left+"px")},d(t){t&&m(n),y(r,t)}}}function ka(t){let n,e,r,i,o=t[27]+"";return{c(){n=v("p"),e=x(o),N(n,"color","#333"),M(n,"class","svelte-1fwvpt9")},m(o,a){g(o,n,a),p(n,e),r||(i=k(n,"click",t[21]),r=!0)},p(t,n){1024&n[0]&&o!==(o=t[27]+"")&&S(e,o)},d(t){t&&m(n),r=!1,i()}}}function Ma(t){let n,e;return n=new Ao({props:{data:t[0],features:t[4],config:t[5],mapPropKey:"nuts118nm",area:t[13](t[2])}}),n.$on("mousemove",t[15]),{c(){Q(n.$$.fragment)},m(t,r){tt(n,t,r),e=!0},p(t,e){const r={};1&e[0]&&(r.data=t[0]),16&e[0]&&(r.features=t[4]),32&e[0]&&(r.config=t[5]),4&e[0]&&(r.area=t[13](t[2])),n.$set(r)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){J(n.$$.fragment,t),e=!1},d(t){nt(n,t)}}}function Sa(t){let n,e;return n=new da({props:{data:t[7],area:t[1],service:t[3]}}),{c(){Q(n.$$.fragment)},m(t,r){tt(n,t,r),e=!0},p(t,e){const r={};128&e[0]&&(r.data=t[7]),2&e[0]&&(r.area=t[1]),8&e[0]&&(r.service=t[3]),n.$set(r)},i(t){e||(V(n.$$.fragment,t),e=!0)},o(t){J(n.$$.fragment,t),e=!1},d(t){nt(n,t)}}}function Ea(t){let n,e,i,o,a,u,s,c,l,f,h,d,y,$,b,E,N,_,T,C,z,R,A,D,P,j,L,O,q,W,F,H,B,I,G,Y=t[11][0]&&xa(t);$=new ya({}),$.$on("message",t[14]);let K=t[9][0]&&ba(t),U=t[0]&&t[4]&&t[8]&&Ma(t),et=t[7]&&Sa(t);return{c(){n=v("div"),e=v("h3"),e.textContent="How long are hospital waiting lists in your area?",i=w(),o=v("div"),a=v("h4"),a.textContent="See how many people are on waiting lists for",u=w(),s=v("div"),c=v("h4"),l=x(t[3]),f=w(),Y&&Y.c(),h=w(),d=v("h4"),d.textContent="in your postcode of",y=w(),Q($.$$.fragment),b=w(),E=v("h4"),E.textContent="or pick your NHS commissioning area:",N=w(),_=v("div"),T=v("h4"),C=x(t[1]),z=w(),K&&K.c(),R=w(),A=v("h4"),A.textContent=".",D=w(),P=v("div"),j=v("div"),U&&U.c(),O=w(),q=v("div"),et&&et.c(),F=w(),H=v("div"),H.innerHTML="Data as of September 2022\n    <br/>Source: NHS England",M(a,"class","svelte-1fwvpt9"),M(c,"class","svelte-1fwvpt9"),M(s,"class","selectBlock svelte-1fwvpt9"),M(d,"class","svelte-1fwvpt9"),M(E,"class","svelte-1fwvpt9"),M(T,"class","svelte-1fwvpt9"),M(_,"class","selectBlock svelte-1fwvpt9"),M(A,"class","svelte-1fwvpt9"),M(o,"class","subtitle svelte-1fwvpt9"),M(j,"class",L="map-container "+(t[6]?"":"isLoading")+" svelte-1fwvpt9"),M(q,"class",W="col-container "+(t[7]?"":"isLoading")+" svelte-1fwvpt9"),M(P,"class","grid svelte-1fwvpt9"),M(H,"class","source-text"),M(n,"class","embed-container")},m(r,m){g(r,n,m),p(n,e),p(n,i),p(n,o),p(o,a),p(o,u),p(o,s),p(s,c),p(c,l),t[16](c),p(s,f),Y&&Y.m(s,null),p(o,h),p(o,d),p(o,y),tt($,o,null),p(o,b),p(o,E),p(o,N),p(o,_),p(_,T),p(T,C),t[19](T),p(_,z),K&&K.m(_,null),p(o,R),p(o,A),p(n,D),p(n,P),p(P,j),U&&U.m(j,null),p(P,O),p(P,q),et&&et.m(q,null),p(n,F),p(n,H),B=!0,I||(G=[k(c,"click",t[17]),k(T,"click",t[20])],I=!0)},p(t,n){(!B||8&n[0])&&S(l,t[3]),t[11][0]?Y?Y.p(t,n):(Y=xa(t),Y.c(),Y.m(s,null)):Y&&(Y.d(1),Y=null),(!B||2&n[0])&&S(C,t[1]),t[9][0]?K?K.p(t,n):(K=ba(t),K.c(),K.m(_,null)):K&&(K.d(1),K=null),t[0]&&t[4]&&t[8]?U?(U.p(t,n),273&n[0]&&V(U,1)):(U=Ma(t),U.c(),V(U,1),U.m(j,null)):U&&(Z(),J(U,1,1,(()=>{U=null})),X()),(!B||64&n[0]&&L!==(L="map-container "+(t[6]?"":"isLoading")+" svelte-1fwvpt9"))&&M(j,"class",L),t[7]?et?(et.p(t,n),128&n[0]&&V(et,1)):(et=Sa(t),et.c(),V(et,1),et.m(q,null)):et&&(Z(),J(et,1,1,(()=>{et=null})),X()),(!B||128&n[0]&&W!==(W="col-container "+(t[7]?"":"isLoading")+" svelte-1fwvpt9"))&&M(q,"class",W)},i(t){B||(V($.$$.fragment,t),V(U),V(et),B=!0)},o(t){J($.$$.fragment,t),J(U),J(et),B=!1},d(e){e&&m(n),t[16](null),Y&&Y.d(),nt($),t[19](null),K&&K.d(),U&&U.d(),et&&et.d(),I=!1,r(G)}}}function Na(t,n,e){let r,i,o,a,u,s,c=!1,l=[!1,0],f=["Manchester","Liverpool"],h=f[0],d=[!1,0],p=["all surgery","other types of surgery"],g=p[0];var m;let y;m=()=>{window.pymChild.sendHeight(),setTimeout((()=>e(6,c=!0)),250)},A().$$.on_mount.push(m),fetch("./data/data.csv",{mode:"cors",cache:"no-store"}).then((t=>t.text())).then((t=>{e(0,o=ht(t)),e(0,o=o.map((t=>({...t})))),console.log(o),e(10,f=[...new Set(o.map((t=>t["Commissioner Org Name"])))]),e(1,h="Manchester"),e(12,p=[...new Set(o.map((t=>t["Treatment Function Name"])))]),e(3,g="all referrals")})),fetch("./data/map/sub-icb.json",{mode:"cors",cache:"no-store"}).then((t=>t.json())).then((t=>{var n,o;e(5,i={keyParse:t=>t,valueParse:t=>+t,formatTickX:t=>t,formatTickY:kt(",.0f"),projection:ge}),e(4,(n=t,"string"==typeof(o=t.objects.subicb)&&(o=n.objects[o]),r="GeometryCollection"===o.type?{type:"FeatureCollection",features:o.geometries.map((function(t){return Tt(n,t)}))}:Tt(n,o))),e(4,r={...r,features:r.features.map((t=>({...t,properties:{...t.properties,value:1e3*Math.random()}})))})})),fetch("./data/data.csv",{mode:"cors",cache:"no-store"}).then((t=>t.text())).then((t=>{y=ht(t),y=y.map((t=>({...t,value:+t.value})))})),fetch("./data/codes.csv",{mode:"cors",cache:"no-store"}).then((t=>t.text())).then((t=>{e(8,u=ht(t)),console.log(u)}));return t.$$.update=()=>{var n,r;11&t.$$.dirty[0]&&o&&h&&g&&(n=o.filter((t=>t["Commissioner Org Name"]==h&&t["Treatment Function Name"]==g))[0]["Commissioner Org Code"],e(2,s=n)),13&t.$$.dirty[0]&&o&&s&&g&&(r=o.filter((t=>t["Commissioner Org Code"]==s&&t["Treatment Function Name"]==g))[0]["Commissioner Org Name"],e(1,h=r)),13&t.$$.dirty[0]&&o&&e(7,a=[o.filter((t=>t["Commissioner Org Code"]==s&&t["Treatment Function Name"]==g))[0]])},[o,h,s,g,r,i,c,a,u,l,f,d,p,function(t){return u.filter((n=>n.subicbCD==t))[0].LOC22CD},function(t){e(2,s=t.detail.codes.ccg_id)},function(t){var n;e(2,(n=t.detail.detail.props.LOC22CD,s=u.filter((t=>t.LOC22CD==n))[0].subicbCD))},function(t){L[t?"unshift":"push"]((()=>{d[1]=t,e(11,d)}))},()=>{e(11,d[0]=!d[0],d)},()=>{e(11,d[0]=!1,d),e(3,g=event.srcElement.innerText)},function(t){L[t?"unshift":"push"]((()=>{l[1]=t,e(9,l)}))},()=>{e(9,l[0]=!l[0],l)},()=>{e(9,l[0]=!1,l),e(1,h=event.srcElement.innerText)}]}return new class extends it{constructor(t){super(),rt(this,t,Na,Ea,o,{},null,[-1,-1])}}({target:document.body,props:{}})}();
