var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(i)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l;function c(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function u(t,e,n){t.$$.on_destroy.push(c(e,n))}function h(t,e,n,i){if(t){const r=f(t,e,n,i);return t[0](r)}}function f(t,e,i,r){return t[1]&&r?n(i.ctx.slice(),t[1](r(e))):i.ctx}function d(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}function g(t,e,n,i,r,o){if(r){const s=f(e,n,i,o);t.p(s,r)}}function p(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}const y="undefined"!=typeof window;let m=y?()=>window.performance.now():()=>Date.now(),x=y?t=>requestAnimationFrame(t):t;const $=new Set;function v(t){$.forEach((e=>{e.c(t)||($.delete(e),e.f())})),0!==$.size&&x(v)}function w(t){let e;return 0===$.size&&x(v),{promise:new Promise((n=>{$.add(e={c:t,f:n})})),abort(){$.delete(e)}}}function b(t,e){t.appendChild(e)}function k(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function _(t){const e=D("style");return function(t,e){b(t.head||t,e)}(k(t),e),e}function M(t,e,n){t.insertBefore(e,n||null)}function N(t){t.parentNode.removeChild(t)}function T(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function D(t){return document.createElement(t)}function A(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function C(t){return document.createTextNode(t)}function S(){return C(" ")}function q(){return C("")}function z(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function E(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function P(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function R(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function j(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}let L;function W(){if(void 0===L){L=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){L=!0}}return L}function O(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=D("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=W();let r;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=z(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{r=z(n.contentWindow,"resize",e)}),b(t,n),()=>{(i||r&&n.contentWindow)&&r(),N(n)}}function U(t,e,n=!1){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,n,!1,e),i}const I=new Set;let F,H=0;function B(t,e,n,i,r,o,s,a=0){const l=16.666/i;let c="{\n";for(let t=0;t<=1;t+=l){const i=e+(n-e)*o(t);c+=100*t+`%{${s(i,1-i)}}\n`}const u=c+`100% {${s(n,1-n)}}\n}`,h=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,f=k(t);I.add(f);const d=f.__svelte_stylesheet||(f.__svelte_stylesheet=_(t).sheet),g=f.__svelte_rules||(f.__svelte_rules={});g[h]||(g[h]=!0,d.insertRule(`@keyframes ${h} ${u}`,d.cssRules.length));const p=t.style.animation||"";return t.style.animation=`${p?`${p}, `:""}${h} ${i}ms linear ${r}ms 1 both`,H+=1,h}function Y(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-i.length;r&&(t.style.animation=i.join(", "),H-=r,H||x((()=>{H||(I.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),I.clear())})))}function X(t){F=t}function G(){if(!F)throw new Error("Function called outside component initialization");return F}function K(){const t=G();return(e,n)=>{const i=t.$$.callbacks[e];if(i){const r=U(e,n);i.slice().forEach((e=>{e.call(t,r)}))}}}function J(t){return G().$$.context.get(t)}const V=[],Z=[],Q=[],tt=[],et=Promise.resolve();let nt=!1;function it(t){Q.push(t)}let rt=!1;const ot=new Set;function st(){if(!rt){rt=!0;do{for(let t=0;t<V.length;t+=1){const e=V[t];X(e),at(e.$$)}for(X(null),V.length=0;Z.length;)Z.pop()();for(let t=0;t<Q.length;t+=1){const e=Q[t];ot.has(e)||(ot.add(e),e())}Q.length=0}while(V.length);for(;tt.length;)tt.pop()();nt=!1,rt=!1,ot.clear()}}function at(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(it)}}let lt;function ct(t,e,n){t.dispatchEvent(U(`${e?"intro":"outro"}${n}`))}const ut=new Set;let ht;function ft(){ht={r:0,c:[],p:ht}}function dt(){ht.r||o(ht.c),ht=ht.p}function gt(t,e){t&&t.i&&(ut.delete(t),t.i(e))}function pt(t,e,n,i){if(t&&t.o){if(ut.has(t))return;ut.add(t),ht.c.push((()=>{ut.delete(t),i&&(n&&t.d(1),i())})),t.o(e)}}const yt={duration:0};function mt(n,i,r,a){let l=i(n,r),c=a?0:1,u=null,h=null,f=null;function d(){f&&Y(n,f)}function g(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function p(i){const{delay:r=0,duration:s=300,easing:a=e,tick:p=t,css:y}=l||yt,x={start:m()+r,b:i};i||(x.group=ht,ht.r+=1),u||h?h=x:(y&&(d(),f=B(n,c,i,s,r,a,y)),i&&p(0,1),u=g(x,s),it((()=>ct(n,i,"start"))),w((t=>{if(h&&t>h.start&&(u=g(h,s),h=null,ct(n,u.b,"start"),y&&(d(),f=B(n,c,u.b,u.duration,0,a,l.css))),u)if(t>=u.end)p(c=u.b,1-c),ct(n,u.b,"end"),h||(u.b?d():--u.group.r||o(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;c=u.a+u.d*a(e/u.duration),p(c,1-c)}return!(!u&&!h)})))}return{run(t){s(l)?(lt||(lt=Promise.resolve(),lt.then((()=>{lt=null}))),lt).then((()=>{l=l(),p(t)})):p(t)},end(){d(),u=h=null}}}function xt(t){t&&t.c()}function $t(t,e,n,r){const{fragment:a,on_mount:l,on_destroy:c,after_update:u}=t.$$;a&&a.m(e,n),r||it((()=>{const e=l.map(i).filter(s);c?c.push(...e):o(e),t.$$.on_mount=[]})),u.forEach(it)}function vt(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function wt(t,e){-1===t.$$.dirty[0]&&(V.push(t),nt||(nt=!0,et.then(st)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function bt(e,n,i,s,a,l,c,u=[-1]){const h=F;X(e);const f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:n.context||[]),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||h.$$.root};c&&c(f.root);let d=!1;if(f.ctx=i?i(e,n.props||{},((t,n,...i)=>{const r=i.length?i[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=r)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](r),d&&wt(e,t)),n})):[],f.update(),d=!0,o(f.before_update),f.fragment=!!s&&s(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(N)}else f.fragment&&f.fragment.c();n.intro&&gt(e.$$.fragment),$t(e,n.target,n.anchor,n.customElement),st()}X(h)}class kt{$destroy(){vt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const _t={xDomain:[0,80],yDomain:void 0,xTicks:3,yTicks:2,xSuffix:"%",ySuffix:"",xLabel:!0,yLabel:!1,formatTickX:t=>t,formatTickY:t=>t};var Mt=Object.freeze({__proto__:null,chartType:"Dot",dataConfig:{keyField:"question",valueField:"Upper class",keyType:"discrete",valueType:"continuous",keyParse:t=>t,valueParse:t=>t,scale:"shared",sortBy:"key",sortOrder:"desc",splitField:"Max",radius:16},axisConfig:_t,chartConfig:{padding:{top:0,right:12,bottom:20,left:12},tweenDuration:0,legend:!1,tooltip:!0,type:"beeswarm"}}),Nt=[{q_num:"1",question:"Boris Johnson","Working class":"4","Middle class":"18","Upper class":"71",Max:"Upper class"},{q_num:"2",question:"Victoria Beckham","Working class":"20","Middle class":"33","Upper class":"38",Max:"Upper class"},{q_num:"3",question:"Marcus Rashford","Working class":"40","Middle class":"24","Upper class":"20",Max:"Working class"},{q_num:"4",question:"Jeremy Corbyn","Working class":"22","Middle class":"37","Upper class":"28",Max:"Middle class"},{q_num:"5",question:"Alan Sugar","Working class":"24","Middle class":"22","Upper class":"44",Max:"Upper class"},{q_num:"6",question:"Theresa May","Working class":"4","Middle class":"37","Upper class":"49",Max:"Upper class"},{q_num:"7",question:"Ed Sheeran","Working class":"27","Middle class":"35","Upper class":"26",Max:"Middle class"},{q_num:"8",question:"Jamie Oliver","Working class":"24","Middle class":"43","Upper class":"24",Max:"Middle class"},{q_num:"9",question:"Adele","Working class":"32","Middle class":"28","Upper class":"27",Max:"Working class"},{q_num:"10",question:"JK Rowling","Working class":"16","Middle class":"42","Upper class":"32",Max:"Middle class"},{q_num:"11",question:"Paul McCartney","Working class":"25","Middle class":"32","Upper class":"30",Max:"Middle class"},{q_num:"12",question:"Katie Price","Working class":"50","Middle class":"21","Upper class":"16",Max:"Working class"},{q_num:"13",question:"Cheryl Cole","Working class":"38","Middle class":"27","Upper class":"20",Max:"Working class"},{q_num:"14",question:"Andy Murray","Working class":"18","Middle class":"44","Upper class":"24",Max:"Middle class"},{q_num:"15",question:"Holly Willoughby","Working class":"22","Middle class":"40","Upper class":"23",Max:"Middle class"},{q_num:"16",question:"Nigella Lawson","Working class":"8","Middle class":"35","Upper class":"42",Max:"Upper class"},{q_num:"17",question:"Keir Starmer","Working class":"5","Middle class":"35","Upper class":"44",Max:"Upper class"},{q_num:"18",question:"Nicola Sturgeon","Working class":"16","Middle class":"41","Upper class":"26",Max:"Middle class"},{q_num:"19",question:"Nigel Farage","Working class":"12","Middle class":"39","Upper class":"33",Max:"Middle class"},{q_num:"20",question:"Harry Styles","Working class":"26","Middle class":"33","Upper class":"24",Max:"Middle class"},{q_num:"21",question:"Tom Daley","Working class":"24","Middle class":"44","Upper class":"13",Max:"Middle class"},{q_num:"22",question:"Trevor McDonald","Working class":"13","Middle class":"45","Upper class":"22",Max:"Middle class"},{q_num:"23",question:"Lenny Henry","Working class":"33","Middle class":"33","Upper class":"14",Max:"Working class"},{q_num:"24",question:"Tyson Fury","Working class":"42","Middle class":"20","Upper class":"18",Max:"Working class"},{q_num:"25",question:"Molly-Mae Hague","Working class":"13","Middle class":"22","Upper class":"17",Max:"Middle class"}];function Tt(e){let n,i,r,s,a,l,c,u,h,f,d,g,p,y,m,x,$=Math.floor(e[0]/e[1])+1+"",v=e[3]?"Results":"&gt;";return{c(){n=D("div"),i=D("button"),r=C("<"),a=S(),l=D("span"),c=C($),u=C(" / "),h=C(e[5]),f=S(),d=D("button"),g=S(),p=D("button"),y=C("Skip all"),i.disabled=s=e[4]||e[2],E(l,"class","svelte-u8jpi"),d.disabled=e[2],p.disabled=e[2],E(n,"class","svelte-u8jpi")},m(t,o){M(t,n,o),b(n,i),b(i,r),b(n,a),b(n,l),b(l,c),b(l,u),b(l,h),b(n,f),b(n,d),d.innerHTML=v,b(n,g),b(n,p),b(p,y),m||(x=[z(i,"click",e[6]),z(d,"click",e[7]),z(p,"click",e[8])],m=!0)},p(t,[e]){20&e&&s!==(s=t[4]||t[2])&&(i.disabled=s),3&e&&$!==($=Math.floor(t[0]/t[1])+1+"")&&R(c,$),8&e&&v!==(v=t[3]?"Results":"&gt;")&&(d.innerHTML=v),4&e&&(d.disabled=t[2]),4&e&&(p.disabled=t[2])},i:t,o:t,d(t){t&&N(n),m=!1,o(x)}}}function Dt(t,e,n){let i,r,{pageSize:o=3}=e,{pageOffset:s=0}=e,{dataSize:a=10}=e,{resultsAreDisplayed:l}=e;const c=K();let u=Math.ceil(a/o);return t.$$set=t=>{"pageSize"in t&&n(1,o=t.pageSize),"pageOffset"in t&&n(0,s=t.pageOffset),"dataSize"in t&&n(9,a=t.dataSize),"resultsAreDisplayed"in t&&n(2,l=t.resultsAreDisplayed)},t.$$.update=()=>{1&t.$$.dirty&&n(4,i=s<=0),515&t.$$.dirty&&n(3,r=s>=a-o)},[s,o,l,r,i,u,function(){s-o>=0&&(n(0,s-=o),c("updatePage",s))},function(){s+o<a?(n(0,s+=o),c("updatePage",s)):r&&c("showResults")},function(){c("showResults")},a]}class At extends kt{constructor(t){super(),bt(this,t,Dt,Tt,a,{pageSize:1,pageOffset:0,dataSize:9,resultsAreDisplayed:2})}}const Ct=[];function St(e,n=t){let i;const r=new Set;function o(t){if(a(e,t)&&(e=t,i)){const t=!Ct.length;for(const t of r)t[1](),Ct.push(t,e);if(t){for(let t=0;t<Ct.length;t+=2)Ct[t][0](Ct[t+1]);Ct.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,a=t){const l=[s,a];return r.add(l),1===r.size&&(i=n(o)||t),s(e),()=>{r.delete(l),0===r.size&&(i(),i=null)}}}}function qt(e,n,i){const r=!Array.isArray(e),a=r?[e]:e,l=n.length<2;return u=e=>{let i=!1;const u=[];let h=0,f=t;const d=()=>{if(h)return;f();const i=n(r?u[0]:u,e);l?e(i):f=s(i)?i:t},g=a.map(((t,e)=>c(t,(t=>{u[e]=t,h&=~(1<<e),i&&d()}),(()=>{h|=1<<e}))));return i=!0,d(),function(){o(g),f()}},{subscribe:St(i,u).subscribe};var u}function zt(t){return 0===(e=t)||e?Array.isArray(t)?e=>t.map((t=>"function"!=typeof t?e[t]:t(e))):"function"!=typeof t?e=>e[t]:t:null;var e}function Et(t,e={}){return function(t){const e={};for(const n of t){if(Object(n)!==n)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:i}=n;Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:i})}return e}(Object.entries(t).filter((([t,n])=>void 0!==n&&void 0===e[t])))}function Pt(t,e){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array.");if(Array.isArray(e)||null==e)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const n={},i=Object.keys(e),r=i.length;let o,s,a,l,c,u,h,f;const d=t.length;for(o=0;o<r;o+=1){for(l=i[o],h=e[l],c=null,u=null,s=0;s<d;s+=1)if(f=h(t[s]),Array.isArray(f)){const t=f.length;for(a=0;a<t;a+=1)void 0!==f[a]&&null!==f[a]&&!1===Number.isNaN(f[a])&&((null===c||f[a]<c)&&(c=f[a]),(null===u||f[a]>u)&&(u=f[a]))}else null!=f&&!1===Number.isNaN(f)&&((null===c||f<c)&&(c=f),(null===u||f>u)&&(u=f));n[l]=[c,u]}return n}function Rt(t=[],e){return!0===Array.isArray(e)?e.map(((e,n)=>null===e?t[n]:e)):t}function jt(t){return function([e,n]){return e?Rt(e[t],n):n}}function Lt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Wt(t){let e=t,n=t;function i(t,e,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){const o=i+r>>>1;n(t[o],e)<0?i=o+1:r=o}return i}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>Lt(t(e),n)}(t)),{left:i,center:function(t,n,r,o){null==r&&(r=0),null==o&&(o=t.length);const s=i(t,n,r,o-1);return s>r&&e(t[s-1],n)>-e(t[s],n)?s-1:s},right:function(t,e,i,r){for(null==i&&(i=0),null==r&&(r=t.length);i<r;){const o=i+r>>>1;n(t[o],e)>0?r=o:i=o+1}return i}}}const Ot=Wt(Lt).right;Wt((function(t){return null===t?NaN:+t})).center;var Ut=Ot,It=Math.sqrt(50),Ft=Math.sqrt(10),Ht=Math.sqrt(2);function Bt(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=It?10:o>=Ft?5:o>=Ht?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=It?10:o>=Ft?5:o>=Ht?2:1)}function Yt(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o}function Xt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const Gt=Symbol("implicit");function Kt(){var t=new Map,e=[],n=[],i=Gt;function r(r){var o=r+"",s=t.get(o);if(!s){if(i!==Gt)return i;t.set(o,s=e.push(r))}return n[(s-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const i of n){const n=i+"";t.has(n)||t.set(n,e.push(i))}return r},r.range=function(t){return arguments.length?(n=Array.from(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Kt(e,n).unknown(i)},Xt.apply(r,arguments),r}function Jt(){var t,e,n=Kt().unknown(void 0),i=n.domain,r=n.range,o=0,s=1,a=!1,l=0,c=0,u=.5;function h(){var n=i().length,h=s<o,f=h?s:o,d=h?o:s;t=(d-f)/Math.max(1,n-l+2*c),a&&(t=Math.floor(t)),f+=(d-f-t*(n-l))*u,e=t*(1-l),a&&(f=Math.round(f),e=Math.round(e));var g=Yt(n).map((function(e){return f+t*e}));return r(h?g.reverse():g)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),h()):i()},n.range=function(t){return arguments.length?([o,s]=t,o=+o,s=+s,h()):[o,s]},n.rangeRound=function(t){return[o,s]=t,o=+o,s=+s,a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(c=+t,h()):c},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),h()):u},n.copy=function(){return Jt(i(),[o,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},Xt.apply(h(),arguments)}function Vt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Zt(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Qt(){}var te=.7,ee=1/te,ne="\\s*([+-]?\\d+)\\s*",ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oe=/^#([0-9a-f]{3,8})$/,se=new RegExp("^rgb\\("+[ne,ne,ne]+"\\)$"),ae=new RegExp("^rgb\\("+[re,re,re]+"\\)$"),le=new RegExp("^rgba\\("+[ne,ne,ne,ie]+"\\)$"),ce=new RegExp("^rgba\\("+[re,re,re,ie]+"\\)$"),ue=new RegExp("^hsl\\("+[ie,re,re]+"\\)$"),he=new RegExp("^hsla\\("+[ie,re,re,ie]+"\\)$"),fe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function de(){return this.rgb().formatHex()}function ge(){return this.rgb().formatRgb()}function pe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ye(e):3===n?new ve(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?me(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?me(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=se.exec(t))?new ve(e[1],e[2],e[3],1):(e=ae.exec(t))?new ve(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=le.exec(t))?me(e[1],e[2],e[3],e[4]):(e=ce.exec(t))?me(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ue.exec(t))?_e(e[1],e[2]/100,e[3]/100,1):(e=he.exec(t))?_e(e[1],e[2]/100,e[3]/100,e[4]):fe.hasOwnProperty(t)?ye(fe[t]):"transparent"===t?new ve(NaN,NaN,NaN,0):null}function ye(t){return new ve(t>>16&255,t>>8&255,255&t,1)}function me(t,e,n,i){return i<=0&&(t=e=n=NaN),new ve(t,e,n,i)}function xe(t){return t instanceof Qt||(t=pe(t)),t?new ve((t=t.rgb()).r,t.g,t.b,t.opacity):new ve}function $e(t,e,n,i){return 1===arguments.length?xe(t):new ve(t,e,n,null==i?1:i)}function ve(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function we(){return"#"+ke(this.r)+ke(this.g)+ke(this.b)}function be(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ke(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function _e(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ne(t,e,n,i)}function Me(t){if(t instanceof Ne)return new Ne(t.h,t.s,t.l,t.opacity);if(t instanceof Qt||(t=pe(t)),!t)return new Ne;if(t instanceof Ne)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Ne(s,a,l,t.opacity)}function Ne(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Te(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Vt(Qt,pe,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:de,formatHex:de,formatHsl:function(){return Me(this).formatHsl()},formatRgb:ge,toString:ge}),Vt(ve,$e,Zt(Qt,{brighter:function(t){return t=null==t?ee:Math.pow(ee,t),new ve(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?te:Math.pow(te,t),new ve(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:we,formatHex:we,formatRgb:be,toString:be})),Vt(Ne,(function(t,e,n,i){return 1===arguments.length?Me(t):new Ne(t,e,n,null==i?1:i)}),Zt(Qt,{brighter:function(t){return t=null==t?ee:Math.pow(ee,t),new Ne(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?te:Math.pow(te,t),new Ne(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new ve(Te(t>=240?t-240:t+120,r,i),Te(t,r,i),Te(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var De=t=>()=>t;function Ae(t){return 1==(t=+t)?Ce:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):De(isNaN(e)?n:e)}}function Ce(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):De(isNaN(t)?e:t)}var Se=function t(e){var n=Ae(e);function i(t,e){var i=n((t=$e(t)).r,(e=$e(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=Ce(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function qe(t,e){e||(e=[]);var n,i=t?Math.min(e.length,t.length):0,r=e.slice();return function(o){for(n=0;n<i;++n)r[n]=t[n]*(1-o)+e[n]*o;return r}}function ze(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=Oe(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}}function Ee(t,e){var n=new Date;return t=+t,e=+e,function(i){return n.setTime(t*(1-i)+e*i),n}}function Pe(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Re(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Oe(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}}var je=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Le=new RegExp(je.source,"g");function We(t,e){var n,i,r,o=je.lastIndex=Le.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=je.exec(t))&&(i=Le.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Pe(n,i)})),o=Le.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})}function Oe(t,e){var n,i=typeof e;return null==e||"boolean"===i?De(e):("number"===i?Pe:"string"===i?(n=pe(e))?(e=n,Se):We:e instanceof pe?Se:e instanceof Date?Ee:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?qe:Array.isArray(e)?ze:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Re:Pe)(t,e)}function Ue(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ie(t){return+t}var Fe=[0,1];function He(t){return t}function Be(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function Ye(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1];return r<i?(i=Be(r,i),o=n(s,o)):(i=Be(i,r),o=n(o,s)),function(t){return o(i(t))}}function Xe(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=Be(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=Ut(t,e,1,i)-1;return o[n](r[n](e))}}function Ge(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ke(){var t,e,n,i,r,o,s=Fe,a=Fe,l=Oe,c=He;function u(){var t=Math.min(s.length,a.length);return c!==He&&(c=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(s[0],s[t-1])),i=t>2?Xe:Ye,r=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(r||(r=i(s.map(t),a,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=i(a,s.map(t),Pe)))(n)))},h.domain=function(t){return arguments.length?(s=Array.from(t,Ie),u()):s.slice()},h.range=function(t){return arguments.length?(a=Array.from(t),u()):a.slice()},h.rangeRound=function(t){return a=Array.from(t),l=Ue,u()},h.clamp=function(t){return arguments.length?(c=!!t||He,u()):c!==He},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,u()}}function Je(){return Ke()(He,He)}function Ve(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]}function Ze(t){return(t=Ve(Math.abs(t)))?t[1]:NaN}var Qe,tn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function en(t){if(!(e=tn.exec(t)))throw new Error("invalid format: "+t);var e;return new nn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function nn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function rn(t,e){var n=Ve(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}en.prototype=nn.prototype,nn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var on={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rn(100*t,e),r:rn,s:function(t,e){var n=Ve(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(Qe=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Ve(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function sn(t){return t}var an,ln,cn,un=Array.prototype.map,hn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function fn(t){var e,n,i=void 0===t.grouping||void 0===t.thousands?sn:(e=un.call(t.grouping,Number),n=t.thousands+"",function(t,i){for(var r=t.length,o=[],s=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[s=(s+1)%e.length];return o.reverse().join(n)}),r=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",s=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?sn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(un.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=en(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,g=t.width,p=t.comma,y=t.precision,m=t.trim,x=t.type;"n"===x?(p=!0,x="g"):on[x]||(void 0===y&&(y=12),m=!0,x="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var $="$"===f?r:"#"===f&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",v="$"===f?o:/[%p]/.test(x)?l:"",w=on[x],b=/[defgprs%]/.test(x);function k(t){var r,o,l,f=$,k=v;if("c"===x)k=w(t)+k,t="";else{var _=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:w(Math.abs(t),y),m&&(t=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(!+t[i])break t;r>0&&(r=0)}return r>0?t.slice(0,r)+t.slice(e+1):t}(t)),_&&0==+t&&"+"!==h&&(_=!1),f=(_?"("===h?h:c:"-"===h||"("===h?"":h)+f,k=("s"===x?hn[8+Qe/3]:"")+k+(_&&"("===h?")":""),b)for(r=-1,o=t.length;++r<o;)if(48>(l=t.charCodeAt(r))||l>57){k=(46===l?s+t.slice(r+1):t.slice(r))+k,t=t.slice(0,r);break}}p&&!d&&(t=i(t,1/0));var M=f.length+t.length+k.length,N=M<g?new Array(g-M+1).join(e):"";switch(p&&d&&(t=i(N+t,N.length?g-k.length:1/0),N=""),n){case"<":t=f+t+k+N;break;case"=":t=f+N+t+k;break;case"^":t=N.slice(0,M=N.length>>1)+f+t+k+N.slice(M);break;default:t=N+f+t+k}return a(t)}return y=void 0===y?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=en(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Ze(e)/3))),r=Math.pow(10,-i),o=hn[8+i/3];return function(t){return n(r*t)+o}}}}function dn(t,e,n,i){var r,o=function(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=It?r*=10:o>=Ft?r*=5:o>=Ht&&(r*=2),e<t?-r:r}(t,e,n);switch((i=en(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ze(e)/3)))-Ze(Math.abs(t)))}(o,s))||(i.precision=r),cn(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ze(e)-Ze(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=function(t){return Math.max(0,-Ze(Math.abs(t)))}(o))||(i.precision=r-2*("%"===i.type))}return ln(i)}function gn(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=Bt(t,e,n))||!isFinite(s))return[];if(s>0){let n=Math.round(t/s),i=Math.round(e/s);for(n*s<t&&++n,i*s>e&&--i,o=new Array(r=i-n+1);++a<r;)o[a]=(n+a)*s}else{s=-s;let n=Math.round(t*s),i=Math.round(e*s);for(n/s<t&&++n,i/s>e&&--i,o=new Array(r=i-n+1);++a<r;)o[a]=(n+a)/s}return i&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return dn(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r,o=e(),s=0,a=o.length-1,l=o[s],c=o[a],u=10;for(c<l&&(r=l,l=c,c=r,r=s,s=a,a=r);u-- >0;){if((r=Bt(l,c,n))===i)return o[s]=l,o[a]=c,e(o);if(r>0)l=Math.floor(l/r)*r,c=Math.ceil(c/r)*r;else{if(!(r<0))break;l=Math.ceil(l*r)/r,c=Math.floor(c*r)/r}i=r}return t},t}function pn(){var t=Je();return t.copy=function(){return Ge(t,pn())},Xt.apply(t,arguments),gn(t)}function yn(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function mn(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function xn(t){return t<0?-t*t:t*t}function $n(t){var e=t(He,He),n=1;function i(){return 1===n?t(He,He):.5===n?t(mn,xn):t(yn(n),yn(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,i()):n},gn(e)}function vn(){var t=$n(Ke());return t.copy=function(){return Ge(t,vn()).exponent(t.exponent())},Xt.apply(t,arguments),t}an=fn({thousands:",",grouping:[3],currency:["$",""]}),ln=an.format,cn=an.formatPrefix;var wn={x:pn,y:pn,z:pn,r:function(){return vn.apply(null,arguments).exponent(.5)}};function bn(t){return t}function kn(t){return e=>Math.log(t*e)}function _n(t){return e=>t*Math.exp(e)}function Mn(t){return e=>Math.sign(e)*Math.log1p(Math.abs(e/t))}function Nn(t){return e=>Math.sign(e)*Math.expm1(Math.abs(e))*t}function Tn(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Dn(t,e){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(e))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:n,ground:i}=function(t){const e=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===e){const n=Math.sign(t.domain()[0]);return{lift:kn(n),ground:_n(n),scaleType:e}}if("pow"===e){const t=1;return{lift:Tn(t),ground:Tn(1/t),scaleType:e}}if("sqrt"===e){const t=.5;return{lift:Tn(t),ground:Tn(1/t),scaleType:e}}if("symlog"===e){const t=1;return{lift:Mn(t),ground:Nn(t),scaleType:e}}return{lift:bn,ground:bn,scaleType:e}}(t),r=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(r),[s,a]=t.domain().map((t=>n(o?t.getTime():t))),[l,c]=t.range(),u=e[0]||0,h=e[1]||0,f=(a-s)/(Math.abs(c-l)-u-h);return[s-u*f,h*f+a].map((t=>i(o?new Date(t):t)))}function An(t){return function([e,n,i,r,o,s,a,l,c,u]){if(null===n)return null;const h=function(t,e,n,i,r,o){return r?"function"==typeof r?r({width:e,height:n}):r:function(t,e,n,i,r){let o,s;return!0===r?(o=0,s=100):(o="r"===t?1:0,s="y"===t?n:"r"===t?25:e),!0===i?[s,o]:[o,s]}(t,e,n,i,o)}(t,a,l,s,c,u),f=e===wn[t]?e():e.copy();return f.domain(Rt(n[t],i)).range(h),r&&f.domain(Dn(f,r)),!0===o&&("function"==typeof f.nice?f.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),f}}function Cn([t,e]){return n=>{const i=t(n);return Array.isArray(i)?i.map((t=>e(t))):e(i)}}function Sn([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var qn={x:!1,y:!0,z:!1,r:!1};const zn=t=>({element:4&t[0],width:64&t[0],height:128&t[0],aspectRatio:256&t[0],containerWidth:512&t[0],containerHeight:1024&t[0]}),En=t=>({element:t[2],width:t[6],height:t[7],aspectRatio:t[8],containerWidth:t[9],containerHeight:t[10]});function Pn(t){let e,n,i,r;const o=t[54].default,s=h(o,t,t[53],En);return{c(){e=D("div"),s&&s.c(),E(e,"class","layercake-container svelte-vhzpsp"),E(e,"style",n="position:"+t[5]+"; "+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===t[4]?"pointer-events:none;":"")),it((()=>t[56].call(e)))},m(n,o){M(n,e,o),s&&s.m(e,null),t[55](e),i=O(e,t[56].bind(e)),r=!0},p(t,i){s&&s.p&&(!r||1988&i[0]|4194304&i[1])&&g(s,o,t,t[53],r?d(o,t[53],i,zn):p(t[53]),En),(!r||48&i[0]&&n!==(n="position:"+t[5]+"; "+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+" "+(!1===t[4]?"pointer-events:none;":"")))&&E(e,"style",n)},i(t){r||(gt(s,t),r=!0)},o(t){pt(s,t),r=!1},d(n){n&&N(e),s&&s.d(n),t[55](null),i()}}}function Rn(t){let e,n,i=(!0===t[3]||"undefined"!=typeof window)&&Pn(t);return{c(){i&&i.c(),e=q()},m(t,r){i&&i.m(t,r),M(t,e,r),n=!0},p(t,n){!0===t[3]||"undefined"!=typeof window?i?(i.p(t,n),8&n[0]&&gt(i,1)):(i=Pn(t),i.c(),gt(i,1),i.m(e.parentNode,e)):i&&(ft(),pt(i,1,1,(()=>{i=null})),dt())},i(t){n||(gt(i),n=!0)},o(t){pt(i),n=!1},d(t){i&&i.d(t),t&&N(e)}}}function jn(t,e,n){let i,r,o,s,a,l,{$$slots:c={},$$scope:h}=e,{ssr:f=!1}=e,{pointerEvents:d=!0}=e,{position:g="relative"}=e,{percentRange:p=!1}=e,{width:y}=e,{height:m}=e,{containerWidth:x=y||100}=e,{containerHeight:$=m||100}=e,{element:v}=e,{x:w}=e,{y:b}=e,{z:k}=e,{r:_}=e,{custom:M={}}=e,{data:N=[]}=e,{xDomain:T}=e,{yDomain:D}=e,{zDomain:A}=e,{rDomain:C}=e,{xNice:S=!1}=e,{yNice:q=!1}=e,{zNice:z=!1}=e,{rNice:E=!1}=e,{xReverse:P=qn.x}=e,{yReverse:R=qn.y}=e,{zReverse:j=qn.z}=e,{rReverse:L=qn.r}=e,{xPadding:W}=e,{yPadding:O}=e,{zPadding:U}=e,{rPadding:I}=e,{xScale:F=wn.x}=e,{yScale:H=wn.y}=e,{zScale:B=wn.y}=e,{rScale:Y=wn.r}=e,{xRange:X}=e,{yRange:K}=e,{zRange:J}=e,{rRange:V}=e,{padding:Q={}}=e,{extents:tt={}}=e,{flatData:et}=e;const nt={},it=St(),rt=St();u(t,rt,(t=>n(9,a=t)));const ot=St();u(t,ot,(t=>n(10,l=t)));const st=St(),at=St(),lt=St(),ct=St(),ut=St(),ht=St(),ft=St(),dt=St(),gt=St(),pt=St(),yt=St(),mt=St(),xt=St(),$t=St(),vt=St(),wt=St(),bt=St(),kt=St(),_t=St(),Mt=St(),Nt=St(),Tt=St(),Dt=St(),At=St(),Ct=St(),Rt=St(),Lt=St(),Wt=St(),Ot=St(),Ut=St(),It=St(),Ft=St(),Ht=St(),Bt=St(nt),Yt=qt([st,at,lt,ct],(([t,e,n,i])=>{const r={};return t&&(r.x=t),e&&(r.y=e),n&&(r.z=n),i&&(r.r=i),r})),Xt=qt([It,rt,ot],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Gt=qt([rt,ot,Xt],(([t,e,n])=>{const i={};return i.top=n.top,i.right=t-n.right,i.bottom=e-n.bottom,i.left=n.left,i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),i.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),i})),Kt=qt([Gt],(([t])=>t.width));u(t,Kt,(t=>n(6,r=t)));const Jt=qt([Gt],(([t])=>t.height));u(t,Jt,(t=>n(7,o=t)));const Vt=qt([Ft,Yt,Ht],(([t,e,n])=>({...Pt(t,Et(e,n)),...n}))),Zt=qt([Vt,ft],jt("x")),Qt=qt([Vt,dt],jt("y")),te=qt([Vt,gt],jt("z")),ee=qt([Vt,pt],jt("r")),ne=qt([Dt,Vt,Zt,_t,yt,vt,Kt,Jt,Lt,it],An("x")),ie=qt([st,ne],Cn),re=qt([At,Vt,Qt,Mt,mt,wt,Kt,Jt,Wt,it],An("y")),oe=qt([at,re],Cn),se=qt([Ct,Vt,te,Nt,xt,bt,Kt,Jt,Ot,it],An("z")),ae=qt([lt,se],Cn),le=qt([Rt,Vt,ee,Tt,$t,kt,Kt,Jt,Ut,it],An("r")),ce=qt([ct,le],Cn),ue=qt([ne],Sn),he=qt([re],Sn),fe=qt([se],Sn),de=qt([le],Sn),ge=qt([Kt,Jt],(([t,e,n])=>e/n));return u(t,ge,(t=>n(8,s=t))),t.$$set=t=>{"ssr"in t&&n(3,f=t.ssr),"pointerEvents"in t&&n(4,d=t.pointerEvents),"position"in t&&n(5,g=t.position),"percentRange"in t&&n(16,p=t.percentRange),"width"in t&&n(17,y=t.width),"height"in t&&n(18,m=t.height),"containerWidth"in t&&n(0,x=t.containerWidth),"containerHeight"in t&&n(1,$=t.containerHeight),"element"in t&&n(2,v=t.element),"x"in t&&n(19,w=t.x),"y"in t&&n(20,b=t.y),"z"in t&&n(21,k=t.z),"r"in t&&n(22,_=t.r),"custom"in t&&n(23,M=t.custom),"data"in t&&n(24,N=t.data),"xDomain"in t&&n(25,T=t.xDomain),"yDomain"in t&&n(26,D=t.yDomain),"zDomain"in t&&n(27,A=t.zDomain),"rDomain"in t&&n(28,C=t.rDomain),"xNice"in t&&n(29,S=t.xNice),"yNice"in t&&n(30,q=t.yNice),"zNice"in t&&n(31,z=t.zNice),"rNice"in t&&n(32,E=t.rNice),"xReverse"in t&&n(33,P=t.xReverse),"yReverse"in t&&n(34,R=t.yReverse),"zReverse"in t&&n(35,j=t.zReverse),"rReverse"in t&&n(36,L=t.rReverse),"xPadding"in t&&n(37,W=t.xPadding),"yPadding"in t&&n(38,O=t.yPadding),"zPadding"in t&&n(39,U=t.zPadding),"rPadding"in t&&n(40,I=t.rPadding),"xScale"in t&&n(41,F=t.xScale),"yScale"in t&&n(42,H=t.yScale),"zScale"in t&&n(43,B=t.zScale),"rScale"in t&&n(44,Y=t.rScale),"xRange"in t&&n(45,X=t.xRange),"yRange"in t&&n(46,K=t.yRange),"zRange"in t&&n(47,J=t.zRange),"rRange"in t&&n(48,V=t.rRange),"padding"in t&&n(49,Q=t.padding),"extents"in t&&n(50,tt=t.extents),"flatData"in t&&n(51,et=t.flatData),"$$scope"in t&&n(53,h=t.$$scope)},t.$$.update=()=>{524288&t.$$.dirty[0]&&w&&(nt.x=w),1048576&t.$$.dirty[0]&&b&&(nt.y=b),2097152&t.$$.dirty[0]&&k&&(nt.z=k),4194304&t.$$.dirty[0]&&_&&(nt.r=_),33554432&t.$$.dirty[0]&&T&&(nt.xDomain=T),67108864&t.$$.dirty[0]&&D&&(nt.yDomain=D),134217728&t.$$.dirty[0]&&A&&(nt.zDomain=A),268435456&t.$$.dirty[0]&&C&&(nt.rDomain=C),16384&t.$$.dirty[1]&&X&&(nt.xRange=X),32768&t.$$.dirty[1]&&K&&(nt.yRange=K),65536&t.$$.dirty[1]&&J&&(nt.zRange=J),131072&t.$$.dirty[1]&&V&&(nt.rRange=V),65536&t.$$.dirty[0]&&it.set(p),1&t.$$.dirty[0]&&rt.set(x),2&t.$$.dirty[0]&&ot.set($),524288&t.$$.dirty[0]&&st.set(zt(w)),1048576&t.$$.dirty[0]&&at.set(zt(b)),2097152&t.$$.dirty[0]&&lt.set(zt(k)),4194304&t.$$.dirty[0]&&ct.set(zt(_)),33554432&t.$$.dirty[0]&&ft.set(T),67108864&t.$$.dirty[0]&&dt.set(D),134217728&t.$$.dirty[0]&&gt.set(A),268435456&t.$$.dirty[0]&&pt.set(C),8388608&t.$$.dirty[0]&&ut.set(M),16777216&t.$$.dirty[0]&&ht.set(N),536870912&t.$$.dirty[0]&&yt.set(S),1073741824&t.$$.dirty[0]&&mt.set(q),1&t.$$.dirty[1]&&xt.set(z),2&t.$$.dirty[1]&&$t.set(E),4&t.$$.dirty[1]&&vt.set(P),8&t.$$.dirty[1]&&wt.set(R),16&t.$$.dirty[1]&&bt.set(j),32&t.$$.dirty[1]&&kt.set(L),64&t.$$.dirty[1]&&_t.set(W),128&t.$$.dirty[1]&&Mt.set(O),256&t.$$.dirty[1]&&Nt.set(U),512&t.$$.dirty[1]&&Tt.set(I),1024&t.$$.dirty[1]&&Dt.set(F),2048&t.$$.dirty[1]&&At.set(H),4096&t.$$.dirty[1]&&Ct.set(B),8192&t.$$.dirty[1]&&Rt.set(Y),16384&t.$$.dirty[1]&&Lt.set(X),32768&t.$$.dirty[1]&&Wt.set(K),65536&t.$$.dirty[1]&&Ot.set(J),131072&t.$$.dirty[1]&&Ut.set(V),262144&t.$$.dirty[1]&&It.set(Q),524288&t.$$.dirty[1]&&Ht.set(Et(tt)),16777216&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&Ft.set(et||N),2097152&t.$$.dirty[1]&&function(t,e){G().$$.context.set(t,e)}("LayerCake",i)},n(52,i={activeGetters:Yt,width:Kt,height:Jt,percentRange:it,aspectRatio:ge,containerWidth:rt,containerHeight:ot,x:st,y:at,z:lt,r:ct,custom:ut,data:ht,xNice:yt,yNice:mt,zNice:xt,rNice:$t,xReverse:vt,yReverse:wt,zReverse:bt,rReverse:kt,xPadding:_t,yPadding:Mt,zPadding:Nt,rPadding:Tt,padding:Xt,flatData:Ft,extents:Vt,xDomain:Zt,yDomain:Qt,zDomain:te,rDomain:ee,xRange:ue,yRange:he,zRange:fe,rRange:de,config:Bt,xScale:ne,xGet:ie,yScale:re,yGet:oe,zScale:se,zGet:ae,rScale:le,rGet:ce}),[x,$,v,f,d,g,r,o,s,a,l,rt,ot,Kt,Jt,ge,p,y,m,w,b,k,_,M,N,T,D,A,C,S,q,z,E,P,R,j,L,W,O,U,I,F,H,B,Y,X,K,J,V,Q,tt,et,i,h,c,function(t){Z[t?"unshift":"push"]((()=>{v=t,n(2,v)}))},function(){x=this.clientWidth,$=this.clientHeight,n(0,x),n(1,$)}]}class Ln extends kt{constructor(t){super(),bt(this,t,jn,Rn,a,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},null,[-1,-1,-1,-1])}}const Wn=t=>({element:1&t}),On=t=>({element:t[0]}),Un=t=>({element:1&t}),In=t=>({element:t[0]});function Fn(t){let e,n,i,r,o,s;const a=t[13].defs,l=h(a,t,t[12],In),c=t[13].default,u=h(c,t,t[12],On);return{c(){e=A("svg"),n=A("defs"),l&&l.c(),i=A("g"),u&&u.c(),E(i,"class","layercake-layout-svg_g"),E(i,"transform",r="translate("+t[6].left+", "+t[6].top+")"),E(e,"class","layercake-layout-svg svelte-u84d8d"),E(e,"viewBox",t[1]),E(e,"width",t[4]),E(e,"height",t[5]),E(e,"style",o=""+(t[2]+t[3]))},m(r,o){M(r,e,o),b(e,n),l&&l.m(n,null),b(e,i),u&&u.m(i,null),t[14](e),s=!0},p(t,[n]){l&&l.p&&(!s||4097&n)&&g(l,a,t,t[12],s?d(a,t[12],n,Un):p(t[12]),In),u&&u.p&&(!s||4097&n)&&g(u,c,t,t[12],s?d(c,t[12],n,Wn):p(t[12]),On),(!s||64&n&&r!==(r="translate("+t[6].left+", "+t[6].top+")"))&&E(i,"transform",r),(!s||2&n)&&E(e,"viewBox",t[1]),(!s||16&n)&&E(e,"width",t[4]),(!s||32&n)&&E(e,"height",t[5]),(!s||12&n&&o!==(o=""+(t[2]+t[3])))&&E(e,"style",o)},i(t){s||(gt(l,t),gt(u,t),s=!0)},o(t){pt(l,t),pt(u,t),s=!1},d(n){n&&N(e),l&&l.d(n),u&&u.d(n),t[14](null)}}}function Hn(t,e,n){let i,r,o,{$$slots:s={},$$scope:a}=e,{element:l}=e,{viewBox:c}=e,{zIndex:h}=e,{pointerEvents:f}=e,d="",g="";const{containerWidth:p,containerHeight:y,padding:m}=J("LayerCake");return u(t,p,(t=>n(4,i=t))),u(t,y,(t=>n(5,r=t))),u(t,m,(t=>n(6,o=t))),t.$$set=t=>{"element"in t&&n(0,l=t.element),"viewBox"in t&&n(1,c=t.viewBox),"zIndex"in t&&n(10,h=t.zIndex),"pointerEvents"in t&&n(11,f=t.pointerEvents),"$$scope"in t&&n(12,a=t.$$scope)},t.$$.update=()=>{1024&t.$$.dirty&&n(2,d=void 0!==h?`z-index:${h};`:""),2048&t.$$.dirty&&n(3,g=!1===f?"pointer-events:none;":"")},[l,c,d,g,i,r,o,p,y,m,h,f,a,s,function(t){Z[t?"unshift":"push"]((()=>{l=t,n(0,l)}))}]}class Bn extends kt{constructor(t){super(),bt(this,t,Hn,Fn,a,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}function Yn(t,e,n=!0){if(!Array.isArray(t))return console.error("LayerCake error: Input value to `uniques` must be a list."),null;const i=t.length,r="function"==typeof e,o=void 0!==e,s=new Set,a=[];for(let l=0;l<i;l+=1){const i=t[l],c=r?e(i):!0===o?i[e]:i;s.has(c)||(s.add(c),a.push(n?c:i))}return a}let Xn={default:"grey"};const Gn=t=>Xn[t]?Xn[t]:Xn.default;let Kn={default:"Label undefined"};const Jn=t=>Kn[t]?Kn[t]:t;let Vn={default:void 0};const Zn=t=>Vn[t]?Vn[t]:Vn.default;let Qn={default:void 0};const ti=t=>Qn[t]?Qn[t]:Qn.default,ei=(t,e,n)=>{let i;const r=t=>"[object Date]"===Object.prototype.toString.call(t)?Number(t):t,o=t=>"number"==typeof t&&Number(new Date(t))!==Number(new Date("rubish"))?new Date(t):t;return t[0]&&e?i="string"==typeof t[0][e]?Yn(t.sort(((t,i)=>"desc"===n?-t[e].localeCompare(i[e],"en",{sensitivity:"base"}):t[e].localeCompare(i[e],"en",{sensitivity:"base"})))):Yn(t.sort(((t,i)=>"desc"===n?i[e]-t[e]:t[e]-i[e])).map((t=>r(t)))).map((t=>o(t))):t[0]?i="string"==typeof t[0]?Yn(t.sort(((t,e)=>"desc"===n?-t.localeCompare(e,"en",{sensitivity:"base"}):t.localeCompare(e,"en",{sensitivity:"base"})))):Yn(t.sort(((t,e)=>"desc"===n?e-t:t-e)).map((t=>r(t)))).map((t=>o(t))):console.log("data is empty!"),i};function ni(t,e){const n=Yn(t.concat(e).map((t=>t.cat))),i=t=>"[object Date]"===Object.prototype.toString.call(t)?Number(t):t;return function(r){let o=[];return n.forEach((n=>{const s=t.filter((t=>t.cat===n)),a=e.filter((t=>t.cat===n));s.length>=a.length?s.forEach(((t,e)=>{const n=Object.assign({},t),l=s[e].value,c=a.find((t=>i(t.key)===i(s[e].key))),u=c?c.value:0;void 0===u||(n.value=l*(1-r)+u*r,o.push(n))})):a.forEach(((t,e)=>{const n=Object.assign({},t),l=a[e].value,c=s.find((t=>i(t.key)===i(a[e].key))),u=c?c.value:0;void 0===u?(n.value=l,o.push(n)):(n.value=u*(1-r)+l*r,o.push(n))}))})),o}}function ii(t,e){return function(n){const i=Yn(Object.keys(t).concat(Object.keys(e)));let r={};return i.forEach((t=>r[t]=[])),i.forEach((i=>{const o=t[i],s=e[i];"string"==typeof o[0]?r[i]=s:o.length>=s.length?o.forEach(((t,e)=>{const a=o[e],l=void 0!==s[e]?s[e]:void 0;void 0===l||(t=a*(1-n)+l*n,r[i].push(t))})):s.forEach(((t,e)=>{const a=o.find((t=>t[i]===s[e])),l=s[e];void 0===a?r[i].push(l):(t=a*(1-n)+l*n,r[i].push(t))}))})),r}}function ri(t,e,n){const i=t.slice();return i[7]=e[n],i[9]=n,i}function oi(t){let e,n,i,r,o,s,a,l,c,u=t[2](t[7])+"";return{c(){e=D("div"),n=D("div"),r=S(),o=D("div"),s=D("span"),a=C(u),l=S(),E(n,"class",i="layercake-legend-"+(t[1]?"circle":"stripe")+" svelte-66ik28"),j(n,"background",t[3](t[7])),E(o,"class","layercake-legend-label svelte-66ik28"),E(e,"class","layercake-legend svelte-66ik28"),E(e,"data-id",c=t[9])},m(t,i){M(t,e,i),b(e,n),b(e,r),b(e,o),b(o,s),b(s,a),b(e,l)},p(t,e){2&e&&i!==(i="layercake-legend-"+(t[1]?"circle":"stripe")+" svelte-66ik28")&&E(n,"class",i),9&e&&j(n,"background",t[3](t[7])),5&e&&u!==(u=t[2](t[7])+"")&&R(a,u)},d(t){t&&N(e)}}}function si(e){let n,i=e[0],r=[];for(let t=0;t<i.length;t+=1)r[t]=oi(ri(e,i,t));return{c(){n=D("div");for(let t=0;t<r.length;t+=1)r[t].c();E(n,"class","layercake-legends svelte-66ik28")},m(t,e){M(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){if(15&e){let o;for(i=t[0],o=0;o<i.length;o+=1){const s=ri(t,i,o);r[o]?r[o].p(s,e):(r[o]=oi(s),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},i:t,o:t,d(t){t&&N(n),T(r,t)}}}function ai(t,e,n){let i,r,{categories:o}=e,{labels:s}=e,{colors:a}=e,{circles:l=!0}=e,{updateTrigger:c}=e;return t.$$set=t=>{"categories"in t&&n(0,o=t.categories),"labels"in t&&n(4,s=t.labels),"colors"in t&&n(5,a=t.colors),"circles"in t&&n(1,l=t.circles),"updateTrigger"in t&&n(6,c=t.updateTrigger)},t.$$.update=()=>{32&t.$$.dirty&&n(3,i=t=>"function"==typeof a?a(t):"grey"),16&t.$$.dirty&&n(2,r=t=>"function"==typeof s?s(t):t),65&t.$$.dirty&&(n(0,o),n(6,c))},[o,l,r,i,s,a,c]}class li extends kt{constructor(t){super(),bt(this,t,ai,si,a,{categories:0,labels:4,colors:5,circles:1,updateTrigger:6})}}const ci=t=>({processedConfig:2&t}),ui=t=>({processedConfig:t[1]});function hi(t){let e,n,i,r=t[3].legend&&function(t){let e,n;return e=new li({props:{categories:t[2],labels:t[3].labels,colors:t[3].colors,updateTrigger:t[0]}}),{c(){xt(e.$$.fragment)},m(t,i){$t(e,t,i),n=!0},p(t,n){const i={};4&n&&(i.categories=t[2]),1&n&&(i.updateTrigger=t[0]),e.$set(i)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){vt(e,t)}}}(t);const o=t[11].default,s=h(o,t,t[10],ui);return{c(){r&&r.c(),e=S(),n=D("div"),s&&s.c(),E(n,"id",t[4]),E(n,"class","simple-chart-container")},m(t,o){r&&r.m(t,o),M(t,e,o),M(t,n,o),s&&s.m(n,null),i=!0},p(t,[e]){t[3].legend&&r.p(t,e),s&&s.p&&(!i||1026&e)&&g(s,o,t,t[10],i?d(o,t[10],e,ci):p(t[10]),ui)},i(t){i||(gt(r),gt(s,t),i=!0)},o(t){pt(r),pt(s,t),i=!1},d(t){r&&r.d(t),t&&N(e),t&&N(n),s&&s.d(t)}}}function fi(t,e,n){let i,r,o,s,{$$slots:a={},$$scope:l}=e,{defaultConfig:c}=e,{userConfig:u={}}=e,{data:h}=e,{key:f}=e,d=((t,e)=>(t.dataConfig.keyParse=e.keyParse?e.keyParse:t.dataConfig.keyParse,t.dataConfig.valueParse=e.valueParse?e.valueParse:t.dataConfig.valueParse,t.axisConfig.formatTickX=e.formatTickX?e.formatTickX:t.axisConfig.formatTickX,t.axisConfig.formatTickY=e.formatTickY?e.formatTickY:t.axisConfig.formatTickY,t.axisConfig.formatTooltipTickX=e.formatTooltipTickX?e.formatTooltipTickX:t.axisConfig.formatTickX,t.axisConfig.formatTooltipTickY=e.formatTooltipTickY?e.formatTooltipTickY:t.axisConfig.formatTickY,t.chartConfig.colors=e.colors?e.colors:Gn,t.chartConfig.labels=e.labels?e.labels:Jn,t.chartConfig.dasharrays=e.dasharrays?e.dasharrays:Zn,t.chartConfig.textures=e.textures?e.textures:ti,t.chartConfig.tooltipFields=e.tooltipFields?e.tooltipFields:t.chartConfig.tooltipFields,e.chartConfig&&Object.assign(t.chartConfig,e.chartConfig),e.axisConfig&&Object.assign(t.axisConfig,e.axisConfig),e.dataConfig&&Object.assign(t.dataConfig,e.dataConfig),"Map"===t.chartType&&(t.chartConfig.geo.features=e.features,t.chartConfig.geo.projection=e.projection,t.chartConfig.geo.areaName=e.areaName),t))(c,u),g=d.chartType,p=d.dataConfig,y=d.chartConfig,m=d.axisConfig,x=g+f.split(" ")[0];const $={key:t=>t.key,value:t=>t.value},v=ei;function w(){n(0,o=h.map((t=>"Map"===g?{key:p.keyParse(t[p.keyField]),value:p.valueParse(t[f]),cat:t[p.splitField],cat2:t[p.splitField2],lon:t[p.lonFieldData],lat:t[p.latFieldData],data:t}:{key:p.keyParse(t[p.keyField]),value:p.valueParse(t[f]),cat:t[p.splitField],cat2:t[p.splitField2],data:t}))),n(0,o=v(o,p.sortBy,p.sortOrder))}function b(){n(9,s=Pt(o,$)),"discrete"===p.keyType&&n(9,s.key=v(o.map((t=>t.key))),s),"discrete"===p.valueType&&n(9,s.value=v(o.map((t=>t.value))),s)}return h.length>0&&(w(),b()),t.$$set=t=>{"defaultConfig"in t&&n(5,c=t.defaultConfig),"userConfig"in t&&n(6,u=t.userConfig),"data"in t&&n(7,h=t.data),"key"in t&&n(8,f=t.key),"$$scope"in t&&n(10,l=t.$$scope)},t.$$.update=()=>{128&t.$$.dirty&&n(2,i=Yn(h.map((t=>t[p.splitField])))),128&t.$$.dirty&&Yn(h.map((t=>t[p.splitField2]))),128&t.$$.dirty&&h.length>0&&w(),128&t.$$.dirty&&h.length>0&&b(),769&t.$$.dirty&&n(1,r={dataConfig:p,chartConfig:y,axisConfig:m,parentExtents:s,formattedData:o,key:f})},[o,r,i,y,x,c,u,h,f,s,l,a]}class di extends kt{constructor(t){super(),bt(this,t,fi,hi,a,{defaultConfig:5,userConfig:6,data:7,key:8})}}function gi(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function pi(t){return"[object Date]"===Object.prototype.toString.call(t)}function yi(t,e){if(t===e||t!=t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const n=e.map(((e,n)=>yi(t[n],e)));return t=>n.map((e=>e(t)))}if("object"===n){if(!t||!e)throw new Error("Object cannot be null");if(pi(t)&&pi(e)){t=t.getTime();const n=(e=e.getTime())-t;return e=>new Date(t+e*n)}const n=Object.keys(e),i={};return n.forEach((n=>{i[n]=yi(t[n],e[n])})),t=>{const e={};return n.forEach((n=>{e[n]=i[n](t)})),e}}if("number"===n){const n=e-t;return e=>t+e*n}throw new Error(`Cannot interpolate ${n} values`)}function mi(t,i={}){const r=St(t);let o,s=t;function a(a,l){if(null==t)return r.set(t=a),Promise.resolve();s=a;let c=o,u=!1,{delay:h=0,duration:f=400,easing:d=e,interpolate:g=yi}=n(n({},i),l);if(0===f)return c&&(c.abort(),c=null),r.set(t=s),Promise.resolve();const p=m()+h;let y;return o=w((e=>{if(e<p)return!0;u||(y=g(t,a),"function"==typeof f&&(f=f(t,a)),u=!0),c&&(c.abort(),c=null);const n=e-p;return n>f?(r.set(t=a),!1):(r.set(t=y(d(n/f))),!0)})),o.promise}return{set:a,update:(e,n)=>a(e(s,t),n),subscribe:r.subscribe}}function xi(t,e,n){const i=t.slice();return i[26]=e[n],i[28]=n,i}function $i(t){let e,n;return{c(){e=A("line"),E(e,"y1",n=-1*t[15]),E(e,"y2","0"),E(e,"x1","0"),E(e,"x2","0")},m(t,n){M(t,e,n)},p(t,i){32768&i&&n!==(n=-1*t[15])&&E(e,"y1",n)},d(t){t&&N(e)}}}function vi(t){let e,n,i,r,o,s=t[1](t[26])+t[7]+"";return{c(){e=A("text"),n=C(s),E(e,"class",i=t[13]?"isNumber":""),E(e,"x",r=t[3]||t[11]?t[12].bandwidth()/2:0),E(e,"y",t[4]),E(e,"dx",t[5]),E(e,"dy",t[6]),E(e,"text-anchor",o=t[21](t[28]))},m(t,i){M(t,e,i),b(e,n)},p(t,o){1154&o&&s!==(s=t[1](t[26])+t[7]+"")&&R(n,s),8192&o&&i!==(i=t[13]?"isNumber":"")&&E(e,"class",i),6152&o&&r!==(r=t[3]||t[11]?t[12].bandwidth()/2:0)&&E(e,"x",r),16&o&&E(e,"y",t[4]),32&o&&E(e,"dx",t[5]),64&o&&E(e,"dy",t[6])},d(t){t&&N(e)}}}function wi(t){let e,n,i,r,o=!1!==t[0]&&$i(t),s=!1!==t[9]&&vi(t);return{c(){e=A("g"),o&&o.c(),n=q(),s&&s.c(),E(e,"class",i="tick tick-"+t[26]),E(e,"transform",r="translate("+t[12](t[26])+","+("top"===t[8]?-24:t[14][0])+")")},m(t,i){M(t,e,i),o&&o.m(e,null),b(e,n),s&&s.m(e,null)},p(t,a){!1!==t[0]?o?o.p(t,a):(o=$i(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),!1!==t[9]?s?s.p(t,a):(s=vi(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null),1024&a&&i!==(i="tick tick-"+t[26])&&E(e,"class",i),21760&a&&r!==(r="translate("+t[12](t[26])+","+("top"===t[8]?-24:t[14][0])+")")&&E(e,"transform",r)},d(t){t&&N(e),o&&o.d(),s&&s.d()}}}function bi(t){let e,n,i;return{c(){e=A("line"),E(e,"class","baseline"),E(e,"y1",n=t[15]+.5),E(e,"y2",i=t[15]+.5),E(e,"x1","0"),E(e,"x2",t[16])},m(t,n){M(t,e,n)},p(t,r){32768&r&&n!==(n=t[15]+.5)&&E(e,"y1",n),32768&r&&i!==(i=t[15]+.5)&&E(e,"y2",i),65536&r&&E(e,"x2",t[16])},d(t){t&&N(e)}}}function ki(e){let n,i,r=e[10],o=[];for(let t=0;t<r.length;t+=1)o[t]=wi(xi(e,r,t));let s=!0===e[2]&&bi(e);return{c(){n=A("g");for(let t=0;t<o.length;t+=1)o[t].c();i=q(),s&&s.c(),E(n,"class","axis x-axis")},m(t,e){M(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null);b(n,i),s&&s.m(n,null)},p(t,[e]){if(2162683&e){let s;for(r=t[10],s=0;s<r.length;s+=1){const a=xi(t,r,s);o[s]?o[s].p(a,e):(o[s]=wi(a),o[s].c(),o[s].m(n,i))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length}!0===t[2]?s?s.p(t,e):(s=bi(t),s.c(),s.m(n,null)):s&&(s.d(1),s=null)},i:t,o:t,d(t){t&&N(n),T(o,t),s&&s.d()}}}function _i(t,e,n){let i,r,o,s,a,l,c;const{width:h,height:f,xScale:d,xDomain:g,yScale:p,yRange:y}=J("LayerCake");u(t,h,(t=>n(16,c=t))),u(t,f,(t=>n(15,l=t))),u(t,d,(t=>n(12,s=t))),u(t,y,(t=>n(14,a=t)));let{gridlines:m=!0}=e,{formatTick:x=(t=>t)}=e,{baseline:$=!1}=e,{snapTicks:v=!1}=e,{ticks:w}=e,{xTick:b}=e,{yTick:k=16}=e,{dxTick:_=0}=e,{dyTick:M=0}=e,{suffix:N=""}=e,{position:T="bottom"}=e,{label:D=!0}=e;return t.$$set=t=>{"gridlines"in t&&n(0,m=t.gridlines),"formatTick"in t&&n(1,x=t.formatTick),"baseline"in t&&n(2,$=t.baseline),"snapTicks"in t&&n(22,v=t.snapTicks),"ticks"in t&&n(23,w=t.ticks),"xTick"in t&&n(3,b=t.xTick),"yTick"in t&&n(4,k=t.yTick),"dxTick"in t&&n(5,_=t.dxTick),"dyTick"in t&&n(6,M=t.dyTick),"suffix"in t&&n(7,N=t.suffix),"position"in t&&n(8,T=t.position),"label"in t&&n(9,D=t.label)},t.$$.update=()=>{4096&t.$$.dirty&&n(11,i="function"==typeof s.bandwidth),8394752&t.$$.dirty&&n(10,r=Array.isArray(w)?w:i?s.domain():s.ticks(w)),1024&t.$$.dirty&&n(13,o="number"==typeof r[0])},[m,x,$,b,k,_,M,N,T,D,r,i,s,o,a,l,c,h,f,d,y,function(t){if(!0===v){if(0===t)return"start";if(t===r.length-1)return"end"}return"middle"},v,w]}class Mi extends kt{constructor(t){super(),bt(this,t,_i,ki,a,{gridlines:0,formatTick:1,baseline:2,snapTicks:22,ticks:23,xTick:3,yTick:4,dxTick:5,dyTick:6,suffix:7,position:8,label:9})}}function Ni(t,e,n){const i=t.slice();return i[20]=e[n],i[22]=n,i}function Ti(t){let e,n,i;return{c(){e=A("line"),E(e,"x2","100%"),E(e,"y1",n=t[3]+(t[10]?t[11].bandwidth()/2:0)),E(e,"y2",i=t[3]+(t[10]?t[11].bandwidth()/2:0))},m(t,n){M(t,e,n)},p(t,r){3080&r&&n!==(n=t[3]+(t[10]?t[11].bandwidth()/2:0))&&E(e,"y1",n),3080&r&&i!==(i=t[3]+(t[10]?t[11].bandwidth()/2:0))&&E(e,"y2",i)},d(t){t&&N(e)}}}function Di(t){let e,n,i,r,o,s,a=t[1](t[20])+t[7]+"";return{c(){e=A("text"),n=C(a),E(e,"class",i=t[12]?"isNumber":""),E(e,"x",t[2]),E(e,"y",r=t[3]+(t[10]?t[11].bandwidth()/2:0)),E(e,"dx",o=t[10]?-5:t[4]),E(e,"dy",s=t[10]?4:t[5]),j(e,"text-anchor",t[10]?"end":t[6])},m(t,i){M(t,e,i),b(e,n)},p(t,l){642&l&&a!==(a=t[1](t[20])+t[7]+"")&&R(n,a),4096&l&&i!==(i=t[12]?"isNumber":"")&&E(e,"class",i),4&l&&E(e,"x",t[2]),3080&l&&r!==(r=t[3]+(t[10]?t[11].bandwidth()/2:0))&&E(e,"y",r),1040&l&&o!==(o=t[10]?-5:t[4])&&E(e,"dx",o),1056&l&&s!==(s=t[10]?4:t[5])&&E(e,"dy",s),1088&l&&j(e,"text-anchor",t[10]?"end":t[6])},d(t){t&&N(e)}}}function Ai(t){let e,n,i,r,o=!1!==t[0]&&Ti(t),s=!1!==t[8]&&Di(t);return{c(){e=A("g"),o&&o.c(),n=q(),s&&s.c(),E(e,"class",i="tick tick-"+t[20]),E(e,"transform",r="translate("+(t[14][0]+(t[10]?t[13].left:0))+", "+t[11](t[20])+")")},m(t,i){M(t,e,i),o&&o.m(e,null),b(e,n),s&&s.m(e,null)},p(t,a){!1!==t[0]?o?o.p(t,a):(o=Ti(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),!1!==t[8]?s?s.p(t,a):(s=Di(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null),512&a&&i!==(i="tick tick-"+t[20])&&E(e,"class",i),28160&a&&r!==(r="translate("+(t[14][0]+(t[10]?t[13].left:0))+", "+t[11](t[20])+")")&&E(e,"transform",r)},d(t){t&&N(e),o&&o.d(),s&&s.d()}}}function Ci(e){let n,i,r=e[9],o=[];for(let t=0;t<r.length;t+=1)o[t]=Ai(Ni(e,r,t));return{c(){n=A("g");for(let t=0;t<o.length;t+=1)o[t].c();E(n,"class","axis y-axis"),E(n,"transform",i="translate("+-e[13].left+", 0)")},m(t,e){M(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(32767&e){let i;for(r=t[9],i=0;i<r.length;i+=1){const s=Ni(t,r,i);o[i]?o[i].p(s,e):(o[i]=Ai(s),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}8192&e&&i!==(i="translate("+-t[13].left+", 0)")&&E(n,"transform",i)},i:t,o:t,d(t){t&&N(n),T(o,t)}}}function Si(t,e,n){let i,r,o,s,a,l;const{padding:c,xRange:h,xScale:f,yScale:d}=J("LayerCake");u(t,c,(t=>n(13,a=t))),u(t,h,(t=>n(14,l=t))),u(t,d,(t=>n(11,s=t)));let{ticks:g=4}=e,{gridlines:p=!1}=e,{formatTick:y=(t=>t)}=e,{xTick:m=0}=e,{yTick:x=0}=e,{dxTick:$=0}=e,{dyTick:v=-4}=e,{textAnchor:w="start"}=e,{suffix:b=""}=e,{label:k=!0}=e;return t.$$set=t=>{"ticks"in t&&n(18,g=t.ticks),"gridlines"in t&&n(0,p=t.gridlines),"formatTick"in t&&n(1,y=t.formatTick),"xTick"in t&&n(2,m=t.xTick),"yTick"in t&&n(3,x=t.yTick),"dxTick"in t&&n(4,$=t.dxTick),"dyTick"in t&&n(5,v=t.dyTick),"textAnchor"in t&&n(6,w=t.textAnchor),"suffix"in t&&n(7,b=t.suffix),"label"in t&&n(8,k=t.label)},t.$$.update=()=>{2048&t.$$.dirty&&n(10,i="function"==typeof s.bandwidth),265216&t.$$.dirty&&n(9,r=Array.isArray(g)?g:i?s.domain():s.ticks(g)),512&t.$$.dirty&&n(12,o="number"==typeof r[0])},[p,y,m,x,$,v,w,b,k,r,i,s,o,a,l,c,h,d,g]}class qi extends kt{constructor(t){super(),bt(this,t,Si,Ci,a,{ticks:18,gridlines:0,formatTick:1,xTick:2,yTick:3,dxTick:4,dyTick:5,textAnchor:6,suffix:7,label:8})}}function zi(t,e,n){const i=t.slice();return i[33]=e[n],i[34]=e,i[35]=n,i}function Ei(t,e,n){const i=t.slice();return i[36]=e[n],i}function Pi(t){let e,n,i,r,o=t[33][0].key+"";return{c(){e=A("text"),n=C(o),E(e,"x",i=Math.min(...t[33].map(t[23]))-t[13](t[33])-13),E(e,"y",r=t[5][t[33][0].key]+4)},m(t,i){M(t,e,i),b(e,n)},p(t,s){4&s[0]&&o!==(o=t[33][0].key+"")&&R(n,o),20&s[0]&&i!==(i=Math.min(...t[33].map(t[23]))-t[13](t[33])-13)&&E(e,"x",i),36&s[0]&&r!==(r=t[5][t[33][0].key]+4)&&E(e,"y",r)},d(t){t&&N(e)}}}function Ri(t){let e,n,i,r;return{c(){e=A("circle"),E(e,"cx",n=t[4](t[36])),E(e,"cy",i=t[5][t[36].key]),E(e,"r",t[0]),E(e,"fill",r=t[3](t[36].cat)),E(e,"class","svelte-i8pjl7")},m(t,n){M(t,e,n)},p(t,o){20&o[0]&&n!==(n=t[4](t[36]))&&E(e,"cx",n),36&o[0]&&i!==(i=t[5][t[36].key])&&E(e,"cy",i),1&o[0]&&E(e,"r",t[0]),12&o[0]&&r!==(r=t[3](t[36].cat))&&E(e,"fill",r)},d(t){t&&N(e)}}}function ji(t){let e,n,i,r,o,s,a,l,c,u,h,f,d=t[33][0].key+"",g=t[33],p=!isNaN(t[13](t[33])-13);const y=()=>t[20](n,g),m=()=>t[20](null,g);let x=p&&Pi(t),$=t[33],v=[];for(let e=0;e<$.length;e+=1)v[e]=Ri(Ei(t,$,e));return{c(){e=A("g"),n=A("text"),i=C(d),s=A("g"),a=A("line"),x&&x.c(),f=q();for(let t=0;t<v.length;t+=1)v[t].c();E(n,"x",r=-1e3),E(n,"y",o=-1e3),E(e,"claa","dummySpace"),E(a,"x1",l=Math.min(...t[33].map(t[21]))),E(a,"y1",c=t[5][t[33][0].key]),E(a,"x2",u=Math.max(...t[33].map(t[22]))),E(a,"y2",h=t[5][t[33][0].key]),E(a,"class","svelte-i8pjl7"),E(s,"class","dot-row")},m(t,r){M(t,e,r),b(e,n),b(n,i),y(),M(t,s,r),b(s,a),x&&x.m(s,null),b(s,f);for(let t=0;t<v.length;t+=1)v[t].m(s,null)},p(e,n){if(t=e,4&n[0]&&d!==(d=t[33][0].key+"")&&R(i,d),g!==t[33]&&(m(),g=t[33],y()),20&n[0]&&l!==(l=Math.min(...t[33].map(t[21])))&&E(a,"x1",l),36&n[0]&&c!==(c=t[5][t[33][0].key])&&E(a,"y1",c),20&n[0]&&u!==(u=Math.max(...t[33].map(t[22])))&&E(a,"x2",u),36&n[0]&&h!==(h=t[5][t[33][0].key])&&E(a,"y2",h),4&n[0]&&(p=!isNaN(t[13](t[33])-13)),p?x?x.p(t,n):(x=Pi(t),x.c(),x.m(s,f)):x&&(x.d(1),x=null),61&n[0]){let e;for($=t[33],e=0;e<$.length;e+=1){const i=Ei(t,$,e);v[e]?v[e].p(i,n):(v[e]=Ri(i),v[e].c(),v[e].m(s,null))}for(;e<v.length;e+=1)v[e].d(1);v.length=$.length}},d(t){t&&N(e),m(),t&&N(s),x&&x.d(),T(v,t)}}}function Li(e){let n,i=e[2],r=[];for(let t=0;t<i.length;t+=1)r[t]=ji(zi(e,i,t));return{c(){n=A("g");for(let t=0;t<r.length;t+=1)r[t].c();E(n,"class","dot-plot")},m(t,e){M(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,e){if(8255&e[0]){let o;for(i=t[2],o=0;o<i.length;o+=1){const s=zi(t,i,o);r[o]?r[o].p(s,e):(r[o]=ji(s),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},i:t,o:t,d(t){t&&N(n),T(r,t)}}}function Wi(t,e,n){let i,r,o,s,a,l,c,h,f;const{data:d,xGet:g,yGet:p,yScale:y,yDomain:m,width:x}=J("LayerCake");u(t,d,(t=>n(18,s=t))),u(t,g,(t=>n(4,h=t))),u(t,p,(t=>n(26,l=t))),u(t,y,(t=>n(19,a=t))),u(t,m,(t=>n(27,c=t))),u(t,x,(t=>n(17,o=t)));let{r:$=5}=e,{colors:v="grey"}=e,{tweenDuration:w=1e3}=e,b=[],k={},_={},M={};const N={duration:w,delay:1.5*w,easing:gi,interpolate:function(t,e){return function(n){const i={};return Object.keys(e).forEach((o=>{const s=t[o],a=e[o];i[o]=void 0!==s?s*(1-n)+a*n+r:a*n+r})),i}}},T=mi(k,N);u(t,T,(t=>n(5,f=t)));return t.$$set=t=>{"r"in t&&n(0,$=t.r),"colors"in t&&n(14,v=t.colors),"tweenDuration"in t&&n(15,w=t.tweenDuration)},t.$$.update=()=>{16384&t.$$.dirty[0]&&n(3,i=t=>"function"==typeof v?v(t):"grey"),524288&t.$$.dirty[0]&&(r=a.bandwidth()/2),262144&t.$$.dirty[0]&&(n(2,b=[]),c.forEach((t=>b.push(s.filter((e=>e.key===t))))),n(2,b=b.filter((t=>0!==t.length)))),262144&t.$$.dirty[0]&&b.forEach((t=>{n(16,k[t[0].key]=l(t[0]),k)})),131074&t.$$.dirty[0]&&Object.keys(_).forEach((t=>"object"==typeof _[t]&&null!==_[t]?M[t]=_[t].getBBox().width:null)),65536&t.$$.dirty[0]&&T.set(k)},[$,_,b,i,h,f,d,g,p,y,m,x,T,function(t){if("number"==typeof M[t[0].key])return M[t[0].key]},v,w,k,o,s,a,function(t,e){Z[t?"unshift":"push"]((()=>{_[e[0].key]=t,n(1,_),n(2,b)}))},t=>h(t),t=>h(t),t=>h(t)]}class Oi extends kt{constructor(t){super(),bt(this,t,Wi,Li,a,{r:0,colors:14,tweenDuration:15},null,[-1,-1])}}function Ui(t,{delay:n=0,duration:i=400,easing:r=e}={}){const o=+getComputedStyle(t).opacity;return{delay:n,duration:i,easing:r,css:t=>"opacity: "+t*o}}function Ii(t){let e,n,i,r,o,s,a,l=t[0].data.cat2+"",c=t[3]&&Fi(t);return{c(){e=A("text"),n=C(l),c&&c.c(),s=q(),E(e,"x",i=t[4]?t[4][0]:t[1]/2),E(e,"y",r=t[4]?t[4][1]:20)},m(i,r){M(i,e,r),b(e,n),t[8](e),c&&c.m(i,r),M(i,s,r),a=!0},p(t,o){(!a||1&o)&&l!==(l=t[0].data.cat2+"")&&R(n,l),(!a||18&o&&i!==(i=t[4]?t[4][0]:t[1]/2))&&E(e,"x",i),(!a||16&o&&r!==(r=t[4]?t[4][1]:20))&&E(e,"y",r),t[3]?c?(c.p(t,o),8&o&&gt(c,1)):(c=Fi(t),c.c(),gt(c,1),c.m(s.parentNode,s)):c&&(ft(),pt(c,1,1,(()=>{c=null})),dt())},i(t){a||(it((()=>{o||(o=mt(e,Ui,{},!0)),o.run(1)})),gt(c),a=!0)},o(t){o||(o=mt(e,Ui,{},!1)),o.run(0),pt(c),a=!1},d(n){n&&N(e),t[8](null),n&&o&&o.end(),c&&c.d(n),n&&N(s)}}}function Fi(t){let e,n,i,r,o,s,a,l,c,u,h,f,d;return{c(){e=A("line"),a=A("line"),E(e,"x1",n=t[3].x),E(e,"y1",i=t[3].y+t[3].height+2),E(e,"x2",r=t[3].x+t[3].width+2),E(e,"y2",o=t[3].y+t[3].height+2),E(e,"stroke-width","2"),E(e,"stroke","#333"),E(a,"x1",l=t[3].x+(t[3].width+2)/2),E(a,"y1",c=t[3].y+t[3].height+2),E(a,"x2",u=t[0][0]),E(a,"y2",h=t[0][1]),E(a,"stroke-width","2"),E(a,"stroke","#333")},m(t,n){M(t,e,n),M(t,a,n),d=!0},p(t,s){(!d||8&s&&n!==(n=t[3].x))&&E(e,"x1",n),(!d||8&s&&i!==(i=t[3].y+t[3].height+2))&&E(e,"y1",i),(!d||8&s&&r!==(r=t[3].x+t[3].width+2))&&E(e,"x2",r),(!d||8&s&&o!==(o=t[3].y+t[3].height+2))&&E(e,"y2",o),(!d||8&s&&l!==(l=t[3].x+(t[3].width+2)/2))&&E(a,"x1",l),(!d||8&s&&c!==(c=t[3].y+t[3].height+2))&&E(a,"y1",c),(!d||1&s&&u!==(u=t[0][0]))&&E(a,"x2",u),(!d||1&s&&h!==(h=t[0][1]))&&E(a,"y2",h)},i(t){d||(it((()=>{s||(s=mt(e,Ui,{},!0)),s.run(1)})),it((()=>{f||(f=mt(a,Ui,{},!0)),f.run(1)})),d=!0)},o(t){s||(s=mt(e,Ui,{},!1)),s.run(0),f||(f=mt(a,Ui,{},!1)),f.run(0),d=!1},d(t){t&&N(e),t&&s&&s.end(),t&&N(a),t&&f&&f.end()}}}function Hi(t){let e,n,i=t[0]&&Ii(t);return{c(){e=A("g"),i&&i.c(),E(e,"class","beeswarm-annotation")},m(t,r){M(t,e,r),i&&i.m(e,null),n=!0},p(t,[n]){t[0]?i?(i.p(t,n),1&n&&gt(i,1)):(i=Ii(t),i.c(),gt(i,1),i.m(e,null)):i&&(ft(),pt(i,1,1,(()=>{i=null})),dt())},i(t){n||(gt(i),n=!0)},o(t){pt(i),n=!1},d(t){t&&N(e),i&&i.d()}}}function Bi(t,e,n){let i;const{data:r,width:o,height:s}=J("LayerCake");u(t,o,(t=>n(1,i=t)));let a,l,c,h,{calculatedPoints:f=[]}=e,d=!1;function g(){c&&n(4,h=[i/2-c.width/2,20])}return t.$$set=t=>{"calculatedPoints"in t&&n(6,f=t.calculatedPoints)},t.$$.update=()=>{64&t.$$.dirty&&n(0,a=f.find((t=>t.data.cat3))),1&t.$$.dirty&&l&&(n(3,c=l.getBBox()),n(7,d=Math.floor(c.width)!==d)),2&t.$$.dirty&&g(),128&t.$$.dirty&&d&&g()},[a,i,l,c,h,o,f,d,function(t){Z[t?"unshift":"push"]((()=>{l=t,n(2,l)}))}]}class Yi extends kt{constructor(t){super(),bt(this,t,Bi,Hi,a,{calculatedPoints:6})}}function Xi(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,l,c,u,h,f,d=t._root,g={data:i},p=t._x0,y=t._y0,m=t._x1,x=t._y1;if(!d)return t._root=g,t;for(;d.length;)if((c=e>=(o=(p+m)/2))?p=o:m=o,(u=n>=(s=(y+x)/2))?y=s:x=s,r=d,!(d=d[h=u<<1|c]))return r[h]=g,t;if(a=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===a&&n===l)return g.next=d,r?r[h]=g:t._root=g,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(p+m)/2))?p=o:m=o,(u=n>=(s=(y+x)/2))?y=s:x=s}while((h=u<<1|c)==(f=(l>=s)<<1|a>=o));return r[f]=d,r[h]=g,t}function Gi(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r}function Ki(t){return t[0]}function Ji(t){return t[1]}function Vi(t,e,n){var i=new Zi(null==e?Ki:e,null==n?Ji:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Zi(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function Qi(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var tr=Vi.prototype=Zi.prototype;function er(t){return function(){return t}}function nr(t){return 1e-6*(t()-.5)}function ir(t){return t.x+t.vx}function rr(t){return t.y+t.vy}tr.copy=function(){var t,e,n=new Zi(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=Qi(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=Qi(e));return n},tr.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Xi(this.cover(e,n),e,n,t)},tr.addAll=function(t){var e,n,i,r,o=t.length,s=new Array(o),a=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,a[n]=r,i<l&&(l=i),i>u&&(u=i),r<c&&(c=r),r>h&&(h=r));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)Xi(this,s[n],a[n],t[n]);return this},tr.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var s,a,l=r-n||1,c=this._root;n>t||t>=r||i>e||e>=o;)switch(a=(e<i)<<1|t<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},tr.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},tr.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},tr.find=function(t,e,n){var i,r,o,s,a,l,c,u=this._x0,h=this._y0,f=this._x1,d=this._y1,g=[],p=this._root;for(p&&g.push(new Gi(p,u,h,f,d)),null==n?n=1/0:(u=t-n,h=e-n,f=t+n,d=e+n,n*=n);l=g.pop();)if(!(!(p=l.node)||(r=l.x0)>f||(o=l.y0)>d||(s=l.x1)<u||(a=l.y1)<h))if(p.length){var y=(r+s)/2,m=(o+a)/2;g.push(new Gi(p[3],y,m,s,a),new Gi(p[2],r,m,y,a),new Gi(p[1],y,o,s,m),new Gi(p[0],r,o,y,m)),(c=(e>=m)<<1|t>=y)&&(l=g[g.length-1],g[g.length-1]=g[g.length-1-c],g[g.length-1-c]=l)}else{var x=t-+this._x.call(null,p.data),$=e-+this._y.call(null,p.data),v=x*x+$*$;if(v<n){var w=Math.sqrt(n=v);u=t-w,h=e-w,f=t+w,d=e+w,i=p.data}}return i},tr.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,l,c,u,h,f,d=this._root,g=this._x0,p=this._y0,y=this._x1,m=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(a=(g+y)/2))?g=a:y=a,(u=s>=(l=(p+m)/2))?p=l:m=l,e=d,!(d=d[h=u<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(i=d,!(d=d.next))return this;return(r=d.next)&&delete d.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=r,this)},tr.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},tr.root=function(){return this._root},tr.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},tr.visit=function(t){var e,n,i,r,o,s,a=[],l=this._root;for(l&&a.push(new Gi(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&l.length){var c=(i+o)/2,u=(r+s)/2;(n=l[3])&&a.push(new Gi(n,c,u,o,s)),(n=l[2])&&a.push(new Gi(n,i,u,c,s)),(n=l[1])&&a.push(new Gi(n,c,r,o,u)),(n=l[0])&&a.push(new Gi(n,i,r,c,u))}return this},tr.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new Gi(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,s=e.x0,a=e.y0,l=e.x1,c=e.y1,u=(s+l)/2,h=(a+c)/2;(o=r[0])&&n.push(new Gi(o,s,a,u,h)),(o=r[1])&&n.push(new Gi(o,u,a,l,h)),(o=r[2])&&n.push(new Gi(o,s,h,u,c)),(o=r[3])&&n.push(new Gi(o,u,h,l,c))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},tr.x=function(t){return arguments.length?(this._x=t,this):this._x},tr.y=function(t){return arguments.length?(this._y=t,this):this._y};var or={value:()=>{}};function sr(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i||/[\s.]/.test(t))throw new Error("illegal type: "+t);i[t]=[]}return new ar(i)}function ar(t){this._=t}function lr(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function cr(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function ur(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=or,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}ar.prototype=sr.prototype={constructor:ar,on:function(t,e){var n,i=this._,r=lr(t+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=ur(i[n],t.name,e);else if(null==e)for(n in i)i[n]=ur(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=cr(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ar(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var hr,fr,dr=0,gr=0,pr=0,yr=0,mr=0,xr=0,$r="object"==typeof performance&&performance.now?performance:Date,vr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wr(){return mr||(vr(br),mr=$r.now()+xr)}function br(){mr=0}function kr(){this._call=this._time=this._next=null}function _r(t,e,n){var i=new kr;return i.restart(t,e,n),i}function Mr(){mr=(yr=$r.now())+xr,dr=gr=0;try{!function(){wr(),++dr;for(var t,e=hr;e;)(t=mr-e._time)>=0&&e._call.call(null,t),e=e._next;--dr}()}finally{dr=0,function(){var t,e,n=hr,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:hr=e);fr=t,Tr(i)}(),mr=0}}function Nr(){var t=$r.now(),e=t-yr;e>1e3&&(xr-=e,yr=t)}function Tr(t){dr||(gr&&(gr=clearTimeout(gr)),t-mr>24?(t<1/0&&(gr=setTimeout(Mr,t-$r.now()-xr)),pr&&(pr=clearInterval(pr))):(pr||(yr=$r.now(),pr=setInterval(Nr,1e3)),dr=1,vr(Mr)))}kr.prototype=_r.prototype={constructor:kr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?wr():+n)+(null==e?0:+e),this._next||fr===this||(fr?fr._next=this:hr=this,fr=this),this._call=t,this._time=n,Tr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tr())}};const Dr=4294967296;function Ar(t){return t.x}function Cr(t){return t.y}var Sr=Math.PI*(3-Math.sqrt(5));function qr(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,s=.6,a=new Map,l=_r(h),c=sr("tick","end"),u=function(){let t=1;return()=>(t=(1664525*t+1013904223)%Dr)/Dr}();function h(){f(),c.call("tick",e),n<i&&(l.stop(),c.call("end",e))}function f(i){var l,c,u=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(o-n)*r,a.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=10*Math.sqrt(.5+n),o=n*Sr;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function g(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),a.forEach(g),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(u=t,a.forEach(g),e):u},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,g(n)),e):a.get(t)},find:function(e,n,i){var r,o,s,a,l,c=0,u=t.length;for(null==i?i=1/0:i*=i,c=0;c<u;++c)(s=(r=e-(a=t[c]).x)*r+(o=n-a.y)*o)<i&&(l=a,i=s);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function zr(t,e,n){const i=t.slice();return i[30]=e[n],i}function Er(t,e,n){const i=t.slice();return i[33]=e[n],i}function Pr(t){let e,n,i,r,o;return{c(){e=A("image"),E(e,"mask","url(#mask)"),E(e,"id",n=t[33].data.key.split(" ")[0]),E(e,"x","0"),E(e,"y","0"),E(e,"height",i=2*t[0]),E(e,"width",r=2*t[0]),P(e,"xlink:href",o="./img/"+t[33].data.key+".jpg")},m(t,n){M(t,e,n)},p(t,s){2&s[0]&&n!==(n=t[33].data.key.split(" ")[0])&&E(e,"id",n),1&s[0]&&i!==(i=2*t[0])&&E(e,"height",i),1&s[0]&&r!==(r=2*t[0])&&E(e,"width",r),2&s[0]&&o!==(o="./img/"+t[33].data.key+".jpg")&&P(e,"xlink:href",o)},d(t){t&&N(e)}}}function Rr(t){let e,n,i,r,a,l,c,u,h,f,d;return{c(){e=A("use"),l=A("circle"),P(e,"xlink:href",n="#"+t[30].data.key.split(" ")[0]),E(e,"class",i="circle"+t[30].data.data.q_num),E(e,"x",r=t[30].x-t[0]),E(e,"y",a=t[30].y-t[0]),E(l,"class",c="overlay circle"+t[30].data.data.q_num),E(l,"cx",u=t[30].x),E(l,"cy",h=t[30].y),E(l,"r",t[0])},m(n,i){M(n,e,i),M(n,l,i),f||(d=[z(e,"click",(function(){s(t[6](t[30]))&&t[6](t[30]).apply(this,arguments)})),z(e,"mouseenter",(function(){s(t[8](t[30]))&&t[8](t[30]).apply(this,arguments)})),z(e,"mouseout",t[9]),z(e,"touchstart",(function(){s(t[7](t[30]))&&t[7](t[30]).apply(this,arguments)})),z(e,"touchstart",(function(){s(t[10](t[30]))&&t[10](t[30]).apply(this,arguments)}))],f=!0)},p(o,s){t=o,2&s[0]&&n!==(n="#"+t[30].data.key.split(" ")[0])&&P(e,"xlink:href",n),2&s[0]&&i!==(i="circle"+t[30].data.data.q_num)&&E(e,"class",i),3&s[0]&&r!==(r=t[30].x-t[0])&&E(e,"x",r),3&s[0]&&a!==(a=t[30].y-t[0])&&E(e,"y",a),2&s[0]&&c!==(c="overlay circle"+t[30].data.data.q_num)&&E(l,"class",c),2&s[0]&&u!==(u=t[30].x)&&E(l,"cx",u),2&s[0]&&h!==(h=t[30].y)&&E(l,"cy",h),1&s[0]&&E(l,"r",t[0])},d(t){t&&N(e),t&&N(l),f=!1,o(d)}}}function jr(e){let n,i,r,o,s=e[1],a=[];for(let t=0;t<s.length;t+=1)a[t]=Pr(Er(e,s,t));let l=e[1],c=[];for(let t=0;t<l.length;t+=1)c[t]=Rr(zr(e,l,t));return{c(){n=A("g"),i=A("defs"),r=A("mask"),o=A("circle");for(let t=0;t<a.length;t+=1)a[t].c();for(let t=0;t<c.length;t+=1)c[t].c();E(o,"cx",e[0]),E(o,"cy",e[0]),E(o,"r",e[0]),E(o,"fill","white"),E(r,"id","mask"),E(n,"class","beeswarm-group")},m(t,e){M(t,n,e),b(n,i),b(i,r),b(r,o);for(let t=0;t<a.length;t+=1)a[t].m(i,null);for(let t=0;t<c.length;t+=1)c[t].m(n,null)},p(t,e){if(1&e[0]&&E(o,"cx",t[0]),1&e[0]&&E(o,"cy",t[0]),1&e[0]&&E(o,"r",t[0]),3&e[0]){let n;for(s=t[1],n=0;n<s.length;n+=1){const r=Er(t,s,n);a[n]?a[n].p(r,e):(a[n]=Pr(r),a[n].c(),a[n].m(i,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=s.length}if(1987&e[0]){let i;for(l=t[1],i=0;i<l.length;i+=1){const r=zr(t,l,i);c[i]?c[i].p(r,e):(c[i]=Rr(r),c[i].c(),c[i].m(n,null))}for(;i<c.length;i+=1)c[i].d(1);c.length=l.length}},i:t,o:t,d(t){t&&N(n),T(a,t),T(c,t)}}}function Lr(t,e,n){let i,r,o,s;const{data:a,width:l,height:c,xGet:h}=J("LayerCake");u(t,a,(t=>n(13,i=t))),u(t,l,(t=>n(14,r=t))),u(t,c,(t=>n(20,o=t))),u(t,h,(t=>n(21,s=t)));const f=K();let d,g,p,{radius:y}=e,{colors:m="#ab00d6"}=e,{selectedDatum:x}=e,$=[],v=!1,w=t=>({data:t,x:s(t),y:0,cx:s(t),cy:0,r:y,strokeOpacity:0,targetX:s(t),targetY:o/2});function b(){g=qr($),g.alphaDecay(.01).force("charge",function(){var t,e,n,i,r,o=er(-30),s=1,a=1/0,l=.81;function c(n){var r,o=t.length,s=Vi(t,Ar,Cr).visitAfter(h);for(i=n,r=0;r<o;++r)e=t[r],s.visit(f)}function u(){if(t){var e,n,i=t.length;for(r=new Array(i),e=0;e<i;++e)n=t[e],r[n.index]=+o(n,e,t)}}function h(t){var e,n,i,o,s,a=0,l=0;if(t.length){for(i=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,i+=n*e.x,o+=n*e.y);t.x=i/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=r[e.data.index]}while(e=e.next)}t.value=a}function f(t,o,c,u){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,d=u-o,g=h*h+f*f;if(d*d/l<g)return g<a&&(0===h&&(g+=(h=nr(n))*h),0===f&&(g+=(f=nr(n))*f),g<s&&(g=Math.sqrt(s*g)),e.vx+=h*t.value*i/g,e.vy+=f*t.value*i/g),!0;if(!(t.length||g>=a)){(t.data!==e||t.next)&&(0===h&&(g+=(h=nr(n))*h),0===f&&(g+=(f=nr(n))*f),g<s&&(g=Math.sqrt(s*g)));do{t.data!==e&&(d=r[t.data.index]*i/g,e.vx+=h*d,e.vy+=f*d)}while(t=t.next)}}return c.initialize=function(e,i){t=e,n=i,u()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:er(+t),u(),c):o},c.distanceMin=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}().strength(r>=600?-4:-1)).force("forceX",function(t){var e,n,i,r=er(.1);function o(t){for(var r,o=0,s=e.length;o<s;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=er(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:er(+t),s(),o):r},o.x=function(e){return arguments.length?(t="function"==typeof e?e:er(+e),s(),o):t},o}((t=>t.targetX)).strength(.04)).force("forceY",function(t){var e,n,i,r=er(.1);function o(t){for(var r,o=0,s=e.length;o<s;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=er(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:er(+t),s(),o):r},o.y=function(e){return arguments.length?(t="function"==typeof e?e:er(+e),s(),o):t},o}((t=>t.targetY)).strength(.02)).force("collide",function(t){var e,n,i,r=1,o=1;function s(){for(var t,s,l,c,u,h,f,d=e.length,g=0;g<o;++g)for(s=Vi(e,ir,rr).visitAfter(a),t=0;t<d;++t)l=e[t],h=n[l.index],f=h*h,c=l.x+l.vx,u=l.y+l.vy,s.visit(p);function p(t,e,n,o,s){var a=t.data,d=t.r,g=h+d;if(!a)return e>c+g||o<c-g||n>u+g||s<u-g;if(a.index>l.index){var p=c-a.x-a.vx,y=u-a.y-a.vy,m=p*p+y*y;m<g*g&&(0===p&&(m+=(p=nr(i))*p),0===y&&(m+=(y=nr(i))*y),m=(g-(m=Math.sqrt(m)))/m*r,l.vx+=(p*=m)*(g=(d*=d)/(f+d)),l.vy+=(y*=m)*g,a.vx-=p*(g=1-g),a.vy-=y*g)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function l(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=er(null==t?1:+t)),s.initialize=function(t,n){e=t,i=n,l()},s.iterations=function(t){return arguments.length?(o=+t,s):o},s.strength=function(t){return arguments.length?(r=+t,s):r},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:er(+e),l(),s):t},s}((t=>t.r+2))).on("tick",(()=>{g.tick(),n(1,$=g.nodes()),f("simulationPoints",$)}))}function k(){if(r<100)return!1;if(0===$.length)n(1,$=i.map(w)),p=i.map((t=>t.key));else{if($.length==i.length)return!1;i.forEach((t=>{p.indexOf(t.key)<0&&($.push(w(t)),p.push(t.key))}))}return!0}function _(){k()&&(g&&g.stop(),b())}return t.$$set=t=>{"radius"in t&&n(0,y=t.radius),"colors"in t&&n(11,m=t.colors),"selectedDatum"in t&&n(12,x=t.selectedDatum)},t.$$.update=()=>{t.$$.dirty[0],16384&t.$$.dirty[0]&&_(),8192&t.$$.dirty[0]&&_()},[y,$,a,l,c,h,function(t){console.log("click data: "+t.data),r>200&&f("clickData",t.data)},function(t){if(!v)return v=!0,setTimeout((function(){v=!1}),300),!1;event.preventDefault(),r<=600&&f("clickData",t.data)},function(t){const e=[t.x,t.y];e.data=t.data,f("tooltipData",e)},function(){f("tooltipData",void 0)},function(t){let e=[t.x,t.y];e.data=t.data,d===e.data.cat2?(e=void 0,d=e):d=t.data.cat2,f("tooltipData",e)},m,x,i,r]}class Wr extends kt{constructor(t){super(),bt(this,t,Lr,jr,a,{radius:0,colors:11,selectedDatum:12},null,[-1,-1])}}function Or(t,e,n){const i=t.slice();return i[7]=e[n],i}function Ur(t){let e,n,i;return{c(){e=A("circle"),E(e,"cx",n=t[3](t[7])),E(e,"cy",i=t[4](t[7])),E(e,"r",t[1]),E(e,"fill",t[2])},m(t,n){M(t,e,n)},p(t,r){9&r&&n!==(n=t[3](t[7]))&&E(e,"cx",n),17&r&&i!==(i=t[4](t[7]))&&E(e,"cy",i),2&r&&E(e,"r",t[1]),4&r&&E(e,"fill",t[2])},d(t){t&&N(e)}}}function Ir(e){let n,i=e[0],r=[];for(let t=0;t<i.length;t+=1)r[t]=Ur(Or(e,i,t));return{c(){n=A("g");for(let t=0;t<r.length;t+=1)r[t].c();E(n,"class","scatter-group")},m(t,e){M(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){if(31&e){let o;for(i=t[0],o=0;o<i.length;o+=1){const s=Or(t,i,o);r[o]?r[o].p(s,e):(r[o]=Ur(s),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},i:t,o:t,d(t){t&&N(n),T(r,t)}}}function Fr(t,e,n){let i,r;const{xGet:o,yGet:s}=J("LayerCake");u(t,o,(t=>n(3,i=t))),u(t,s,(t=>n(4,r=t)));let{data:a=[]}=e,{r:l=5}=e,{fill:c="#000"}=e;return t.$$set=t=>{"data"in t&&n(0,a=t.data),"r"in t&&n(1,l=t.r),"fill"in t&&n(2,c=t.fill)},[a,l,c,i,r,o,s]}class Hr extends kt{constructor(t){super(),bt(this,t,Fr,Ir,a,{data:0,r:1,fill:2})}}const Br=Math.pow(2,-52),Yr=new Uint32Array(512);class Xr{static from(t,e=eo,n=no){const i=t.length,r=new Float64Array(2*i);for(let o=0;o<i;o++){const i=t[o];r[2*o]=e(i),r[2*o+1]=n(i)}return new Xr(r)}constructor(t){const e=t.length>>1;if(e>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const n=Math.max(2*e-5,0);this._triangles=new Uint32Array(3*n),this._halfedges=new Int32Array(3*n),this._hashSize=Math.ceil(Math.sqrt(e)),this._hullPrev=new Uint32Array(e),this._hullNext=new Uint32Array(e),this._hullTri=new Uint32Array(e),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(e),this._dists=new Float64Array(e),this.update()}update(){const{coords:t,_hullPrev:e,_hullNext:n,_hullTri:i,_hullHash:r}=this,o=t.length>>1;let s=1/0,a=1/0,l=-1/0,c=-1/0;for(let e=0;e<o;e++){const n=t[2*e],i=t[2*e+1];n<s&&(s=n),i<a&&(a=i),n>l&&(l=n),i>c&&(c=i),this._ids[e]=e}const u=(s+l)/2,h=(a+c)/2;let f,d,g,p=1/0;for(let e=0;e<o;e++){const n=Gr(u,h,t[2*e],t[2*e+1]);n<p&&(f=e,p=n)}const y=t[2*f],m=t[2*f+1];p=1/0;for(let e=0;e<o;e++){if(e===f)continue;const n=Gr(y,m,t[2*e],t[2*e+1]);n<p&&n>0&&(d=e,p=n)}let x=t[2*d],$=t[2*d+1],v=1/0;for(let e=0;e<o;e++){if(e===f||e===d)continue;const n=Zr(y,m,x,$,t[2*e],t[2*e+1]);n<v&&(g=e,v=n)}let w=t[2*g],b=t[2*g+1];if(v===1/0){for(let e=0;e<o;e++)this._dists[e]=t[2*e]-t[0]||t[2*e+1]-t[1];Qr(this._ids,this._dists,0,o-1);const e=new Uint32Array(o);let n=0;for(let t=0,i=-1/0;t<o;t++){const r=this._ids[t];this._dists[r]>i&&(e[n++]=r,i=this._dists[r])}return this.hull=e.subarray(0,n),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(Jr(y,m,x,$,w,b)){const t=d,e=x,n=$;d=g,x=w,$=b,g=t,w=e,b=n}const k=function(t,e,n,i,r,o){const s=n-t,a=i-e,l=r-t,c=o-e,u=s*s+a*a,h=l*l+c*c,f=.5/(s*c-a*l);return{x:t+(c*u-a*h)*f,y:e+(s*h-l*u)*f}}(y,m,x,$,w,b);this._cx=k.x,this._cy=k.y;for(let e=0;e<o;e++)this._dists[e]=Gr(t[2*e],t[2*e+1],k.x,k.y);Qr(this._ids,this._dists,0,o-1),this._hullStart=f;let _=3;n[f]=e[g]=d,n[d]=e[f]=g,n[g]=e[d]=f,i[f]=0,i[d]=1,i[g]=2,r.fill(-1),r[this._hashKey(y,m)]=f,r[this._hashKey(x,$)]=d,r[this._hashKey(w,b)]=g,this.trianglesLen=0,this._addTriangle(f,d,g,-1,-1,-1);for(let o,s,a=0;a<this._ids.length;a++){const l=this._ids[a],c=t[2*l],u=t[2*l+1];if(a>0&&Math.abs(c-o)<=Br&&Math.abs(u-s)<=Br)continue;if(o=c,s=u,l===f||l===d||l===g)continue;let h=0;for(let t=0,e=this._hashKey(c,u);t<this._hashSize&&(h=r[(e+t)%this._hashSize],-1===h||h===n[h]);t++);h=e[h];let p,y=h;for(;p=n[y],!Jr(c,u,t[2*y],t[2*y+1],t[2*p],t[2*p+1]);)if(y=p,y===h){y=-1;break}if(-1===y)continue;let m=this._addTriangle(y,l,n[y],-1,-1,i[y]);i[l]=this._legalize(m+2),i[y]=m,_++;let x=n[y];for(;p=n[x],Jr(c,u,t[2*x],t[2*x+1],t[2*p],t[2*p+1]);)m=this._addTriangle(x,l,p,i[l],-1,i[x]),i[l]=this._legalize(m+2),n[x]=x,_--,x=p;if(y===h)for(;p=e[y],Jr(c,u,t[2*p],t[2*p+1],t[2*y],t[2*y+1]);)m=this._addTriangle(p,l,y,-1,i[y],i[p]),this._legalize(m+2),i[p]=m,n[y]=y,_--,y=p;this._hullStart=e[l]=y,n[y]=e[x]=l,n[l]=x,r[this._hashKey(c,u)]=l,r[this._hashKey(t[2*y],t[2*y+1])]=y}this.hull=new Uint32Array(_);for(let t=0,e=this._hullStart;t<_;t++)this.hull[t]=e,e=n[e];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,e){return Math.floor(function(t,e){const n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}(t-this._cx,e-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:e,_halfedges:n,coords:i}=this;let r=0,o=0;for(;;){const s=n[t],a=t-t%3;if(o=a+(t+2)%3,-1===s){if(0===r)break;t=Yr[--r];continue}const l=s-s%3,c=a+(t+1)%3,u=l+(s+2)%3,h=e[o],f=e[t],d=e[c],g=e[u];if(Vr(i[2*h],i[2*h+1],i[2*f],i[2*f+1],i[2*d],i[2*d+1],i[2*g],i[2*g+1])){e[t]=g,e[s]=h;const i=n[u];if(-1===i){let e=this._hullStart;do{if(this._hullTri[e]===u){this._hullTri[e]=t;break}e=this._hullPrev[e]}while(e!==this._hullStart)}this._link(t,i),this._link(s,n[o]),this._link(o,u);const a=l+(s+1)%3;r<Yr.length&&(Yr[r++]=a)}else{if(0===r)break;t=Yr[--r]}}return o}_link(t,e){this._halfedges[t]=e,-1!==e&&(this._halfedges[e]=t)}_addTriangle(t,e,n,i,r,o){const s=this.trianglesLen;return this._triangles[s]=t,this._triangles[s+1]=e,this._triangles[s+2]=n,this._link(s,i),this._link(s+1,r),this._link(s+2,o),this.trianglesLen+=3,s}}function Gr(t,e,n,i){const r=t-n,o=e-i;return r*r+o*o}function Kr(t,e,n,i,r,o){const s=(i-e)*(r-t),a=(n-t)*(o-e);return Math.abs(s-a)>=33306690738754716e-32*Math.abs(s+a)?s-a:0}function Jr(t,e,n,i,r,o){return(Kr(r,o,t,e,n,i)||Kr(t,e,n,i,r,o)||Kr(n,i,r,o,t,e))<0}function Vr(t,e,n,i,r,o,s,a){const l=t-s,c=e-a,u=n-s,h=i-a,f=r-s,d=o-a,g=u*u+h*h,p=f*f+d*d;return l*(h*p-g*d)-c*(u*p-g*f)+(l*l+c*c)*(u*d-h*f)<0}function Zr(t,e,n,i,r,o){const s=n-t,a=i-e,l=r-t,c=o-e,u=s*s+a*a,h=l*l+c*c,f=.5/(s*c-a*l),d=(c*u-a*h)*f,g=(s*h-l*u)*f;return d*d+g*g}function Qr(t,e,n,i){if(i-n<=20)for(let r=n+1;r<=i;r++){const i=t[r],o=e[i];let s=r-1;for(;s>=n&&e[t[s]]>o;)t[s+1]=t[s--];t[s+1]=i}else{let r=n+1,o=i;to(t,n+i>>1,r),e[t[n]]>e[t[i]]&&to(t,n,i),e[t[r]]>e[t[i]]&&to(t,r,i),e[t[n]]>e[t[r]]&&to(t,n,r);const s=t[r],a=e[s];for(;;){do{r++}while(e[t[r]]<a);do{o--}while(e[t[o]]>a);if(o<r)break;to(t,r,o)}t[n+1]=t[o],t[o]=s,i-r+1>=o-n?(Qr(t,e,r,i),Qr(t,e,n,o-1)):(Qr(t,e,n,o-1),Qr(t,e,r,i))}}function to(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function eo(t){return t[0]}function no(t){return t[1]}const io=1e-6;class ro{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,e){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,e){this._+=`L${this._x1=+t},${this._y1=+e}`}arc(t,e,n){const i=(t=+t)+(n=+n),r=e=+e;if(n<0)throw new Error("negative radius");null===this._x1?this._+=`M${i},${r}`:(Math.abs(this._x1-i)>io||Math.abs(this._y1-r)>io)&&(this._+="L"+i+","+r),n&&(this._+=`A${n},${n},0,1,1,${t-n},${e}A${n},${n},0,1,1,${this._x1=i},${this._y1=r}`)}rect(t,e,n,i){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+e}h${+n}v${+i}h${-n}Z`}value(){return this._||null}}class oo{constructor(){this._=[]}moveTo(t,e){this._.push([t,e])}closePath(){this._.push(this._[0].slice())}lineTo(t,e){this._.push([t,e])}value(){return this._.length?this._:null}}class so{constructor(t,[e,n,i,r]=[0,0,960,500]){if(!((i=+i)>=(e=+e)&&(r=+r)>=(n=+n)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=i,this.xmin=e,this.ymax=r,this.ymin=n,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:e,triangles:n},vectors:i}=this,r=this.circumcenters=this._circumcenters.subarray(0,n.length/3*2);for(let e,i,o=0,s=0,a=n.length;o<a;o+=3,s+=2){const a=2*n[o],l=2*n[o+1],c=2*n[o+2],u=t[a],h=t[a+1],f=t[l],d=t[l+1],g=t[c],p=t[c+1],y=f-u,m=d-h,x=g-u,$=p-h,v=y*y+m*m,w=x*x+$*$,b=2*(y*$-m*x);if(b)if(Math.abs(b)<1e-8)e=(u+g)/2,i=(h+p)/2;else{const t=1/b;e=u+($*v-m*w)*t,i=h+(y*w-x*v)*t}else e=(u+g)/2-1e8*$,i=(h+p)/2+1e8*x;r[s]=e,r[s+1]=i}let o,s,a,l=e[e.length-1],c=4*l,u=t[2*l],h=t[2*l+1];i.fill(0);for(let n=0;n<e.length;++n)l=e[n],o=c,s=u,a=h,c=4*l,u=t[2*l],h=t[2*l+1],i[o+2]=i[c]=a-h,i[o+3]=i[c+1]=u-s}render(t){const e=null==t?t=new ro:void 0,{delaunay:{halfedges:n,inedges:i,hull:r},circumcenters:o,vectors:s}=this;if(r.length<=1)return null;for(let e=0,i=n.length;e<i;++e){const i=n[e];if(i<e)continue;const r=2*Math.floor(e/3),s=2*Math.floor(i/3),a=o[r],l=o[r+1],c=o[s],u=o[s+1];this._renderSegment(a,l,c,u,t)}let a,l=r[r.length-1];for(let e=0;e<r.length;++e){a=l,l=r[e];const n=2*Math.floor(i[l]/3),c=o[n],u=o[n+1],h=4*a,f=this._project(c,u,s[h+2],s[h+3]);f&&this._renderSegment(c,u,f[0],f[1],t)}return e&&e.value()}renderBounds(t){const e=null==t?t=new ro:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),e&&e.value()}renderCell(t,e){const n=null==e?e=new ro:void 0,i=this._clip(t);if(null===i||!i.length)return;e.moveTo(i[0],i[1]);let r=i.length;for(;i[0]===i[r-2]&&i[1]===i[r-1]&&r>1;)r-=2;for(let t=2;t<r;t+=2)i[t]===i[t-2]&&i[t+1]===i[t-1]||e.lineTo(i[t],i[t+1]);return e.closePath(),n&&n.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let e=0,n=t.length/2;e<n;++e){const t=this.cellPolygon(e);t&&(t.index=e,yield t)}}cellPolygon(t){const e=new oo;return this.renderCell(t,e),e.value()}_renderSegment(t,e,n,i,r){let o;const s=this._regioncode(t,e),a=this._regioncode(n,i);0===s&&0===a?(r.moveTo(t,e),r.lineTo(n,i)):(o=this._clipSegment(t,e,n,i,s,a))&&(r.moveTo(o[0],o[1]),r.lineTo(o[2],o[3]))}contains(t,e,n){return(e=+e)==e&&(n=+n)==n&&this.delaunay._step(t,e,n)===t}*neighbors(t){const e=this._clip(t);if(e)for(const n of this.delaunay.neighbors(t)){const t=this._clip(n);if(t)t:for(let i=0,r=e.length;i<r;i+=2)for(let o=0,s=t.length;o<s;o+=2)if(e[i]==t[o]&&e[i+1]==t[o+1]&&e[(i+2)%r]==t[(o+s-2)%s]&&e[(i+3)%r]==t[(o+s-1)%s]){yield n;break t}}}_cell(t){const{circumcenters:e,delaunay:{inedges:n,halfedges:i,triangles:r}}=this,o=n[t];if(-1===o)return null;const s=[];let a=o;do{const n=Math.floor(a/3);if(s.push(e[2*n],e[2*n+1]),a=a%3==2?a-2:a+1,r[a]!==t)break;a=i[a]}while(a!==o&&-1!==a);return s}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const e=this._cell(t);if(null===e)return null;const{vectors:n}=this,i=4*t;return n[i]||n[i+1]?this._clipInfinite(t,e,n[i],n[i+1],n[i+2],n[i+3]):this._clipFinite(t,e)}_clipFinite(t,e){const n=e.length;let i,r,o,s,a,l=null,c=e[n-2],u=e[n-1],h=this._regioncode(c,u);for(let f=0;f<n;f+=2)if(i=c,r=u,c=e[f],u=e[f+1],o=h,h=this._regioncode(c,u),0===o&&0===h)s=a,a=0,l?l.push(c,u):l=[c,u];else{let e,n,f,d,g;if(0===o){if(null===(e=this._clipSegment(i,r,c,u,o,h)))continue;[n,f,d,g]=e}else{if(null===(e=this._clipSegment(c,u,i,r,h,o)))continue;[d,g,n,f]=e,s=a,a=this._edgecode(n,f),s&&a&&this._edge(t,s,a,l,l.length),l?l.push(n,f):l=[n,f]}s=a,a=this._edgecode(d,g),s&&a&&this._edge(t,s,a,l,l.length),l?l.push(d,g):l=[d,g]}if(l)s=a,a=this._edgecode(l[0],l[1]),s&&a&&this._edge(t,s,a,l,l.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return l}_clipSegment(t,e,n,i,r,o){for(;;){if(0===r&&0===o)return[t,e,n,i];if(r&o)return null;let s,a,l=r||o;8&l?(s=t+(n-t)*(this.ymax-e)/(i-e),a=this.ymax):4&l?(s=t+(n-t)*(this.ymin-e)/(i-e),a=this.ymin):2&l?(a=e+(i-e)*(this.xmax-t)/(n-t),s=this.xmax):(a=e+(i-e)*(this.xmin-t)/(n-t),s=this.xmin),r?(t=s,e=a,r=this._regioncode(t,e)):(n=s,i=a,o=this._regioncode(n,i))}}_clipInfinite(t,e,n,i,r,o){let s,a=Array.from(e);if((s=this._project(a[0],a[1],n,i))&&a.unshift(s[0],s[1]),(s=this._project(a[a.length-2],a[a.length-1],r,o))&&a.push(s[0],s[1]),a=this._clipFinite(t,a))for(let e,n=0,i=a.length,r=this._edgecode(a[i-2],a[i-1]);n<i;n+=2)e=r,r=this._edgecode(a[n],a[n+1]),e&&r&&(n=this._edge(t,e,r,a,n),i=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,e,n,i,r){for(;e!==n;){let n,o;switch(e){case 5:e=4;continue;case 4:e=6,n=this.xmax,o=this.ymin;break;case 6:e=2;continue;case 2:e=10,n=this.xmax,o=this.ymax;break;case 10:e=8;continue;case 8:e=9,n=this.xmin,o=this.ymax;break;case 9:e=1;continue;case 1:e=5,n=this.xmin,o=this.ymin}i[r]===n&&i[r+1]===o||!this.contains(t,n,o)||(i.splice(r,0,n,o),r+=2)}if(i.length>4)for(let t=0;t<i.length;t+=2){const e=(t+2)%i.length,n=(t+4)%i.length;(i[t]===i[e]&&i[e]===i[n]||i[t+1]===i[e+1]&&i[e+1]===i[n+1])&&(i.splice(e,2),t-=2)}return r}_project(t,e,n,i){let r,o,s,a=1/0;if(i<0){if(e<=this.ymin)return null;(r=(this.ymin-e)/i)<a&&(s=this.ymin,o=t+(a=r)*n)}else if(i>0){if(e>=this.ymax)return null;(r=(this.ymax-e)/i)<a&&(s=this.ymax,o=t+(a=r)*n)}if(n>0){if(t>=this.xmax)return null;(r=(this.xmax-t)/n)<a&&(o=this.xmax,s=e+(a=r)*i)}else if(n<0){if(t<=this.xmin)return null;(r=(this.xmin-t)/n)<a&&(o=this.xmin,s=e+(a=r)*i)}return[o,s]}_edgecode(t,e){return(t===this.xmin?1:t===this.xmax?2:0)|(e===this.ymin?4:e===this.ymax?8:0)}_regioncode(t,e){return(t<this.xmin?1:t>this.xmax?2:0)|(e<this.ymin?4:e>this.ymax?8:0)}}const ao=2*Math.PI,lo=Math.pow;function co(t){return t[0]}function uo(t){return t[1]}function ho(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}class fo{static from(t,e=co,n=uo,i){return new fo("length"in t?function(t,e,n,i){const r=t.length,o=new Float64Array(2*r);for(let s=0;s<r;++s){const r=t[s];o[2*s]=e.call(i,r,s,t),o[2*s+1]=n.call(i,r,s,t)}return o}(t,e,n,i):Float64Array.from(function*(t,e,n,i){let r=0;for(const o of t)yield e.call(i,o,r,t),yield n.call(i,o,r,t),++r}(t,e,n,i)))}constructor(t){this._delaunator=new Xr(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,e=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:e,coords:n}=t;for(let t=0;t<e.length;t+=3){const i=2*e[t],r=2*e[t+1],o=2*e[t+2];if((n[o]-n[i])*(n[r+1]-n[i+1])-(n[r]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:e.length/2},((t,e)=>e)).sort(((t,n)=>e[2*t]-e[2*n]||e[2*t+1]-e[2*n+1]));const t=this.collinear[0],n=this.collinear[this.collinear.length-1],i=[e[2*t],e[2*t+1],e[2*n],e[2*n+1]],r=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]);for(let t=0,n=e.length/2;t<n;++t){const n=ho(e[2*t],e[2*t+1],r);e[2*t]=n[0],e[2*t+1]=n[1]}this._delaunator=new Xr(e)}else delete this.collinear;const n=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,r=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),s=this._hullIndex.fill(-1);for(let t=0,e=n.length;t<e;++t){const e=r[t%3==2?t-2:t+1];-1!==n[t]&&-1!==o[e]||(o[e]=t)}for(let t=0,e=i.length;t<e;++t)s[i[t]]=t;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],this.triangles[1]=i[1],this.triangles[2]=i[1],o[i[0]]=1,2===i.length&&(o[i[1]]=0))}voronoi(t){return new so(this,t)}*neighbors(t){const{inedges:e,hull:n,_hullIndex:i,halfedges:r,triangles:o,collinear:s}=this;if(s){const e=s.indexOf(t);return e>0&&(yield s[e-1]),void(e<s.length-1&&(yield s[e+1]))}const a=e[t];if(-1===a)return;let l=a,c=-1;do{if(yield c=o[l],l=l%3==2?l-2:l+1,o[l]!==t)return;if(l=r[l],-1===l){const e=n[(i[t]+1)%n.length];return void(e!==c&&(yield e))}}while(l!==a)}find(t,e,n=0){if((t=+t)!=t||(e=+e)!=e)return-1;const i=n;let r;for(;(r=this._step(n,t,e))>=0&&r!==n&&r!==i;)n=r;return r}_step(t,e,n){const{inedges:i,hull:r,_hullIndex:o,halfedges:s,triangles:a,points:l}=this;if(-1===i[t]||!l.length)return(t+1)%(l.length>>1);let c=t,u=lo(e-l[2*t],2)+lo(n-l[2*t+1],2);const h=i[t];let f=h;do{let i=a[f];const h=lo(e-l[2*i],2)+lo(n-l[2*i+1],2);if(h<u&&(u=h,c=i),f=f%3==2?f-2:f+1,a[f]!==t)break;if(f=s[f],-1===f){if(f=r[(o[t]+1)%r.length],f!==i&&lo(e-l[2*f],2)+lo(n-l[2*f+1],2)<u)return f;break}}while(f!==h);return c}render(t){const e=null==t?t=new ro:void 0,{points:n,halfedges:i,triangles:r}=this;for(let e=0,o=i.length;e<o;++e){const o=i[e];if(o<e)continue;const s=2*r[e],a=2*r[o];t.moveTo(n[s],n[s+1]),t.lineTo(n[a],n[a+1])}return this.renderHull(t),e&&e.value()}renderPoints(t,e=2){const n=null==t?t=new ro:void 0,{points:i}=this;for(let n=0,r=i.length;n<r;n+=2){const r=i[n],o=i[n+1];t.moveTo(r+e,o),t.arc(r,o,e,0,ao)}return n&&n.value()}renderHull(t){const e=null==t?t=new ro:void 0,{hull:n,points:i}=this,r=2*n[0],o=n.length;t.moveTo(i[r],i[r+1]);for(let e=1;e<o;++e){const r=2*n[e];t.lineTo(i[r],i[r+1])}return t.closePath(),e&&e.value()}hullPolygon(){const t=new oo;return this.renderHull(t),t.value()}renderTriangle(t,e){const n=null==e?e=new ro:void 0,{points:i,triangles:r}=this,o=2*r[t*=3],s=2*r[t+1],a=2*r[t+2];return e.moveTo(i[o],i[o+1]),e.lineTo(i[s],i[s+1]),e.lineTo(i[a],i[a+1]),e.closePath(),n&&n.value()}*trianglePolygons(){const{triangles:t}=this;for(let e=0,n=t.length/3;e<n;++e)yield this.trianglePolygon(e)}trianglePolygon(t){const e=new oo;return this.renderTriangle(t,e),e.value()}}function go(t,e,n){const i=t.slice();return i[22]=e[n],i[24]=n,i}function po(t){let e,n,i,r;return{c(){e=A("path"),E(e,"class","voronoi-cell svelte-1cph9ws"),E(e,"d",n=t[0].renderCell(t[24]))},m(n,o){M(n,e,o),i||(r=[z(e,"click",(function(){s(t[7](t[22]))&&t[7](t[22]).apply(this,arguments)})),z(e,"mouseenter",(function(){s(t[8](t[22]))&&t[8](t[22]).apply(this,arguments)})),z(e,"mouseout",t[9]),z(e,"touchstart",(function(){s(t[10](t[22]))&&t[10](t[22]).apply(this,arguments)})),z(e,"touchstart",(function(){s(t[11](t[22]))&&t[11](t[22]).apply(this,arguments)}))],i=!0)},p(i,r){t=i,1&r&&n!==(n=t[0].renderCell(t[24]))&&E(e,"d",n)},d(t){t&&N(e),i=!1,o(r)}}}function yo(e){let n,i=e[1],r=[];for(let t=0;t<i.length;t+=1)r[t]=po(go(e,i,t));return{c(){n=A("g");for(let t=0;t<r.length;t+=1)r[t].c();E(n,"class","voronoi")},m(t,e){M(t,n,e);for(let t=0;t<r.length;t+=1)r[t].m(n,null)},p(t,[e]){if(3971&e){let o;for(i=t[1],o=0;o<i.length;o+=1){const s=go(t,i,o);r[o]?r[o].p(s,e):(r[o]=po(s),r[o].c(),r[o].m(n,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=i.length}},i:t,o:t,d(t){t&&N(n),T(r,t)}}}function mo(t,e,n){let i,r,o,s,a,l,c,h;const{data:f,xGet:d,yGet:g,width:p,height:y}=J("LayerCake");u(t,f,(t=>n(18,h=t))),u(t,d,(t=>n(17,c=t))),u(t,g,(t=>n(16,l=t))),u(t,p,(t=>n(15,a=t))),u(t,y,(t=>n(14,s=t)));const m=K();let x,{calculatedPoints:$}=e,v=!1;return t.$$set=t=>{"calculatedPoints"in t&&n(12,$=t.calculatedPoints)},t.$$.update=()=>{462848&t.$$.dirty&&n(13,i=$||h.map((t=>{const e=[c(t),l(t)];return e.data=t,e}))),8192&t.$$.dirty&&n(1,r=Yn(i,(t=>t.join()),!1)),57344&t.$$.dirty&&n(0,o=fo.from(i).voronoi([-80,0,a,s]))},[o,r,f,d,g,p,y,function(t){a>200&&m("clickData",t.data)},function(t){!function(t){let e=document.getElementsByClassName("overlay");for(let t=0;t<e.length;t++)e[t].classList.add("deselected");console.log("circle"+t.data.data.q_num);let n=document.getElementsByClassName("circle"+t.data.data.q_num);for(let t=0;t<n.length;t++)n[t].classList.remove("deselected"),n[t].classList.add("selected")}(t),m("tooltipData",t)},function(){!function(){let t=document.getElementsByClassName("overlay");for(let e=0;e<t.length;e++)t[e].classList.remove("selected"),t[e].classList.remove("deselected")}(),m("tooltipData",void 0)},function(t){if(!v)return v=!0,setTimeout((function(){v=!1}),300),!1;event.preventDefault(),a<=600&&m("clickData",t.data)},function(t){x=x===t.data.cat?t=void 0:t.data.cat,m("tooltipData",t)},$,i,s,a,l,c,h]}class xo extends kt{constructor(t){super(),bt(this,t,mo,yo,a,{calculatedPoints:12})}}function $o(t,e,n){const i=t.slice();return i[13]=e[n],i}function vo(t){let e,n,i=(t[2]?t[13]+": "+t[0].data.data[t[13]]+"%":null)+"";return{c(){e=D("p"),n=C(i),E(e,"class","tooltip-text svelte-1586no2")},m(t,i){M(t,e,i),b(e,n)},p(t,e){5&e&&i!==(i=(t[2]?t[13]+": "+t[0].data.data[t[13]]+"%":null)+"")&&R(n,i)},d(t){t&&N(e)}}}function wo(e){let n,i,r,o,s,a=(e[2]?e[0].data.key:null)+"",l=["Upper class","Middle class","Working class"],c=[];for(let t=0;t<3;t+=1)c[t]=vo($o(e,l,t));return{c(){n=D("div"),i=D("p"),r=C(a),o=S();for(let t=0;t<3;t+=1)c[t].c();E(i,"class","tooltip-title svelte-1586no2"),j(i,"color",e[2]?e[6](e[0].data.key):null),E(n,"class","tooltip svelte-1586no2"),j(n,"display",e[2]?"":"none"),j(n,"left",e[4]+"px"),j(n,"top",e[3]+"px"),j(n,"border","1px solid "+(e[2]?e[6](e[0].data.key):null)),it((()=>e[9].call(n)))},m(t,a){M(t,n,a),b(n,i),b(i,r),b(n,o);for(let t=0;t<3;t+=1)c[t].m(n,null);s=O(n,e[9].bind(n))},p(t,[e]){if(5&e&&a!==(a=(t[2]?t[0].data.key:null)+"")&&R(r,a),5&e&&j(i,"color",t[2]?t[6](t[0].data.key):null),5&e){let i;for(l=["Upper class","Middle class","Working class"],i=0;i<3;i+=1){const r=$o(t,l,i);c[i]?c[i].p(r,e):(c[i]=vo(r),c[i].c(),c[i].m(n,null))}for(;i<3;i+=1)c[i].d(1)}4&e&&j(n,"display",t[2]?"":"none"),16&e&&j(n,"left",t[4]+"px"),8&e&&j(n,"top",t[3]+"px"),5&e&&j(n,"border","1px solid "+(t[2]?t[6](t[0].data.key):null))},i:t,o:t,d(t){t&&N(n),T(c,t),s()}}}function bo(t,e,n){let i,r,o;const{width:s,height:a,custom:l}=J("LayerCake");u(t,s,(t=>n(8,o=t)));let{tooltipDatum:c}=e,{colors:h="grey"}=e;let f,d=!1;return t.$$set=t=>{"tooltipDatum"in t&&n(0,c=t.tooltipDatum),"colors"in t&&n(7,h=t.colors)},t.$$.update=()=>{1&t.$$.dirty&&n(2,d=!!c),261&t.$$.dirty&&n(4,i=d?c.coordinates[0]+48>o?o-96-5:c.coordinates[0]-48<0?0:c.coordinates[0]-48:0),7&t.$$.dirty&&n(3,r=d?c.coordinates[1]-1.4*f:0)},[c,f,d,r,i,s,t=>"function"==typeof h?h(t):h,h,o,function(){f=this.clientHeight,n(1,f)}]}class ko extends kt{constructor(t){super(),bt(this,t,bo,wo,a,{tooltipDatum:0,colors:7})}}function _o(t){let e,n;return e=new qi({props:{formatTick:t[1].formatTickY,ticks:t[1].yTicks,suffix:t[1].ySuffix,label:"beeswarm"===t[0].type?t[1].yLabel:null}}),{c(){xt(e.$$.fragment)},m(t,i){$t(e,t,i),n=!0},p(t,n){const i={};2&n&&(i.formatTick=t[1].formatTickY),2&n&&(i.ticks=t[1].yTicks),2&n&&(i.suffix=t[1].ySuffix),3&n&&(i.label="beeswarm"===t[0].type?t[1].yLabel:null),e.$set(i)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){vt(e,t)}}}function Mo(t){let e,n;return e=new Mi({props:{formatTick:t[1].formatTickX,ticks:t[1].xTicks,suffix:t[1].xSuffix,gridlines:!1,position:"top"}}),{c(){xt(e.$$.fragment)},m(t,i){$t(e,t,i),n=!0},p(t,n){const i={};2&n&&(i.formatTick=t[1].formatTickX),2&n&&(i.ticks=t[1].xTicks),2&n&&(i.suffix=t[1].xSuffix),e.$set(i)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){vt(e,t)}}}function No(t){let e,n;return e=new Oi({props:{colors:t[0].colors,tweenDuration:t[0].tweenDuration}}),{c(){xt(e.$$.fragment)},m(t,i){$t(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.colors=t[0].colors),1&n&&(i.tweenDuration=t[0].tweenDuration),e.$set(i)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){vt(e,t)}}}function To(t){let e,n,i,r,o,s;return e=new Yi({props:{calculatedPoints:t[4]}}),i=new Wr({props:{colors:t[0].colors,radius:t[3].radius,selectedDatum:t[5]}}),i.$on("clickData",t[13]),i.$on("simulationPoints",t[11]),i.$on("sendDatum",t[12]),o=new xo({props:{calculatedPoints:t[4]}}),o.$on("tooltipData",t[12]),o.$on("clickData",t[13]),{c(){xt(e.$$.fragment),n=S(),xt(i.$$.fragment),r=S(),xt(o.$$.fragment)},m(t,a){$t(e,t,a),M(t,n,a),$t(i,t,a),M(t,r,a),$t(o,t,a),s=!0},p(t,n){const r={};16&n&&(r.calculatedPoints=t[4]),e.$set(r);const s={};1&n&&(s.colors=t[0].colors),8&n&&(s.radius=t[3].radius),32&n&&(s.selectedDatum=t[5]),i.$set(s);const a={};16&n&&(a.calculatedPoints=t[4]),o.$set(a)},i(t){s||(gt(e.$$.fragment,t),gt(i.$$.fragment,t),gt(o.$$.fragment,t),s=!0)},o(t){pt(e.$$.fragment,t),pt(i.$$.fragment,t),pt(o.$$.fragment,t),s=!1},d(t){vt(e,t),t&&N(n),vt(i,t),t&&N(r),vt(o,t)}}}function Do(t){let e,n;return e=new Hr({props:{colors:t[0].colors}}),{c(){xt(e.$$.fragment)},m(t,i){$t(e,t,i),n=!0},p(t,n){const i={};1&n&&(i.colors=t[0].colors),e.$set(i)},i(t){n||(gt(e.$$.fragment,t),n=!0)},o(t){pt(e.$$.fragment,t),n=!1},d(t){vt(e,t)}}}function Ao(t){let e,n,i,r,o,s,a,l,c;const u=[Mo,_o],h=[];function f(t,e){return"cleveland"===t[0].type?0:1}e=f(t),n=h[e]=u[e](t),r=new Mi({props:{formatTick:t[1].formatTickX,ticks:t[1].xTicks,suffix:t[1].xSuffix,gridlines:t[16]}});let d="cleveland"===t[0].type&&No(t),g="beeswarm"===t[0].type&&To(t),p="scatter"===t[0].type&&Do(t);return{c(){n.c(),i=S(),xt(r.$$.fragment),o=S(),d&&d.c(),s=S(),g&&g.c(),a=S(),p&&p.c(),l=q()},m(t,n){h[e].m(t,n),M(t,i,n),$t(r,t,n),M(t,o,n),d&&d.m(t,n),M(t,s,n),g&&g.m(t,n),M(t,a,n),p&&p.m(t,n),M(t,l,n),c=!0},p(t,o){let c=e;e=f(t),e===c?h[e].p(t,o):(ft(),pt(h[c],1,1,(()=>{h[c]=null})),dt(),n=h[e],n?n.p(t,o):(n=h[e]=u[e](t),n.c()),gt(n,1),n.m(i.parentNode,i));const y={};2&o&&(y.formatTick=t[1].formatTickX),2&o&&(y.ticks=t[1].xTicks),2&o&&(y.suffix=t[1].xSuffix),r.$set(y),"cleveland"===t[0].type?d?(d.p(t,o),1&o&&gt(d,1)):(d=No(t),d.c(),gt(d,1),d.m(s.parentNode,s)):d&&(ft(),pt(d,1,1,(()=>{d=null})),dt()),"beeswarm"===t[0].type?g?(g.p(t,o),1&o&&gt(g,1)):(g=To(t),g.c(),gt(g,1),g.m(a.parentNode,a)):g&&(ft(),pt(g,1,1,(()=>{g=null})),dt()),"scatter"===t[0].type?p?(p.p(t,o),1&o&&gt(p,1)):(p=Do(t),p.c(),gt(p,1),p.m(l.parentNode,l)):p&&(ft(),pt(p,1,1,(()=>{p=null})),dt())},i(t){c||(gt(n),gt(r.$$.fragment,t),gt(d),gt(g),gt(p),c=!0)},o(t){pt(n),pt(r.$$.fragment,t),pt(d),pt(g),pt(p),c=!1},d(t){h[e].d(t),t&&N(i),vt(r,t),t&&N(o),d&&d.d(t),t&&N(s),g&&g.d(t),t&&N(a),p&&p.d(t),t&&N(l)}}}function Co(t){let e,n,i,r;return e=new Bn({props:{$$slots:{default:[Ao]},$$scope:{ctx:t}}}),i=new ko({props:{tooltipDatum:t[5],colors:t[0].colors}}),{c(){xt(e.$$.fragment),n=S(),xt(i.$$.fragment)},m(t,o){$t(e,t,o),M(t,n,o),$t(i,t,o),r=!0},p(t,n){const r={};536870971&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r);const o={};32&n&&(o.tooltipDatum=t[5]),1&n&&(o.colors=t[0].colors),i.$set(o)},i(t){r||(gt(e.$$.fragment,t),gt(i.$$.fragment,t),r=!0)},o(t){pt(e.$$.fragment,t),pt(i.$$.fragment,t),r=!1},d(t){vt(e,t),t&&N(n),vt(i,t)}}}function So(t){let e,n,i,r,s;return n=new Ln({props:{padding:t[0].padding,x:"value",y:"key",xDomain:t[2].x,yDomain:"beeswarm"===t[0].type?t[2].y:t[6].y,yScale:t[9](),data:t[7],custom:{key:t[8]},$$slots:{default:[Co]},$$scope:{ctx:t}}}),{c(){e=D("div"),xt(n.$$.fragment),E(e,"class","chart-container")},m(o,a){M(o,e,a),$t(n,e,null),i=!0,r||(s=[z(e,"mousemove",t[10]),z(e,"mouseout",t[20])],r=!0)},p(t,[e]){const i={};1&e&&(i.padding=t[0].padding),4&e&&(i.xDomain=t[2].x),69&e&&(i.yDomain="beeswarm"===t[0].type?t[2].y:t[6].y),128&e&&(i.data=t[7]),536870971&e&&(i.$$scope={dirty:e,ctx:t}),n.$set(i)},i(t){i||(gt(n.$$.fragment,t),i=!0)},o(t){pt(n.$$.fragment,t),i=!1},d(t){t&&N(e),vt(n),r=!1,o(s)}}}function qo(t,e,n){let i,r,{processedConfig:o}=e,{slotID:s}=e,a=o.dataConfig,l=o.chartConfig,c=o.axisConfig,h=isNaN(s)||"shared"===o.dataConfig.scale?o.parentExtents:o.parentExtents[s],f=isNaN(s)?o.formattedData:o.formattedData[s],d=o.key;const g=K();let p,y,m;const x={y:t=>t.key,x:t=>t.value},$={duration:"number"==typeof l.tweenDuration?l.tweenDuration:1e3,easing:gi,interpolate:ii},v={duration:"number"==typeof l.tweenDuration?l.tweenDuration:1e3,easing:gi,interpolate:ni};const w=mi(p,$);u(t,w,(t=>n(6,i=t)));const b=mi(f,v);u(t,b,(t=>n(7,r=t)));let k="cleveland"===l.type;return t.$$set=t=>{"processedConfig"in t&&n(17,o=t.processedConfig),"slotID"in t&&n(18,s=t.slotID)},t.$$.update=()=>{var e;131072&t.$$.dirty&&(n(3,a=o.dataConfig),n(0,l=o.chartConfig),n(1,c=o.axisConfig),h=isNaN(s)||"shared"===o.dataConfig.scale?o.parentExtents:o.parentExtents[s],n(19,f=isNaN(s)?o.formattedData:o.formattedData[s])),524290&t.$$.dirty&&(n(1,c),n(19,f)),524289&t.$$.dirty&&(n(0,l),n(19,f)),524288&t.$$.dirty&&(e=f,"beeswarm"===l.type&&c.xDomain?n(2,p={x:c.xDomain,y:[]}):(n(2,p=Pt(e,x)),n(2,p.y=ei(f.map((t=>t.key)),void 0,"asc"),p),h&&(n(2,p.y=h.key,p),n(2,p.x=h.value,p)),c.xDomain&&n(2,p.x=c.xDomain,p),c.yDomain&&n(2,p.y=c.yDomain,p),n(2,p.x[0]="number"==typeof p.x[0]&&p.x[0]>0?0:p.x[0],p),n(2,p.x[1]="number"==typeof p.x[1]&&p.x[1]<0?0:p.x[1],p),n(2,p.y[0]="number"==typeof p.y[0]&&p.y[0]>0?0:p.y[0],p),n(2,p.y[1]="number"==typeof p.y[1]&&p.y[1]<0?0:p.y[1],p),"cleveland"===l.type&&p.y.sort(((t,e)=>{const n=f.filter((e=>e.key===t)).reduce(((t,e)=>Math.abs(t-e.value)),0);return f.filter((t=>t.key===e)).reduce(((t,e)=>Math.abs(t-e.value)),0)-n})))),4&t.$$.dirty&&w.set(p),524288&t.$$.dirty&&b.set(f)},[l,c,p,a,y,m,i,r,d,function(){return"cleveland"===l.type?Jt().paddingInner([l.paddingInner]).round(!0):void 0},function(t){const e=t.srcElement.getBoundingClientRect();t.clientX,e.left,l.padding.left,t.clientY,e.top,l.padding.top},function(t){n(4,y=t.detail),n(4,y=y.map((t=>{const e=[t.x,t.y];return e.data=t.data,e})))},function(t){n(5,m=t.detail?{coordinates:t.detail,data:t.detail.data}:null)},function(t){g("sendClickData",t.detail)},w,b,k,o,s,f,()=>n(5,m=void 0)]}class zo extends kt{constructor(t){super(),bt(this,t,qo,So,a,{processedConfig:17,slotID:18})}}function Eo(t,e,n){const i=t.slice();return i[30]=e[n],i}function Po(t,e,n){const i=t.slice();return i[34]=e[n],i[35]=e,i[36]=n,i}function Ro(t,e,n){const i=t.slice();return i[37]=e[n],i[39]=n,i}function jo(t){let e,n,i,r,o,s,a,l,c,u=t[37]+"";function h(){t[9].call(n,t[36])}return t[10][0][t[36]]=[],{c(){e=D("div"),n=D("input"),i=S(),r=D("label"),o=C(u),a=S(),E(n,"id","q"+t[36]+"a"+t[39]),E(n,"name","q"+t[36]),E(n,"type","radio"),n.__value=t[37],n.value=n.__value,t[10][0][t[36]].push(n),E(r,"for",s="q"+t[36]+"a"+t[39]),E(e,"class","radio-cell centred svelte-1ma0hbp")},m(s,u){M(s,e,u),b(e,n),n.checked=n.__value===t[0][t[36]],b(e,i),b(e,r),b(r,o),b(e,a),l||(c=z(n,"change",h),l=!0)},p(e,i){t=e,1&i[0]&&(n.checked=n.__value===t[0][t[36]])},d(i){i&&N(e),t[10][0][t[36]].splice(t[10][0][t[36]].indexOf(n),1),l=!1,c()}}}function Lo(t){let e,n,i=t[0][t[36]]==Nt[t[36]].Max||"Lenny Henry"==Nt[t[36]].question&&"Middle class"==t[0][t[36]]?'✔️ That\'s the most common answer.<br><span class="bold"> '+Nt[t[36]][t[0][t[36]]]+"%</span> of the public agreed with you.":'❌ Only <span class="bold">'+Nt[t[36]][t[0][t[36]]]+'%</span> of the public agreed with you.<br><span class="bold"> '+Nt[t[36]][Nt[t[36]].Max]+"%</span> consider them "+Nt[t[36]].Max.toLowerCase()+".";return{c(){e=D("div"),n=D("p"),E(n,"class","response svelte-1ma0hbp")},m(t,r){M(t,e,r),b(e,n),n.innerHTML=i},p(t,e){1&e[0]&&i!==(i=t[0][t[36]]==Nt[t[36]].Max||"Lenny Henry"==Nt[t[36]].question&&"Middle class"==t[0][t[36]]?'✔️ That\'s the most common answer.<br><span class="bold"> '+Nt[t[36]][t[0][t[36]]]+"%</span> of the public agreed with you.":'❌ Only <span class="bold">'+Nt[t[36]][t[0][t[36]]]+'%</span> of the public agreed with you.<br><span class="bold"> '+Nt[t[36]][Nt[t[36]].Max]+"%</span> consider them "+Nt[t[36]].Max.toLowerCase()+".")&&(n.innerHTML=i)},d(t){t&&N(e)}}}function Wo(t){let e,n,i,r,o,s,a,c,u,h,f,d,g=t[34].question+"",p=t[6],y=[];for(let e=0;e<p.length;e+=1)y[e]=jo(Ro(t,p,e));let m=""!=t[0][t[36]]&&Lo(t);return{c(){e=D("fieldset"),n=D("legend"),i=D("img"),s=S(),a=C(g),c=S(),u=D("div");for(let t=0;t<y.length;t+=1)y[t].c();var p,x;h=S(),m&&m.c(),E(i,"class","mugshot svelte-1ma0hbp"),p=i.src,x=r="./img/"+t[34].question+".jpg",l||(l=document.createElement("a")),l.href=x,p!==l.href&&E(i,"src",r),E(i,"alt",o=t[34].question),E(i,"width","20px"),E(n,"class","centred svelte-1ma0hbp"),E(u,"class","centred radio-cell-container svelte-1ma0hbp"),E(e,"aria-hidden",f=t[36]>=t[1]&&t[36]<t[1]+Fo&&!t[2]?"false":"true"),E(e,"style",d=t[36]>=t[1]&&t[36]<t[1]+Fo&&!t[2]?"display: block":"display: none"),E(e,"class","svelte-1ma0hbp")},m(t,r){M(t,e,r),b(e,n),b(n,i),b(n,s),b(n,a),b(e,c),b(e,u);for(let t=0;t<y.length;t+=1)y[t].m(u,null);b(e,h),m&&m.m(e,null)},p(t,n){if(65&n[0]){let e;for(p=t[6],e=0;e<p.length;e+=1){const i=Ro(t,p,e);y[e]?y[e].p(i,n):(y[e]=jo(i),y[e].c(),y[e].m(u,null))}for(;e<y.length;e+=1)y[e].d(1);y.length=p.length}""!=t[0][t[36]]?m?m.p(t,n):(m=Lo(t),m.c(),m.m(e,null)):m&&(m.d(1),m=null),6&n[0]&&f!==(f=t[36]>=t[1]&&t[36]<t[1]+Fo&&!t[2]?"false":"true")&&E(e,"aria-hidden",f),6&n[0]&&d!==(d=t[36]>=t[1]&&t[36]<t[1]+Fo&&!t[2]?"display: block":"display: none")&&E(e,"style",d)},d(t){t&&N(e),T(y,t),m&&m.d()}}}function Oo(t){let e,n,i;return e=new zo({props:{processedConfig:t[33]}}),e.$on("sendClickData",t[7]),{c(){xt(e.$$.fragment),n=S()},m(t,r){$t(e,t,r),M(t,n,r),i=!0},p(t,n){const i={};4&n[1]&&(i.processedConfig=t[33]),e.$set(i)},i(t){i||(gt(e.$$.fragment,t),i=!0)},o(t){pt(e.$$.fragment,t),i=!1},d(t){vt(e,t),t&&N(n)}}}function Uo(t){let e,n,i,r,o,s,a,l=t[30].toLowerCase()+"";return s=new di({props:{defaultConfig:Mt,data:t[3],key:t[30],$$slots:{default:[Oo,({processedConfig:t})=>({33:t}),({processedConfig:t})=>[0,t?4:0]]},$$scope:{ctx:t}}}),{c(){e=D("h4"),n=C("Percentage of people who view them as "),i=D("span"),r=C(l),o=S(),xt(s.$$.fragment),E(i,"class","bold"),E(e,"class","svelte-1ma0hbp")},m(t,l){M(t,e,l),b(e,n),b(e,i),b(i,r),M(t,o,l),$t(s,t,l),a=!0},p(t,e){const n={};8&e[0]&&(n.data=t[3]),516&e[1]&&(n.$$scope={dirty:e,ctx:t}),s.$set(n)},i(t){a||(gt(s.$$.fragment,t),a=!0)},o(t){pt(s.$$.fragment,t),a=!1},d(t){t&&N(e),t&&N(o),vt(s,t)}}}function Io(t){let e,n,i,r,o,s,a,l,c,u,h,f,d,g,p,y,m,x,$,v,w,k,_,A,q,z,P,L,W,O,U=(0==Ho(t[0])?0:Math.round(t[4](t[0])/Ho(t[0])*100))+"",I=t[4](t[0])+"",F=Ho(t[0])+"",H=1==Ho(t[0])?"celebrity":"celebrities",B=Nt,Y=[];for(let e=0;e<B.length;e+=1)Y[e]=Wo(Po(t,B,e));z=new At({props:{pageSize:Fo,dataSize:t[5].length,resultsAreDisplayed:t[2]}}),z.$on("showResults",t[8]),z.$on("updatePage",t[11]);let X=["Upper class","Middle class","Working class"],G=[];for(let e=0;e<3;e+=1)G[e]=Uo(Eo(t,X,e));const K=t=>pt(G[t],1,1,(()=>{G[t]=null}));return{c(){e=D("link"),n=S(),i=D("div"),r=D("div"),o=D("h3"),o.textContent="Which class do you think these celebrities are in?",s=S(),a=D("div");for(let t=0;t<Y.length;t+=1)Y[t].c();l=S(),c=D("div"),u=D("h3"),h=C(U),f=C("%"),d=S(),g=D("h4"),p=C("You agree with the British public on the class of "),y=D("span"),m=C(I),x=C(" out of "),$=C(F),v=S(),w=C(H),q=S(),xt(z.$$.fragment),P=S();for(let t=0;t<3;t+=1)G[t].c();L=S(),W=D("div"),W.textContent="Source: Redfield & Wilton Strategies for the New Statesman/Photos from Getty Images",E(e,"href","https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700&display=swap"),E(e,"rel","stylesheet"),j(u,"padding-top","25px"),E(y,"class","bold"),E(g,"class","svelte-1ma0hbp"),E(c,"aria-hidden",k=!t[2]),E(c,"style",_=t[2]?"display: block":"display: none"),E(a,"class",A="question-panel block-"+t[1]+" svelte-1ma0hbp"),E(r,"class","questions"),E(i,"class","embed-container svelte-1ma0hbp")},m(t,k){b(document.head,e),M(t,n,k),M(t,i,k),b(i,r),b(r,o),b(r,s),b(r,a);for(let t=0;t<Y.length;t+=1)Y[t].m(a,null);b(a,l),b(a,c),b(c,u),b(u,h),b(u,f),b(c,d),b(c,g),b(g,p),b(g,y),b(y,m),b(y,x),b(y,$),b(y,v),b(y,w),b(r,q),$t(z,r,null),b(i,P);for(let t=0;t<3;t+=1)G[t].m(i,null);b(i,L),b(i,W),O=!0},p(t,e){if(71&e[0]){let n;for(B=Nt,n=0;n<B.length;n+=1){const i=Po(t,B,n);Y[n]?Y[n].p(i,e):(Y[n]=Wo(i),Y[n].c(),Y[n].m(a,l))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=B.length}(!O||1&e[0])&&U!==(U=(0==Ho(t[0])?0:Math.round(t[4](t[0])/Ho(t[0])*100))+"")&&R(h,U),(!O||1&e[0])&&I!==(I=t[4](t[0])+"")&&R(m,I),(!O||1&e[0])&&F!==(F=Ho(t[0])+"")&&R($,F),(!O||1&e[0])&&H!==(H=1==Ho(t[0])?"celebrity":"celebrities")&&R(w,H),(!O||4&e[0]&&k!==(k=!t[2]))&&E(c,"aria-hidden",k),(!O||4&e[0]&&_!==(_=t[2]?"display: block":"display: none"))&&E(c,"style",_),(!O||2&e[0]&&A!==(A="question-panel block-"+t[1]+" svelte-1ma0hbp"))&&E(a,"class",A);const n={};if(4&e[0]&&(n.resultsAreDisplayed=t[2]),z.$set(n),136&e[0]|4&e[1]){let n;for(X=["Upper class","Middle class","Working class"],n=0;n<3;n+=1){const r=Eo(t,X,n);G[n]?(G[n].p(r,e),gt(G[n],1)):(G[n]=Uo(r),G[n].c(),gt(G[n],1),G[n].m(i,L))}for(ft(),n=3;n<3;n+=1)K(n);dt()}},i(t){if(!O){gt(z.$$.fragment,t);for(let t=0;t<3;t+=1)gt(G[t]);O=!0}},o(t){pt(z.$$.fragment,t),G=G.filter(Boolean);for(let t=0;t<3;t+=1)pt(G[t]);O=!1},d(t){N(e),t&&N(n),t&&N(i),T(Y,t),vt(z),T(G,t)}}}let Fo=1;function Ho(t){let e=0;return t.forEach(((t,n)=>{""!=t&&e++})),e}function Bo(t,e,n){var i;i=()=>{window.pymChild.sendHeight()},G().$$.on_mount.push(i);new URLSearchParams(window.location.search).get("d");let r=Array.from(new Set(Nt.map((t=>t.q_num)))),o=Nt.map((t=>t.Max));Nt.filter((t=>""!==t.question)),r.map((t=>Nt.filter((e=>e.q_num===t))));let s=r.map((t=>""));Ho(s);let a,l=0,c=!1;let u=[];return t.$$.update=()=>{1&t.$$.dirty[0]&&function(){let t=[];s.forEach(((e,n)=>{""!=e&&t.push(Nt[n])})),n(3,u=t),console.log(Nt),console.log(u)}()},[s,l,c,u,function(t){let e=0;return t.forEach(((n,i)=>{(n==o[i]||"Lenny Henry"==Nt[i].question&&"Middle class"==t[i])&&e++})),e},r,["Working class","Middle class","Upper class"],function(t){console.log(t),a=t.detail.key,Nt.filter((t=>t.question===a))},function(){n(3,u=Nt),n(2,c=!0)},function(t){s[t]=this.__value,n(0,s)},[[]],t=>n(1,l=t.detail)]}return new class extends kt{constructor(t){super(),bt(this,t,Bo,Io,a,{},null,[-1,-1])}}({target:document.body,props:{}})}();
